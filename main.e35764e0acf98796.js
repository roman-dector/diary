(self.webpackChunkdiary=self.webpackChunkdiary||[]).push([[179],{6304:(gt,Ie,R)=>{"use strict";R.d(Ie,{Dh:()=>De,GT:()=>ne,cc:()=>ue,hO:()=>Ue,on:()=>$,pX:()=>Q,xv:()=>se});var l=R(8926),L=R(7142),H=R(8186);gt=R.hmd(gt);const X=["ngOnDestroy"],Q=(be,Je,xe,Ce={})=>new Proxy(be,{get:(_e,Be)=>xe.runOutsideAngular(()=>{var je;if(be[Be])return!(null===(je=Ce?.spy)||void 0===je)&&je.get&&Ce.spy.get(Be,be[Be]),be[Be];if(X.indexOf(Be)>-1)return()=>{};const oe=Je.toPromise().then(te=>{const Ve=te&&te[Be];return"function"==typeof Ve?Ve.bind(te):Ve&&Ve.then?Ve.then(et=>xe.run(()=>et)):xe.run(()=>Ve)});return new Proxy(()=>{},{get:(te,Ve)=>oe[Ve],apply:(te,Ve,et)=>oe.then(Yn=>{var zi;const br=Yn&&Yn(...et);return!(null===(zi=Ce?.spy)||void 0===zi)&&zi.apply&&Ce.spy.apply(Be,et,br),br})})})}),ne=(be,Je)=>{Je.forEach(xe=>{Object.getOwnPropertyNames(xe.prototype||xe).forEach(Ce=>{Object.defineProperty(be.prototype,Ce,Object.getOwnPropertyDescriptor(xe.prototype||xe,Ce))})})};class we{constructor(Je){return Je}}const De=new l.OlP("angularfire2.app.options"),se=new l.OlP("angularfire2.app.name");function $(be,Je,xe){const _e="object"==typeof xe&&xe||{};_e.name=_e.name||"string"==typeof xe&&xe||"[DEFAULT]";const je=L.Z.apps.filter(oe=>oe&&oe.name===_e.name)[0]||Je.runOutsideAngular(()=>L.Z.initializeApp(be,_e));try{JSON.stringify(be)!==JSON.stringify(je.options)&&z("error",`${je.name} Firebase App already initialized with different options${gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(je)}const z=(be,...Je)=>{(0,l.X6Q)()&&typeof console<"u"&&console[be](...Je)},ae={provide:we,useFactory:$,deps:[De,l.R0b,[new l.FiY,se]]};let Ue=(()=>{class be{constructor(xe){L.Z.registerVersion("angularfire",H.q4.full,"core"),L.Z.registerVersion("angularfire",H.q4.full,"app-compat"),L.Z.registerVersion("angular",l.q4F.full,xe.toString())}static initializeApp(xe,Ce){return{ngModule:be,providers:[{provide:De,useValue:xe},{provide:se,useValue:Ce}]}}}return be.\u0275fac=function(xe){return new(xe||be)(l.LFG(l.Lbi))},be.\u0275mod=l.oAB({type:be}),be.\u0275inj=l.cJS({providers:[ae]}),be})();function ue(be,Je,xe,Ce,_e){const[,Be,je]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===be)||[];if(Be)return function Xe(be,Je){try{return be.toString()===Je.toString()}catch{return be===Je}}(_e,je)||(Ne("error",`${Je} was already initialized on the ${xe} Firebase App with different settings.${ke?" You may need to reload as Firebase is not HMR aware.":""}`),Ne("warn",{is:_e,was:je})),Be;{const oe=Ce();return globalThis.\u0275AngularfireInstanceCache.push([be,oe,_e]),oe}}const ke=!!gt.hot,Ne=(be,...Je)=>{(0,l.X6Q)()&&typeof console<"u"&&console[be](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(gt,Ie,R)=>{"use strict";R.d(Ie,{q4:()=>Ps,iC:()=>ca,HU:()=>vl,vb:()=>$f,JM:()=>po,u3:()=>sn});var l=R(8926),L=R(3182),H=R(5861),X=R(534),Q=R(9058),ne=R(4537),we=R(7879);const De=(E,S)=>S.some(k=>E instanceof k);let se,$;const Ue=new WeakMap,ue=new WeakMap,Xe=new WeakMap,ke=new WeakMap,Ne=new WeakMap;let xe={get(E,S,k){if(E instanceof IDBTransaction){if("done"===S)return ue.get(E);if("objectStoreNames"===S)return E.objectStoreNames||Xe.get(E);if("store"===S)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return je(E[S])},set:(E,S,k)=>(E[S]=k,!0),has:(E,S)=>E instanceof IDBTransaction&&("done"===S||"store"===S)||S in E};function Be(E){return"function"==typeof E?function _e(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...S){return E.apply(oe(this),S),je(Ue.get(this))}:function(...S){return je(E.apply(oe(this),S))}:function(S,...k){const F=E.call(oe(this),S,...k);return Xe.set(F,S.sort?S.sort():[S]),je(F)}}(E):(E instanceof IDBTransaction&&function Je(E){if(ue.has(E))return;const S=new Promise((k,F)=>{const G=()=>{E.removeEventListener("complete",J),E.removeEventListener("error",ye),E.removeEventListener("abort",ye)},J=()=>{k(),G()},ye=()=>{F(E.error||new DOMException("AbortError","AbortError")),G()};E.addEventListener("complete",J),E.addEventListener("error",ye),E.addEventListener("abort",ye)});ue.set(E,S)}(E),De(E,function z(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,xe):E)}function je(E){if(E instanceof IDBRequest)return function be(E){const S=new Promise((k,F)=>{const G=()=>{E.removeEventListener("success",J),E.removeEventListener("error",ye)},J=()=>{k(je(E.result)),G()},ye=()=>{F(E.error),G()};E.addEventListener("success",J),E.addEventListener("error",ye)});return S.then(k=>{k instanceof IDBCursor&&Ue.set(k,E)}).catch(()=>{}),Ne.set(S,E),S}(E);if(ke.has(E))return ke.get(E);const S=Be(E);return S!==E&&(ke.set(E,S),Ne.set(S,E)),S}const oe=E=>Ne.get(E),et=["get","getKey","getAll","getAllKeys","count"],Yn=["put","add","delete","clear"],zi=new Map;function br(E,S){if(!(E instanceof IDBDatabase)||S in E||"string"!=typeof S)return;if(zi.get(S))return zi.get(S);const k=S.replace(/FromIndex$/,""),F=S!==k,G=Yn.includes(k);if(!(k in(F?IDBIndex:IDBObjectStore).prototype)||!G&&!et.includes(k))return;const J=function(){var ye=(0,H.Z)(function*(tt,...Ke){const pt=this.transaction(tt,G?"readwrite":"readonly");let Rt=pt.store;return F&&(Rt=Rt.index(Ke.shift())),(yield Promise.all([Rt[k](...Ke),G&&pt.done]))[0]});return function(Ke){return ye.apply(this,arguments)}}();return zi.set(S,J),J}!function Ce(E){xe=E(xe)}(E=>({...E,get:(S,k,F)=>br(S,k)||E.get(S,k,F),has:(S,k)=>!!br(S,k)||E.has(S,k)}));const Lr="@firebase/installations",Mn="0.6.4",xo=1e4,qs=`w:${Mn}`,ge="FIS_v2",de="https://firebaseinstallations.googleapis.com/v1",Ae=36e5,yt=new Q.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function on(E){return E instanceof Q.ZR&&E.code.includes("request-failed")}function In({projectId:E}){return`${de}/projects/${E}/installations`}function Nt(E){return{token:E.token,requestStatus:2,expiresIn:qi(E.expiresIn),creationTime:Date.now()}}function Ut(E,S){return wt.apply(this,arguments)}function wt(){return(wt=(0,H.Z)(function*(E,S){const F=(yield S.json()).error;return yt.create("request-failed",{requestName:E,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Tn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Wi(E){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,H.Z)(function*(E){const S=yield E();return S.status>=500&&S.status<600?E():S})).apply(this,arguments)}function qi(E){return Number(E.replace("s","000"))}function Fr(){return(Fr=(0,H.Z)(function*({appConfig:E,heartbeatServiceProvider:S},{fid:k}){const F=In(E),G=Tn(E),J=S.getImmediate({optional:!0});if(J){const pt=yield J.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const tt={method:"POST",headers:G,body:JSON.stringify({fid:k,authVersion:ge,appId:E.appId,sdkVersion:qs})},Ke=yield Wi(()=>fetch(F,tt));if(Ke.ok){const pt=yield Ke.json();return{fid:pt.fid||k,registrationStatus:2,refreshToken:pt.refreshToken,authToken:Nt(pt.authToken)}}throw yield Ut("Create Installation",Ke)})).apply(this,arguments)}function Zs(E){return new Promise(S=>{setTimeout(S,E)})}const ws=/^[cdef][\w-]{21}$/,Ln="";function Wt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const k=function Ht(E){return function bs(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return ws.test(k)?k:Ln}catch{return Ln}}function Hn(E){return`${E.appName}!${E.appId}`}const At=new Map;function Zi(E,S){const k=Hn(E);Do(k,S),function Dn(E,S){const k=function Kt(){return!mn&&"BroadcastChannel"in self&&(mn=new BroadcastChannel("[Firebase] FID Change"),mn.onmessage=E=>{Do(E.data.key,E.data.fid)}),mn}();k&&k.postMessage({key:E,fid:S}),function $l(){0===At.size&&mn&&(mn.close(),mn=null)}()}(k,S)}function Do(E,S){const k=At.get(E);if(k)for(const F of k)F(S)}let mn=null;const Ca="firebase-installations-database",es=1,Ei="firebase-installations-store";let cr=null;function Ki(){return cr||(cr=function te(E,S,{blocked:k,upgrade:F,blocking:G,terminated:J}={}){const ye=indexedDB.open(E,S),tt=je(ye);return F&&ye.addEventListener("upgradeneeded",Ke=>{F(je(ye.result),Ke.oldVersion,Ke.newVersion,je(ye.transaction))}),k&&ye.addEventListener("blocked",()=>k()),tt.then(Ke=>{J&&Ke.addEventListener("close",()=>J()),G&&Ke.addEventListener("versionchange",()=>G())}).catch(()=>{}),tt}(Ca,es,{upgrade:(E,S)=>{0===S&&E.createObjectStore(Ei)}})),cr}function yi(E,S){return ur.apply(this,arguments)}function ur(){return(ur=(0,H.Z)(function*(E,S){const k=Hn(E),G=(yield Ki()).transaction(Ei,"readwrite"),J=G.objectStore(Ei),ye=yield J.get(k);return yield J.put(S,k),yield G.done,(!ye||ye.fid!==S.fid)&&Zi(E,S.fid),S})).apply(this,arguments)}function oi(E){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,H.Z)(function*(E){const S=Hn(E),F=(yield Ki()).transaction(Ei,"readwrite");yield F.objectStore(Ei).delete(S),yield F.done})).apply(this,arguments)}function Vr(E,S){return vi.apply(this,arguments)}function vi(){return(vi=(0,H.Z)(function*(E,S){const k=Hn(E),G=(yield Ki()).transaction(Ei,"readwrite"),J=G.objectStore(Ei),ye=yield J.get(k),tt=S(ye);return void 0===tt?yield J.delete(k):yield J.put(tt,k),yield G.done,tt&&(!ye||ye.fid!==tt.fid)&&Zi(E,tt.fid),tt})).apply(this,arguments)}function W(E){return j.apply(this,arguments)}function j(){return j=(0,H.Z)(function*(E){let S;const k=yield Vr(E.appConfig,F=>{const G=function Y(E){return jn(E||{fid:Wt(),registrationStatus:0})}(F),J=function me(E,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(yt.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},F=function le(E,S){return ct.apply(this,arguments)}(E,k);return{installationEntry:k,registrationPromise:F}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:It(E)}:{installationEntry:S}}(E,G);return S=J.registrationPromise,J.installationEntry});return k.fid===Ln?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}}),j.apply(this,arguments)}function ct(){return ct=(0,H.Z)(function*(E,S){try{const k=yield function Xo(E,S){return Fr.apply(this,arguments)}(E,S);return yi(E.appConfig,k)}catch(k){throw on(k)&&409===k.customData.serverCode?yield oi(E.appConfig):yield yi(E.appConfig,{fid:S.fid,registrationStatus:0}),k}}),ct.apply(this,arguments)}function It(E){return cn.apply(this,arguments)}function cn(){return(cn=(0,H.Z)(function*(E){let S=yield Ci(E.appConfig);for(;1===S.registrationStatus;)yield Zs(100),S=yield Ci(E.appConfig);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:F}=yield W(E);return F||k}return S})).apply(this,arguments)}function Ci(E){return Vr(E,S=>{if(!S)throw yt.create("installation-not-found");return jn(S)})}function jn(E){return function $n(E){return 1===E.registrationStatus&&E.registrationTime+xo<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function zn(){return(zn=(0,H.Z)(function*({appConfig:E,heartbeatServiceProvider:S},k){const F=function ti(E,{fid:S}){return`${In(E)}/${S}/authTokens:generate`}(E,k),G=function Gi(E,{refreshToken:S}){const k=Tn(E);return k.append("Authorization",function lr(E){return`${ge} ${E}`}(S)),k}(E,k),J=S.getImmediate({optional:!0});if(J){const pt=yield J.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const tt={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:qs,appId:E.appId}})},Ke=yield Wi(()=>fetch(F,tt));if(Ke.ok)return Nt(yield Ke.json());throw yield Ut("Generate Auth Token",Ke)})).apply(this,arguments)}function Yt(E){return ts.apply(this,arguments)}function ts(){return ts=(0,H.Z)(function*(E,S=!1){let k;const F=yield Vr(E.appConfig,J=>{if(!jt(J))throw yt.create("not-registered");const ye=J.authToken;if(!S&&function fn(E){return 2===E.requestStatus&&!function si(E){const S=Date.now();return S<E.creationTime||E.creationTime+E.expiresIn<S+Ae}(E)}(ye))return J;if(1===ye.requestStatus)return k=function Ee(E,S){return re.apply(this,arguments)}(E,S),J;{if(!navigator.onLine)throw yt.create("app-offline");const tt=function Gn(E){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:S})}(J);return k=function ht(E,S){return kt.apply(this,arguments)}(E,tt),tt}});return k?yield k:F.authToken}),ts.apply(this,arguments)}function re(){return(re=(0,H.Z)(function*(E,S){let k=yield $e(E.appConfig);for(;1===k.authToken.requestStatus;)yield Zs(100),k=yield $e(E.appConfig);const F=k.authToken;return 0===F.requestStatus?Yt(E,S):F})).apply(this,arguments)}function $e(E){return Vr(E,S=>{if(!jt(S))throw yt.create("not-registered");return function ns(E){return 1===E.requestStatus&&E.requestTime+xo<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function kt(){return kt=(0,H.Z)(function*(E,S){try{const k=yield function en(E,S){return zn.apply(this,arguments)}(E,S),F=Object.assign(Object.assign({},S),{authToken:k});return yield yi(E.appConfig,F),k}catch(k){if(!on(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const F=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield yi(E.appConfig,F)}else yield oi(E.appConfig);throw k}}),kt.apply(this,arguments)}function jt(E){return void 0!==E&&2===E.registrationStatus}function Ia(){return(Ia=(0,H.Z)(function*(E){const S=E,{installationEntry:k,registrationPromise:F}=yield W(S);return F?F.catch(console.error):Yt(S).catch(console.error),k.fid})).apply(this,arguments)}function Ni(){return Ni=(0,H.Z)(function*(E,S=!1){const k=E;return yield function is(E){return Ta.apply(this,arguments)}(k),(yield Yt(k,S)).token}),Ni.apply(this,arguments)}function Ta(){return(Ta=(0,H.Z)(function*(E){const{registrationPromise:S}=yield W(E);S&&(yield S)})).apply(this,arguments)}function Ks(E){return yt.create("missing-app-config-values",{valueName:E})}const Gl="installations",tl=E=>{const S=E.getProvider("app").getImmediate(),k=function zl(E){if(!E||!E.options)throw Ks("App Configuration");if(!E.name)throw Ks("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!E.options[k])throw Ks(k);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(S);return{app:S,appConfig:k,heartbeatServiceProvider:(0,X._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Wl=E=>{const S=E.getProvider("app").getImmediate(),k=(0,X._getProvider)(S,Gl).getImmediate();return{getId:()=>function ko(E){return Ia.apply(this,arguments)}(k),getToken:G=>function tu(E){return Ni.apply(this,arguments)}(k,G)}};(function nu(){(0,X._registerComponent)(new ne.wA(Gl,tl,"PUBLIC")),(0,X._registerComponent)(new ne.wA("installations-internal",Wl,"PRIVATE"))})(),(0,X.registerVersion)(Lr,Mn),(0,X.registerVersion)(Lr,Mn,"esm2017");const dr="@firebase/remote-config",Ii=new Q.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jn{constructor(S,k,F,G){this.client=S,this.storage=k,this.storageCache=F,this.logger=G}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-k,G=F<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${G}.`),G}fetch(S){var k=this;return(0,H.Z)(function*(){const[F,G]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(G&&k.isCachedDataFresh(S.cacheMaxAgeMillis,F))return G;S.eTag=G&&G.eTag;const J=yield k.client.fetch(S),ye=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&ye.push(k.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(ye),J})()}}function Cs(E=navigator){return E.languages&&E.languages[0]||E.language}class rs{constructor(S,k,F,G,J,ye){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=F,this.projectId=G,this.apiKey=J,this.appId=ye}fetch(S){var k=this;return(0,H.Z)(function*(){const[F,G]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),ye=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Ke={sdk_version:k.sdkVersion,app_instance_id:F,app_instance_id_token:G,app_id:k.appId,language_code:Cs()},pt={method:"POST",headers:tt,body:JSON.stringify(Ke)},Rt=fetch(ye,pt),Ft=new Promise((go,kr)=>{S.signal.addEventListener(()=>{const _c=new Error("The operation was aborted.");_c.name="AbortError",kr(_c)})});let Ui;try{yield Promise.race([Rt,Ft]),Ui=yield Rt}catch(go){let kr="fetch-client-network";throw"AbortError"===go?.name&&(kr="fetch-timeout"),Ii.create(kr,{originalErrorMessage:go?.message})}let ii=Ui.status;const ua=Ui.headers.get("ETag")||void 0;let Fa,ps;if(200===Ui.status){let go;try{go=yield Ui.json()}catch(kr){throw Ii.create("fetch-client-parse",{originalErrorMessage:kr?.message})}Fa=go.entries,ps=go.state}if("INSTANCE_STATE_UNSPECIFIED"===ps?ii=500:"NO_CHANGE"===ps?ii=304:("NO_TEMPLATE"===ps||"EMPTY_CONFIG"===ps)&&(Fa={}),304!==ii&&200!==ii)throw Ii.create("fetch-status",{httpStatus:ii});return{status:ii,eTag:ua,config:Fa}})()}}class ou{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,H.Z)(function*(){const F=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,F)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:F}){var G=this;return(0,H.Z)(function*(){yield function Lt(E,S){return new Promise((k,F)=>{const G=Math.max(S-Date.now(),0),J=setTimeout(k,G);E.addEventListener(()=>{clearTimeout(J),F(Ii.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const J=yield G.client.fetch(S);return yield G.storage.deleteThrottleMetadata(),J}catch(J){if(!function Kl(E){if(!(E instanceof Q.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}(J))throw J;const ye={throttleEndTimeMillis:Date.now()+(0,Q.$s)(F),backoffCount:F+1};return yield G.storage.setThrottleMetadata(ye),G.attemptFetch(S,ye)}})()}}class Ys{constructor(S,k,F,G,J){this.app=S,this._client=k,this._storageCache=F,this._storage=G,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qi(E,S){const k=E.target.error||void 0;return Ii.create(S,{originalErrorMessage:k&&k?.message})}const Li="app_namespace_store";class Po{constructor(S,k,F,G=function xa(){return new Promise((E,S)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=F=>{S(Qi(F,"storage-open"))},k.onsuccess=F=>{E(F.target.result)},k.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Li,{keyPath:"compositeKey"})}}catch(k){S(Ii.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=S,this.appName=k,this.namespace=F,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,H.Z)(function*(){const F=yield k.openDbPromise;return new Promise((G,J)=>{const tt=F.transaction([Li],"readonly").objectStore(Li),Ke=k.createCompositeKey(S);try{const pt=tt.get(Ke);pt.onerror=Rt=>{J(Qi(Rt,"storage-get"))},pt.onsuccess=Rt=>{const Ft=Rt.target.result;G(Ft?Ft.value:void 0)}}catch(pt){J(Ii.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(S,k){var F=this;return(0,H.Z)(function*(){const G=yield F.openDbPromise;return new Promise((J,ye)=>{const Ke=G.transaction([Li],"readwrite").objectStore(Li),pt=F.createCompositeKey(S);try{const Rt=Ke.put({compositeKey:pt,value:k});Rt.onerror=Ft=>{ye(Qi(Ft,"storage-set"))},Rt.onsuccess=()=>{J()}}catch(Rt){ye(Ii.create("storage-set",{originalErrorMessage:Rt?.message}))}})})()}delete(S){var k=this;return(0,H.Z)(function*(){const F=yield k.openDbPromise;return new Promise((G,J)=>{const tt=F.transaction([Li],"readwrite").objectStore(Li),Ke=k.createCompositeKey(S);try{const pt=tt.delete(Ke);pt.onerror=Rt=>{J(Qi(Rt,"storage-delete"))},pt.onsuccess=()=>{G()}}catch(pt){J(Ii.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class io{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,H.Z)(function*(){const k=S.storage.getLastFetchStatus(),F=S.storage.getLastSuccessfulFetchTimestampMillis(),G=S.storage.getActiveConfig(),J=yield k;J&&(S.lastFetchStatus=J);const ye=yield F;ye&&(S.lastSuccessfulFetchTimestampMillis=ye);const tt=yield G;tt&&(S.activeConfig=tt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function au(){return lu.apply(this,arguments)}function lu(){return(lu=(0,H.Z)(function*(){if(!(0,Q.hl)())return!1;try{return yield(0,Q.eu)()}catch{return!1}})).apply(this,arguments)}!function os(){(0,X._registerComponent)(new ne.wA("remote-config",function E(S,{instanceIdentifier:k}){const F=S.getProvider("app").getImmediate(),G=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ii.create("registration-window");if(!(0,Q.hl)())throw Ii.create("indexed-db-unavailable");const{projectId:J,apiKey:ye,appId:tt}=F.options;if(!J)throw Ii.create("registration-project-id");if(!ye)throw Ii.create("registration-api-key");if(!tt)throw Ii.create("registration-app-id");const Ke=new Po(tt,F.name,k=k||"firebase"),pt=new io(Ke),Rt=new we.Yd(dr);Rt.logLevel=we.in.ERROR;const Ft=new rs(G,X.SDK_VERSION,k,J,ye,tt),Ui=new ou(Ft,Ke),ii=new Jn(Ui,Ke,pt,Rt),ua=new Ys(F,ii,pt,Ke,Rt);return function ru(E){const S=(0,Q.m9)(E);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(ua),ua},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(dr,"0.4.4"),(0,X.registerVersion)(dr,"0.4.4","esm2017")}();const ro=(E,S)=>S.some(k=>E instanceof k);let ss,as;const Yl=new WeakMap,xi=new WeakMap,bn=new WeakMap,Da=new WeakMap,Ts=new WeakMap;let il={get(E,S,k){if(E instanceof IDBTransaction){if("done"===S)return xi.get(E);if("objectStoreNames"===S)return E.objectStoreNames||bn.get(E);if("store"===S)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return oo(E[S])},set:(E,S,k)=>(E[S]=k,!0),has:(E,S)=>E instanceof IDBTransaction&&("done"===S||"store"===S)||S in E};function Nd(E){return"function"==typeof E?function Tf(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fi(){return as||(as=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...S){return E.apply(Ql(this),S),oo(Yl.get(this))}:function(...S){return oo(E.apply(Ql(this),S))}:function(S,...k){const F=E.call(Ql(this),S,...k);return bn.set(F,S.sort?S.sort():[S]),oo(F)}}(E):(E instanceof IDBTransaction&&function fr(E){if(xi.has(E))return;const S=new Promise((k,F)=>{const G=()=>{E.removeEventListener("complete",J),E.removeEventListener("error",ye),E.removeEventListener("abort",ye)},J=()=>{k(),G()},ye=()=>{F(E.error||new DOMException("AbortError","AbortError")),G()};E.addEventListener("complete",J),E.addEventListener("error",ye),E.addEventListener("abort",ye)});xi.set(E,S)}(E),ro(E,function Qs(){return ss||(ss=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,il):E)}function oo(E){if(E instanceof IDBRequest)return function Aa(E){const S=new Promise((k,F)=>{const G=()=>{E.removeEventListener("success",J),E.removeEventListener("error",ye)},J=()=>{k(oo(E.result)),G()},ye=()=>{F(E.error),G()};E.addEventListener("success",J),E.addEventListener("error",ye)});return S.then(k=>{k instanceof IDBCursor&&Yl.set(k,E)}).catch(()=>{}),Ts.set(S,E),S}(E);if(Da.has(E))return Da.get(E);const S=Nd(E);return S!==E&&(Da.set(E,S),Ts.set(S,E)),S}const Ql=E=>Ts.get(E);function cu(E,S,{blocked:k,upgrade:F,blocking:G,terminated:J}={}){const ye=indexedDB.open(E,S),tt=oo(ye);return F&&ye.addEventListener("upgradeneeded",Ke=>{F(oo(ye.result),Ke.oldVersion,Ke.newVersion,oo(ye.transaction))}),k&&ye.addEventListener("blocked",()=>k()),tt.then(Ke=>{J&&Ke.addEventListener("close",()=>J()),G&&Ke.addEventListener("versionchange",()=>G())}).catch(()=>{}),tt}function Jl(E,{blocked:S}={}){const k=indexedDB.deleteDatabase(E);return S&&k.addEventListener("blocked",()=>S()),oo(k).then(()=>{})}const Sf=["get","getKey","getAll","getAllKeys","count"],Od=["put","add","delete","clear"],Rd=new Map;function Ld(E,S){if(!(E instanceof IDBDatabase)||S in E||"string"!=typeof S)return;if(Rd.get(S))return Rd.get(S);const k=S.replace(/FromIndex$/,""),F=S!==k,G=Od.includes(k);if(!(k in(F?IDBIndex:IDBObjectStore).prototype)||!G&&!Sf.includes(k))return;const J=function(){var ye=(0,H.Z)(function*(tt,...Ke){const pt=this.transaction(tt,G?"readwrite":"readonly");let Rt=pt.store;return F&&(Rt=Rt.index(Ke.shift())),(yield Promise.all([Rt[k](...Ke),G&&pt.done]))[0]});return function(Ke){return ye.apply(this,arguments)}}();return Rd.set(S,J),J}!function If(E){il=E(il)}(E=>({...E,get:(S,k,F)=>Ld(S,k)||E.get(S,k,F),has:(S,k)=>!!Ld(S,k)||E.has(S,k)}));const uu="/firebase-messaging-sw.js",Fd="/firebase-cloud-messaging-push-scope",Bd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xf="https://fcmregistrations.googleapis.com/v1",Df="google.c.a.c_id",Zn="google.c.a.c_l",Af="google.c.a.ts";var Xl=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(Xl||{});function so(E){const S=new Uint8Array(E);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ss(E){const k=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(k),G=new Uint8Array(F.length);for(let J=0;J<F.length;++J)G[J]=F.charCodeAt(J);return G}const ka="fcm_token_details_db",ec=5,hu="fcm_token_object_Store";function tc(){return tc=(0,H.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(ka))return null;let S=null;return(yield cu(ka,ec,{upgrade:(F=(0,H.Z)(function*(G,J,ye,tt){var Ke;if(J<2||!G.objectStoreNames.contains(hu))return;const pt=tt.objectStore(hu),Rt=yield pt.index("fcmSenderId").get(E);if(yield pt.clear(),Rt)if(2===J){const Ft=Rt;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;S={token:Ft.fcmToken,createTime:null!==(Ke=Ft.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:so(Ft.vapidKey)}}}else if(3===J){const Ft=Rt;S={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:so(Ft.auth),p256dh:so(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:so(Ft.vapidKey)}}}else if(4===J){const Ft=Rt;S={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:so(Ft.auth),p256dh:so(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:so(Ft.vapidKey)}}}}),function(J,ye,tt,Ke){return F.apply(this,arguments)})})).close(),yield Jl(ka),yield Jl("fcm_vapid_details_db"),yield Jl("undefined"),function pu(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:S}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var F}),tc.apply(this,arguments)}const kf="firebase-messaging-database",nc=1,Ur="firebase-messaging-store";let Cr=null;function rl(){return Cr||(Cr=cu(kf,nc,{upgrade:(E,S)=>{0===S&&E.createObjectStore(Ur)}})),Cr}function Kn(E){return ol.apply(this,arguments)}function ol(){return ol=(0,H.Z)(function*(E){const S=Vd(E),F=yield(yield rl()).transaction(Ur).objectStore(Ur).get(S);if(F)return F;{const G=yield function fu(E){return tc.apply(this,arguments)}(E.appConfig.senderId);if(G)return yield gu(E,G),G}}),ol.apply(this,arguments)}function gu(E,S){return ic.apply(this,arguments)}function ic(){return(ic=(0,H.Z)(function*(E,S){const k=Vd(E),G=(yield rl()).transaction(Ur,"readwrite");return yield G.objectStore(Ur).put(S,k),yield G.done,S})).apply(this,arguments)}function ls(){return(ls=(0,H.Z)(function*(E){const S=Vd(E),F=(yield rl()).transaction(Ur,"readwrite");yield F.objectStore(Ur).delete(S),yield F.done})).apply(this,arguments)}function Vd({appConfig:E}){return E.appId}const ci=new Q.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ud(E,S){return rc.apply(this,arguments)}function rc(){return(rc=(0,H.Z)(function*(E,S){const k=yield Ma(E),F=_u(S),G={method:"POST",headers:k,body:JSON.stringify(F)};let J;try{J=yield(yield fetch(Hd(E.appConfig),G)).json()}catch(ye){throw ci.create("token-subscribe-failed",{errorInfo:ye?.toString()})}if(J.error)throw ci.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw ci.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function oc(){return(oc=(0,H.Z)(function*(E,S){const k=yield Ma(E),F=_u(S.subscriptionOptions),G={method:"PATCH",headers:k,body:JSON.stringify(F)};let J;try{J=yield(yield fetch(`${Hd(E.appConfig)}/${S.token}`,G)).json()}catch(ye){throw ci.create("token-update-failed",{errorInfo:ye?.toString()})}if(J.error)throw ci.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw ci.create("token-update-no-token");return J.token})).apply(this,arguments)}function Sg(E,S){return sc.apply(this,arguments)}function sc(){return(sc=(0,H.Z)(function*(E,S){const F={method:"DELETE",headers:yield Ma(E)};try{const J=yield(yield fetch(`${Hd(E.appConfig)}/${S}`,F)).json();if(J.error)throw ci.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(G){throw ci.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function Hd({projectId:E}){return`${xf}/projects/${E}/registrations`}function Ma(E){return vu.apply(this,arguments)}function vu(){return(vu=(0,H.Z)(function*({appConfig:E,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function _u({p256dh:E,auth:S,endpoint:k,vapidKey:F}){const G={web:{endpoint:k,auth:S,p256dh:E}};return F!==Bd&&(G.web.applicationPubKey=F),G}const jd=6048e5;function $d(){return $d=(0,H.Z)(function*(E){const S=yield function Ir(E,S){return lc.apply(this,arguments)}(E.swRegistration,E.vapidKey),k={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:S.endpoint,auth:so(S.getKey("auth")),p256dh:so(S.getKey("p256dh"))},F=yield Kn(E.firebaseDependencies);if(F){if(function cc(E,S){return S.vapidKey===E.vapidKey&&S.endpoint===E.endpoint&&S.auth===E.auth&&S.p256dh===E.p256dh}(F.subscriptionOptions,k))return Date.now()>=F.createTime+jd?function wu(E,S){return zd.apply(this,arguments)}(E,{token:F.token,createTime:Date.now(),subscriptionOptions:k}):F.token;try{yield Sg(E.firebaseDependencies,F.token)}catch(G){console.warn(G)}return xs(E.firebaseDependencies,k)}return xs(E.firebaseDependencies,k)}),$d.apply(this,arguments)}function ac(){return ac=(0,H.Z)(function*(E){const S=yield Kn(E.firebaseDependencies);S&&(yield Sg(E.firebaseDependencies,S.token),yield function mu(E){return ls.apply(this,arguments)}(E.firebaseDependencies));const k=yield E.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),ac.apply(this,arguments)}function zd(){return zd=(0,H.Z)(function*(E,S){try{const k=yield function yu(E,S){return oc.apply(this,arguments)}(E.firebaseDependencies,S),F=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield gu(E.firebaseDependencies,F),k}catch(k){throw yield function Mf(E){return ac.apply(this,arguments)}(E),k}}),zd.apply(this,arguments)}function xs(E,S){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,H.Z)(function*(E,S){const F={token:yield Ud(E,S),createTime:Date.now(),subscriptionOptions:S};return yield gu(E,F),F.token})).apply(this,arguments)}function lc(){return(lc=(0,H.Z)(function*(E,S){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ss(S)})})).apply(this,arguments)}function yn(E){const S={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Pf(E,S){if(!S.notification)return;E.notification={};const k=S.notification.title;k&&(E.notification.title=k);const F=S.notification.body;F&&(E.notification.body=F);const G=S.notification.image;G&&(E.notification.image=G);const J=S.notification.icon;J&&(E.notification.icon=J)}(S,E),function Pa(E,S){S.data&&(E.data=S.data)}(S,E),function Tr(E,S){var k,F,G,J,ye;if(!(S.fcmOptions||null!==(k=S.notification)&&void 0!==k&&k.click_action))return;E.fcmOptions={};const tt=null!==(G=null===(F=S.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==G?G:null===(J=S.notification)||void 0===J?void 0:J.click_action;tt&&(E.fcmOptions.link=tt);const Ke=null===(ye=S.fcmOptions)||void 0===ye?void 0:ye.analytics_label;Ke&&(E.fcmOptions.analyticsLabel=Ke)}(S,E),S}function Cu(E,S){const k=[];for(let F=0;F<E.length;F++)k.push(E.charAt(F)),F<S.length&&k.push(S.charAt(F));return k.join("")}function Ji(E){return ci.create("missing-app-config-values",{valueName:E})}Cu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Of{constructor(S,k,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function Js(E){if(!E||!E.options)throw Ji("App Configuration Object");if(!E.name)throw Ji("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=E;for(const F of S)if(!k[F])throw Ji(F);return{appName:E.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:G,installations:k,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Tu(){return(Tu=(0,H.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(uu,{scope:Fd}),E.swRegistration.update().catch(()=>{})}catch(S){throw ci.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function jr(){return(jr=(0,H.Z)(function*(E,S){if(!S&&!E.swRegistration&&(yield function Iu(E){return Tu.apply(this,arguments)}(E)),S||!E.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw ci.create("invalid-sw-registration");E.swRegistration=S}})).apply(this,arguments)}function dc(){return(dc=(0,H.Z)(function*(E,S){S?E.vapidKey=S:E.vapidKey||(E.vapidKey=Bd)})).apply(this,arguments)}function hc(){return hc=(0,H.Z)(function*(E,S){if(!navigator)throw ci.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ci.create("permission-blocked");return yield function uc(E,S){return dc.apply(this,arguments)}(E,S?.vapidKey),yield function Hr(E,S){return jr.apply(this,arguments)}(E,S?.serviceWorkerRegistration),function bu(E){return $d.apply(this,arguments)}(E)}),hc.apply(this,arguments)}function Pt(){return(Pt=(0,H.Z)(function*(E,S,k){const F=function Gd(E){switch(E){case Xl.NOTIFICATION_CLICKED:return"notification_open";case Xl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:k[Df],message_name:k[Zn],message_time:k[Af],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xs(){return Xs=(0,H.Z)(function*(E,S){const k=S.data;if(!k.isFirebaseMessaging)return;E.onMessageHandler&&k.messageType===Xl.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(yn(k)):E.onMessageHandler.next(yn(k)));const F=k.data;(function Nf(E){return"object"==typeof E&&!!E&&Df in E})(F)&&"1"===F["google.c.a.e"]&&(yield function xg(E,S,k){return Pt.apply(this,arguments)}(E,k.messageType,F))}),Xs.apply(this,arguments)}const fc="@firebase/messaging",Wd=E=>{const S=new Of(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function xu(E,S){return Xs.apply(this,arguments)}(S,k)),S},ea=E=>{const S=E.getProvider("messaging").getImmediate();return{getToken:F=>function Su(E,S){return hc.apply(this,arguments)}(S,F)}};function pc(){return Du.apply(this,arguments)}function Du(){return(Du=(0,H.Z)(function*(){try{yield(0,Q.eu)()}catch{return!1}return typeof window<"u"&&(0,Q.hl)()&&(0,Q.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rf(){(0,X._registerComponent)(new ne.wA("messaging",Wd,"PUBLIC")),(0,X._registerComponent)(new ne.wA("messaging-internal",ea,"PRIVATE")),(0,X.registerVersion)(fc,"0.12.4"),(0,X.registerVersion)(fc,"0.12.4","esm2017")}();const na="analytics",$r="firebase_id",ku="origin",al=6e4,Zd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kd="https://www.googletagmanager.com/gtag/js",ni=new we.Yd("@firebase/analytics"),An=new Q.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function gc(E){if(!E.startsWith(Kd)){const S=An.create("invalid-gtag-resource",{gtagURL:E});return ni.warn(S.message),""}return E}function No(E){return Promise.all(E.map(S=>S.catch(k=>k)))}function Na(){return(Na=(0,H.Z)(function*(E,S,k,F,G,J){const ye=F[G];try{if(ye)yield S[ye];else{const Ke=(yield No(k)).find(pt=>pt.measurementId===G);Ke&&(yield S[Ke.appId])}}catch(tt){ni.error(tt)}E("config",G,J)})).apply(this,arguments)}function ia(){return(ia=(0,H.Z)(function*(E,S,k,F,G){try{let J=[];if(G&&G.send_to){let ye=G.send_to;Array.isArray(ye)||(ye=[ye]);const tt=yield No(k);for(const Ke of ye){const pt=tt.find(Ft=>Ft.measurementId===Ke),Rt=pt&&S[pt.appId];if(!Rt){J=[];break}J.push(Rt)}}0===J.length&&(J=Object.values(S)),yield Promise.all(J),E("event",F,G||{})}catch(J){ni.error(J)}})).apply(this,arguments)}const Ag=30,Ou=new class Ff{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Bf(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function yc(){return(yc=(0,H.Z)(function*(E){var S;const{appId:k,apiKey:F}=E,G={method:"GET",headers:Bf(F)},J=Zd.replace("{app-id}",k),ye=yield fetch(J,G);if(200!==ye.status&&304!==ye.status){let tt="";try{const Ke=yield ye.json();null!==(S=Ke.error)&&void 0!==S&&S.message&&(tt=Ke.error.message)}catch{}throw An.create("config-fetch-failed",{httpStatus:ye.status,responseMessage:tt})}return ye.json()})).apply(this,arguments)}function Qd(){return(Qd=(0,H.Z)(function*(E,S=Ou,k){const{appId:F,apiKey:G,measurementId:J}=E.options;if(!F)throw An.create("no-app-id");if(!G){if(J)return{measurementId:J,appId:F};throw An.create("no-api-key")}const ye=S.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new Jd;return setTimeout((0,H.Z)(function*(){tt.abort()}),void 0!==k?k:al),er({appId:F,apiKey:G,measurementId:J},ye,tt,S)})).apply(this,arguments)}function er(E,S,k){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,H.Z)(function*(E,{throttleEndTimeMillis:S,backoffCount:k},F,G=Ou){var J;const{appId:ye,measurementId:tt}=E;try{yield function Rn(E,S){return new Promise((k,F)=>{const G=Math.max(S-Date.now(),0),J=setTimeout(k,G);E.addEventListener(()=>{clearTimeout(J),F(An.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(F,S)}catch(Ke){if(tt)return ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${Ke?.message}]`),{appId:ye,measurementId:tt};throw Ke}try{const Ke=yield function Vf(E){return yc.apply(this,arguments)}(E);return G.deleteThrottleMetadata(ye),Ke}catch(Ke){const pt=Ke;if(!function Lu(E){if(!(E instanceof Q.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}(pt)){if(G.deleteThrottleMetadata(ye),tt)return ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:ye,measurementId:tt};throw Ke}const Rt=503===Number(null===(J=pt?.customData)||void 0===J?void 0:J.httpStatus)?(0,Q.$s)(k,G.intervalMillis,Ag):(0,Q.$s)(k,G.intervalMillis),Ft={throttleEndTimeMillis:Date.now()+Rt,backoffCount:k+1};return G.setThrottleMetadata(ye,Ft),ni.debug(`Calling attemptFetch again in ${Rt} millis`),er(E,Ft,F,G)}}),Ro.apply(this,arguments)}class Jd{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let Xd,ul;function Fu(){return(Fu=(0,H.Z)(function*(E,S,k,F,G){if(G&&G.global)E("event",k,F);else{const J=yield S;E("event",k,Object.assign(Object.assign({},F),{send_to:J}))}})).apply(this,arguments)}function dl(){return(dl=(0,H.Z)(function*(){if(!(0,Q.hl)())return ni.warn(An.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Q.eu)()}catch(E){return ni.warn(An.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function ao(){return ao=(0,H.Z)(function*(E,S,k,F,G,J,ye){var tt;const Ke=function Ru(E){return Qd.apply(this,arguments)}(E);Ke.then(ii=>{k[ii.measurementId]=ii.appId,E.options.measurementId&&ii.measurementId!==E.options.measurementId&&ni.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${ii.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ii=>ni.error(ii)),S.push(Ke);const pt=function Uf(){return dl.apply(this,arguments)}().then(ii=>{if(ii)return F.getId()}),[Rt,Ft]=yield Promise.all([Ke,pt]);(function Yd(E){const S=window.document.getElementsByTagName("script");for(const k of Object.values(S))if(k.src&&k.src.includes(Kd)&&k.src.includes(E))return k;return null})(J)||function Dg(E,S){const k=function zr(E,S){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(E,S)),k}("firebase-js-sdk-policy",{createScriptURL:gc}),F=document.createElement("script"),G=`${Kd}?l=${E}&id=${S}`;F.src=k?k?.createScriptURL(G):G,F.async=!0,document.head.appendChild(F)}(J,Rt.measurementId),ul&&(G("consent","default",ul),function Fo(E){ul=E}(void 0)),G("js",new Date);const Ui=null!==(tt=ye?.config)&&void 0!==tt?tt:{};return Ui[ku]="firebase",Ui.update=!0,null!=Ft&&(Ui[$r]=Ft),G("config",Rt.measurementId,Ui),Xd&&(G("set",Xd),function Ds(E){Xd=E}(void 0)),Rt.measurementId}),ao.apply(this,arguments)}class tn{constructor(S){this.app=S}_delete(){return delete Bo[this.app.options.appId],Promise.resolve()}}let Bo={},Hf=[];const nh={};let Sr,xr,lo="dataLayer",cs=!1;function ih(E,S,k){!function Uu(){const E=[];if((0,Q.ru)()&&E.push("This is a browser extension environment."),(0,Q.zI)()||E.push("Cookies are not available."),E.length>0){const S=E.map((F,G)=>`(${G+1}) ${F}`).join(" "),k=An.create("invalid-analytics-context",{errorInfo:S});ni.warn(k.message)}}();const F=E.options.appId;if(!F)throw An.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw An.create("no-api-key");ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bo[F])throw An.create("already-exists",{id:F});if(!cs){!function mc(E){let S=[];Array.isArray(window[E])?S=window[E]:window[E]=S}(lo);const{wrappedGtag:J,gtagCore:ye}=function ll(E,S,k,F,G){let J=function(...ye){window[F].push(arguments)};return window[G]&&"function"==typeof window[G]&&(J=window[G]),window[G]=function Pu(E,S,k,F){function J(){return J=(0,H.Z)(function*(ye,...tt){try{if("event"===ye){const[Ke,pt]=tt;yield function Oo(E,S,k,F,G){return ia.apply(this,arguments)}(E,S,k,Ke,pt)}else if("config"===ye){const[Ke,pt]=tt;yield function Mu(E,S,k,F,G,J){return Na.apply(this,arguments)}(E,S,k,F,Ke,pt)}else if("consent"===ye){const[Ke]=tt;E("consent","update",Ke)}else if("get"===ye){const[Ke,pt,Rt]=tt;E("get",Ke,pt,Rt)}else if("set"===ye){const[Ke]=tt;E("set",Ke)}else E(ye,...tt)}catch(Ke){ni.error(Ke)}}),J.apply(this,arguments)}return function G(ye){return J.apply(this,arguments)}}(J,E,S,k),{gtagCore:J,wrappedGtag:window[G]}}(Bo,Hf,nh,lo,"gtag");xr=J,Sr=ye,cs=!0}return Bo[F]=function Bu(E,S,k,F,G,J,ye){return ao.apply(this,arguments)}(E,Hf,nh,S,Sr,lo,k),new tn(E)}function Vo(){return us.apply(this,arguments)}function us(){return(us=(0,H.Z)(function*(){if((0,Q.ru)()||!(0,Q.zI)()||!(0,Q.hl)())return!1;try{return yield(0,Q.eu)()}catch{return!1}})).apply(this,arguments)}const Ar="@firebase/analytics";!function uo(){(0,X._registerComponent)(new ne.wA(na,(S,{options:k})=>ih(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,X._registerComponent)(new ne.wA("analytics-internal",function E(S){try{const k=S.getProvider(na).getImmediate();return{logEvent:(F,G,J)=>function fl(E,S,k,F){E=(0,Q.m9)(E),function kg(E,S,k,F,G){return Fu.apply(this,arguments)}(xr,Bo[E.app.options.appId],S,k,F).catch(G=>ni.error(G))}(k,F,G,J)}}catch(k){throw An.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,X.registerVersion)(Ar,"0.10.0"),(0,X.registerVersion)(Ar,"0.10.0","esm2017")}();var Ms=R(1954),bi=R(2631);const aa=new class pl extends bi.v{}(class Gr extends Ms.o{constructor(S,k){super(S,k),this.scheduler=S,this.work=k}schedule(S,k=0){return k>0?super.schedule(S,k):(this.delay=k,this.state=S,this.scheduler.flush(this),this)}execute(S,k){return k>0||this.closed?super.execute(S,k):this._execute(S,k)}requestAsyncId(S,k,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(S,k,F):(S.flush(this),0)}});var ds=R(6321),ho=R(5592),Di=R(9397),fo=R(5137),gl=R(3093);const Ps=new l.GfV("7.6.1"),Uo="__angularfire_symbol__analyticsIsSupportedValue",hs="__angularfire_symbol__analyticsIsSupported",ml="__angularfire_symbol__remoteConfigIsSupportedValue",Ho="__angularfire_symbol__remoteConfigIsSupported",Ot="__angularfire_symbol__messagingIsSupportedValue",la="__angularfire_symbol__messagingIsSupported";function po(E,S,k){if(S){if(1===S.length)return S[0];const J=S.filter(ye=>ye.app===k);if(1===J.length)return J[0]}return k.container.getProvider(E).getImmediate({optional:!0})}globalThis[hs]||(globalThis[hs]=Vo().then(E=>globalThis[Uo]=E).catch(()=>globalThis[Uo]=!1)),globalThis[la]||(globalThis[la]=pc().then(E=>globalThis[Ot]=E).catch(()=>globalThis[Ot]=!1)),globalThis[Ho]||(globalThis[Ho]=au().then(E=>globalThis[ml]=E).catch(()=>globalThis[ml]=!1));const $f=(E,S)=>{const k=S?[S]:(0,L.C6)(),F=[];return k.forEach(G=>{G.container.getProvider(E).instances.forEach(ye=>{F.includes(ye)||F.push(ye)})}),F};function La(){}class tr{constructor(S,k=aa){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,F){const G=this.zone;return this.delegate.schedule(function(ye){G.runGuarded(()=>{S.apply(this,[ye])})},k,F)}}class zf{constructor(S){this.zone=S,this.task=null}call(S,k){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",La,{},La,La)),k.pipe((0,Di.b)({next:F,complete:F,error:F})).subscribe(S).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vl=(()=>{class E{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new tr(Zone.current)),this.insideAngular=k.run(()=>new tr(Zone.current,ds.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(k){return new(k||E)(l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Nn(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Wr(E){return Nn().ngZone.run(()=>E())}function ca(E){return Nn(),function _l(E){return function(k){return(k=k.lift(new zf(E.ngZone))).pipe((0,fo.R)(E.outsideAngular),(0,gl.Q)(E.insideAngular))}}(Nn())(E)}const fs=(E,S)=>function(){const F=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),Wr(()=>E.apply(void 0,F))},sn=(E,S)=>function(){let k;const F=arguments;for(let J=0;J<arguments.length;J++)"function"==typeof F[J]&&(S&&(k||(k=Wr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",La,{},La,La)))),F[J]=fs(F[J],k));const G=function Gf(E){return Nn().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,F));if(!S){if(G instanceof ho.y){const J=Nn();return G.pipe((0,fo.R)(J.outsideAngular),(0,gl.Q)(J.insideAngular))}return Wr(()=>G)}return G instanceof ho.y?G.pipe(ca):G instanceof Promise?Wr(()=>new Promise((J,ye)=>G.then(tt=>Wr(()=>J(tt)),tt=>Wr(()=>ye(tt))))):"function"==typeof G&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),G.apply(this,arguments)}:Wr(()=>G)}},6394:gt=>{window,gt.exports=function(Ie){var R={};function l(L){if(R[L])return R[L].exports;var H=R[L]={i:L,l:!1,exports:{}};return Ie[L].call(H.exports,H,H.exports,l),H.l=!0,H.exports}return l.m=Ie,l.c=R,l.d=function(L,H,X){l.o(L,H)||Object.defineProperty(L,H,{enumerable:!0,get:X})},l.r=function(L){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})},l.t=function(L,H){if(1&H&&(L=l(L)),8&H||4&H&&"object"==typeof L&&L&&L.__esModule)return L;var X=Object.create(null);if(l.r(X),Object.defineProperty(X,"default",{enumerable:!0,value:L}),2&H&&"string"!=typeof L)for(var Q in L)l.d(X,Q,function(ne){return L[ne]}.bind(null,Q));return X},l.n=function(L){var H=L&&L.__esModule?function(){return L.default}:function(){return L};return l.d(H,"a",H),H},l.o=function(L,H){return Object.prototype.hasOwnProperty.call(L,H)},l.p="/",l(l.s=4)}([function(Ie,R,l){var L=l(1),H=l(2);"string"==typeof(H=H.__esModule?H.default:H)&&(H=[[Ie.i,H,""]]),L(H,{insert:"head",singleton:!1}),Ie.exports=H.locals||{}},function(Ie,R,l){"use strict";var L,ke,X=(ke={},function(Ne){if(void 0===ke[Ne]){var be=document.querySelector(Ne);if(window.HTMLIFrameElement&&be instanceof window.HTMLIFrameElement)try{be=be.contentDocument.head}catch{be=null}ke[Ne]=be}return ke[Ne]}),Q=[];function ne(ke){for(var Ne=-1,be=0;be<Q.length;be++)if(Q[be].identifier===ke){Ne=be;break}return Ne}function we(ke,Ne){for(var be={},Je=[],xe=0;xe<ke.length;xe++){var Ce=ke[xe],_e=Ne.base?Ce[0]+Ne.base:Ce[0],Be=be[_e]||0,je="".concat(_e," ").concat(Be);be[_e]=Be+1;var oe=ne(je),te={css:Ce[1],media:Ce[2],sourceMap:Ce[3]};-1!==oe?(Q[oe].references++,Q[oe].updater(te)):Q.push({identifier:je,updater:Xe(te,Ne),references:1}),Je.push(je)}return Je}function De(ke){var Ne=document.createElement("style"),be=ke.attributes||{};if(void 0===be.nonce){var Je=l.nc;Je&&(be.nonce=Je)}if(Object.keys(be).forEach(function(Ce){Ne.setAttribute(Ce,be[Ce])}),"function"==typeof ke.insert)ke.insert(Ne);else{var xe=X(ke.insert||"head");if(!xe)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");xe.appendChild(Ne)}return Ne}var se,$=(se=[],function(ke,Ne){return se[ke]=Ne,se.filter(Boolean).join("\n")});function z(ke,Ne,be,Je){var xe=be?"":Je.media?"@media ".concat(Je.media," {").concat(Je.css,"}"):Je.css;if(ke.styleSheet)ke.styleSheet.cssText=$(Ne,xe);else{var Ce=document.createTextNode(xe),_e=ke.childNodes;_e[Ne]&&ke.removeChild(_e[Ne]),_e.length?ke.insertBefore(Ce,_e[Ne]):ke.appendChild(Ce)}}function ae(ke,Ne,be){var Je=be.css,xe=be.media,Ce=be.sourceMap;if(xe?ke.setAttribute("media",xe):ke.removeAttribute("media"),Ce&&typeof btoa<"u"&&(Je+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(Ce))))," */")),ke.styleSheet)ke.styleSheet.cssText=Je;else{for(;ke.firstChild;)ke.removeChild(ke.firstChild);ke.appendChild(document.createTextNode(Je))}}var Ue=null,ue=0;function Xe(ke,Ne){var be,Je,xe;if(Ne.singleton){var Ce=ue++;be=Ue||(Ue=De(Ne)),Je=z.bind(null,be,Ce,!1),xe=z.bind(null,be,Ce,!0)}else be=De(Ne),Je=ae.bind(null,be,Ne),xe=function(){!function(_e){if(null===_e.parentNode)return!1;_e.parentNode.removeChild(_e)}(be)};return Je(ke),function(_e){if(_e){if(_e.css===ke.css&&_e.media===ke.media&&_e.sourceMap===ke.sourceMap)return;Je(ke=_e)}else xe()}}Ie.exports=function(ke,Ne){(Ne=Ne||{}).singleton||"boolean"==typeof Ne.singleton||(Ne.singleton=(void 0===L&&(L=!(!(window&&document&&document.all)||window.atob)),L));var be=we(ke=ke||[],Ne);return function(Je){if(Je=Je||[],"[object Array]"===Object.prototype.toString.call(Je)){for(var xe=0;xe<be.length;xe++){var Ce=ne(be[xe]);Q[Ce].references--}for(var _e=we(Je,Ne),Be=0;Be<be.length;Be++){var je=ne(be[Be]);0===Q[je].references&&(Q[je].updater(),Q.splice(je,1))}be=_e}}}},function(Ie,R,l){(R=l(3)(!1)).push([Ie.i,".cdx-underline {\n    text-decoration: underline;\n}\n",""]),Ie.exports=R},function(Ie,R,l){"use strict";Ie.exports=function(L){var H=[];return H.toString=function(){return this.map(function(X){var Q=function(ne,we){var Ue,ue,De=ne[1]||"",se=ne[3];if(!se)return De;if(we&&"function"==typeof btoa){var $=(Ue=btoa(unescape(encodeURIComponent(JSON.stringify(se)))),ue="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(Ue),"/*# ".concat(ue," */")),z=se.sources.map(function(Xe){return"/*# sourceURL=".concat(se.sourceRoot||"").concat(Xe," */")});return[De].concat(z).concat([$]).join("\n")}return[De].join("\n")}(X,L);return X[2]?"@media ".concat(X[2]," {").concat(Q,"}"):Q}).join("")},H.i=function(X,Q,ne){"string"==typeof X&&(X=[[null,X,""]]);var we={};if(ne)for(var De=0;De<this.length;De++){var se=this[De][0];null!=se&&(we[se]=!0)}for(var $=0;$<X.length;$++){var z=[].concat(X[$]);ne&&we[z[0]]||(Q&&(z[2]=z[2]?"".concat(Q," and ").concat(z[2]):Q),H.push(z))}},H}},function(Ie,R,l){"use strict";function L(Q){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ne){return typeof ne}:function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne})(Q)}function H(Q,ne){for(var we=0;we<ne.length;we++){var De=ne[we];De.enumerable=De.enumerable||!1,De.configurable=!0,"value"in De&&(De.writable=!0),Object.defineProperty(Q,(void 0,$=function(z,ae){if("object"!==L(z)||null===z)return z;var Ue=z[Symbol.toPrimitive];if(void 0!==Ue){var ue=Ue.call(z,"string");if("object"!==L(ue))return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(z)}(De.key),"symbol"===L($)?$:String($)),De)}var $}l.r(R),l.d(R,"default",function(){return X}),l(0);var X=function(){function Q(se){var $=se.api;(function(z,ae){if(!(z instanceof ae))throw new TypeError("Cannot call a class as a function")})(this,Q),this.api=$,this.button=null,this.tag="U",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}var ne,we,De;return ne=Q,De=[{key:"CSS",get:function(){return"cdx-underline"}},{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{u:{class:Q.CSS}}}}],(we=[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(se){if(se){var $=this.api.selection.findParentTag(this.tag,Q.CSS);$?this.unwrap($):this.wrap(se)}}},{key:"wrap",value:function(se){var $=document.createElement(this.tag);$.classList.add(Q.CSS),$.appendChild(se.extractContents()),se.insertNode($),this.api.selection.expandToTag($)}},{key:"unwrap",value:function(se){this.api.selection.expandToTag(se);var $=window.getSelection(),z=$.getRangeAt(0),ae=z.extractContents();se.parentNode.removeChild(se),z.insertNode(ae),$.removeAllRanges(),$.addRange(z)}},{key:"checkState",value:function(){var se=this.api.selection.findParentTag(this.tag,Q.CSS);this.button.classList.toggle(this.iconClasses.active,!!se)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>'}}])&&H(ne.prototype,we),De&&H(ne,De),Object.defineProperty(ne,"prototype",{writable:!1}),Q}()}]).default},6878:(gt,Ie,R)=>{"use strict";R.d(Ie,{$:()=>uu,A:()=>z,D:()=>ue,I:()=>kd,J:()=>tl,L:()=>Yi,N:()=>Vr,P:()=>Bu,Q:()=>Po,R:()=>ra,U:()=>su,V:()=>au,W:()=>lu,X:()=>qt,Y:()=>Qs,Z:()=>Fi,_:()=>Ts,a:()=>Le,a0:()=>Bd,a1:()=>Df,a2:()=>av,a3:()=>hu,a4:()=>tc,a5:()=>kf,a6:()=>Ur,a7:()=>rl,a8:()=>ol,a9:()=>ic,aA:()=>te,aB:()=>hs,aC:()=>oi,aD:()=>vi,aE:()=>Di,aF:()=>Dr,aG:()=>jf,aH:()=>Qn,aL:()=>ta,aO:()=>ss,aa:()=>mu,ab:()=>Vd,ac:()=>lv,ad:()=>yu,ae:()=>Sg,af:()=>Hd,ai:()=>jd,aj:()=>$d,ak:()=>Mf,an:()=>Tf,ao:()=>Pf,aq:()=>dc,ar:()=>fc,as:()=>et,at:()=>jn,au:()=>It,av:()=>Ce,aw:()=>Ft,ax:()=>la,ay:()=>$n,az:()=>_e,b:()=>qd,c:()=>xr,d:()=>ih,e:()=>Vu,f:()=>Ar,g:()=>pl,h:()=>Ms,i:()=>Nu,j:()=>ds,k:()=>ps,l:()=>Bn,m:()=>_c,o:()=>Ng,p:()=>De,r:()=>ui,s:()=>Lo,u:()=>Uf});var l=R(5861),L=R(9058),H=R(534),X=R(7582),Q=R(7879),ne=R(4537);const De={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ue=function ae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Xe=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new Q.Yd("@firebase/auth");function xe(b,...g){be.logLevel<=Q.in.ERROR&&be.error(`Auth (${H.SDK_VERSION}): ${b}`,...g)}function Ce(b,...g){throw oe(b,...g)}function _e(b,...g){return oe(b,...g)}function Be(b,g,y){const C=Object.assign(Object.assign({},Xe()),{[g]:y});return new L.LL("auth","Firebase",C).create(g,{appName:b.name})}function je(b,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Ce(b,"argument-error"),Be(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oe(b,...g){if("string"!=typeof b){const y=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(y,...C)}return ke.create(b,...g)}function te(b,g,...y){if(!b)throw oe(g,...y)}function Ve(b){const g="INTERNAL ASSERTION FAILED: "+b;throw xe(g),new Error(g)}function et(b,g){b||Ve(g)}function Yn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function zi(){return"http:"===br()||"https:"===br()}function br(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class xo{constructor(g,y){this.shortDelay=g,this.longDelay=y,et(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Lr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zi()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qs(b,g){et(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class ge{static initialize(g,y,C){this.fetchImpl=g,y&&(this.headersImpl=y),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const de={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new xo(3e4,6e4);function he(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Pe(b,g,y,C){return We.apply(this,arguments)}function We(){return(We=(0,l.Z)(function*(b,g,y,C,M={}){return yt(b,M,(0,l.Z)(function*(){let O={},K={};C&&("GET"===g?K=C:O={body:JSON.stringify(C)});const fe=(0,L.xO)(Object.assign({key:b.config.apiKey},K)).slice(1),Ye=yield b._getAdditionalHeaders();return Ye["Content-Type"]="application/json",b.languageCode&&(Ye["X-Firebase-Locale"]=b.languageCode),ge.fetch()(Ut(b,b.config.apiHost,y,fe),Object.assign({method:g,headers:Ye,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function yt(b,g,y){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(b,g,y){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},de),g);try{const M=new wt(b),O=yield Promise.race([y(),M.promise]);M.clearNetworkTimeout();const K=yield O.json();if("needConfirmation"in K)throw Tn(b,"account-exists-with-different-credential",K);if(O.ok&&!("errorMessage"in K))return K;{const fe=O.ok?K.errorMessage:K.error.message,[Ye,rt]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw Tn(b,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ye)throw Tn(b,"email-already-in-use",K);if("USER_DISABLED"===Ye)throw Tn(b,"user-disabled",K);const vt=C[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw Be(b,vt,rt);Ce(b,vt)}}catch(M){if(M instanceof L.ZR)throw M;Ce(b,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function In(b,g,y,C){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,l.Z)(function*(b,g,y,C,M={}){const O=yield Pe(b,g,y,C,M);return"mfaPendingCredential"in O&&Ce(b,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Ut(b,g,y,C){const M=`${g}${y}?${C}`;return b.config.emulator?qs(b.config,M):`${b.config.apiScheme}://${M}`}class wt{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,C)=>{this.timer=setTimeout(()=>C(_e(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tn(b,g,y){const C={appName:b.name};y.email&&(C.email=y.email),y.phoneNumber&&(C.phoneNumber=y.phoneNumber);const M=_e(b,g,C);return M.customData._tokenResponse=y,M}function Wi(){return(Wi=(0,l.Z)(function*(b,g){return Pe(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(b,g){return Pe(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Xo(){return(Xo=(0,l.Z)(function*(b,g){return Pe(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Fr(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function ws(){return(ws=(0,l.Z)(function*(b,g=!1){const y=(0,L.m9)(b),C=yield y.getIdToken(g),M=Wt(C);te(M&&M.exp&&M.auth_time&&M.iat,y.auth,"internal-error");const O="object"==typeof M.firebase?M.firebase:void 0,K=O?.sign_in_provider;return{claims:M,token:C,authTime:Fr(Ln(M.auth_time)),issuedAtTime:Fr(Ln(M.iat)),expirationTime:Fr(Ln(M.exp)),signInProvider:K||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Ln(b){return 1e3*Number(b)}function Wt(b){const[g,y,C]=b.split(".");if(void 0===g||void 0===y||void 0===C)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,L.tV)(y);return M?JSON.parse(M):(xe("Failed to decode base64 JWT payload"),null)}catch(M){return xe("Caught error parsing JWT payload as JSON",M?.toString()),null}}function Hn(b,g){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(b,g,y=!1){if(y)return g;try{return yield g}catch(C){throw C instanceof L.ZR&&function Zi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}class Br{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield y.iteration()}),C)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&g.schedule(!0))}g.schedule()})()}}class hn{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fr(this.lastLoginAt),this.creationTime=Fr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Do(b){return Dn.apply(this,arguments)}function Dn(){return Dn=(0,l.Z)(function*(b){var g;const y=b.auth,C=yield b.getIdToken(),M=yield Hn(b,function lr(b,g){return Xo.apply(this,arguments)}(y,{idToken:C}));te(M?.users.length,y,"internal-error");const O=M.users[0];b._notifyReloadListener(O);const K=null!==(g=O.providerUserInfo)&&void 0!==g&&g.length?function Ca(b){return b.map(g=>{var{providerId:y}=g,C=(0,X._T)(g,["providerId"]);return{providerId:y,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(O.providerUserInfo):[],fe=function $l(b,g){return[...b.filter(C=>!g.some(M=>M.providerId===C.providerId)),...g]}(b.providerData,K),vt=!!b.isAnonymous&&!(b.email&&O.passwordHash||fe?.length),Qt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:fe,metadata:new hn(O.createdAt,O.lastLoginAt),isAnonymous:vt};Object.assign(b,Qt)}),Dn.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(b){const g=(0,L.m9)(b);yield Do(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(b,g){const y=yield yt(b,{},(0,l.Z)(function*(){const C=(0,L.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:O}=b.config,K=Ut(b,M,"/v1/token",`key=${O}`),fe=yield b._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",ge.fetch()(K,{method:"POST",headers:fe,body:C})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class cr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){te(g.idToken,"internal-error"),te(typeof g.idToken<"u","internal-error"),te(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Ht(b){const g=Wt(b);return te(g,"internal-error"),te(typeof g.exp<"u","internal-error"),te(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var C=this;return(0,l.Z)(function*(){return te(!C.accessToken||C.refreshToken,g,"user-token-expired"),y||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var C=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:O,expiresIn:K}=yield function es(b,g){return Ei.apply(this,arguments)}(g,y);C.updateTokensAndExpiration(M,O,Number(K))})()}updateTokensAndExpiration(g,y,C){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,y){const{refreshToken:C,accessToken:M,expirationTime:O}=y,K=new cr;return C&&(te("string"==typeof C,"internal-error",{appName:g}),K.refreshToken=C),M&&(te("string"==typeof M,"internal-error",{appName:g}),K.accessToken=M),O&&(te("number"==typeof O,"internal-error",{appName:g}),K.expirationTime=O),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new cr,this.toJSON())}_performRefresh(){return Ve("not implemented")}}function Ki(b,g){te("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class yi{constructor(g){var{uid:y,auth:C,stsTokenManager:M}=g,O=(0,X._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Br(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new hn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,l.Z)(function*(){const C=yield Hn(y,y.stsTokenManager.getToken(y.auth,g));return te(C,y.auth,"internal-error"),y.accessToken!==C&&(y.accessToken=C,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),C})()}getIdTokenResult(g){return function bs(b){return ws.apply(this,arguments)}(this,g)}reload(){return function mn(b){return Kt.apply(this,arguments)}(this)}_assign(g){this!==g&&(te(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const y=new yi(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(g){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var C=this;return(0,l.Z)(function*(){let M=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),M=!0),y&&(yield Do(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,l.Z)(function*(){const y=yield g.getIdToken();return yield Hn(g,function Gi(b,g){return Wi.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var C,M,O,K,fe,Ye,rt,vt;const Qt=null!==(C=y.displayName)&&void 0!==C?C:void 0,Zr=null!==(M=y.email)&&void 0!==M?M:void 0,jo=null!==(O=y.phoneNumber)&&void 0!==O?O:void 0,Qf=null!==(K=y.photoURL)&&void 0!==K?K:void 0,Og=null!==(fe=y.tenantId)&&void 0!==fe?fe:void 0,wc=null!==(Ye=y._redirectEventId)&&void 0!==Ye?Ye:void 0,Gu=null!==(rt=y.createdAt)&&void 0!==rt?rt:void 0,Ns=null!==(vt=y.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:oh,emailVerified:El,isAnonymous:sh,providerData:Cl,stsTokenManager:Il}=y;te(oh&&Il,g,"internal-error");const ah=cr.fromJSON(this.name,Il);te("string"==typeof oh,g,"internal-error"),Ki(Qt,g.name),Ki(Zr,g.name),te("boolean"==typeof El,g,"internal-error"),te("boolean"==typeof sh,g,"internal-error"),Ki(jo,g.name),Ki(Qf,g.name),Ki(Og,g.name),Ki(wc,g.name),Ki(Gu,g.name),Ki(Ns,g.name);const lh=new yi({uid:oh,auth:g,email:Zr,emailVerified:El,displayName:Qt,isAnonymous:sh,photoURL:Qf,phoneNumber:jo,tenantId:Og,stsTokenManager:ah,createdAt:Gu,lastLoginAt:Ns});return Cl&&Array.isArray(Cl)&&(lh.providerData=Cl.map(Rg=>Object.assign({},Rg))),wc&&(lh._redirectEventId=wc),lh}static _fromIdTokenResponse(g,y,C=!1){return(0,l.Z)(function*(){const M=new cr;M.updateFromServerResponse(y);const O=new yi({uid:y.localId,auth:g,stsTokenManager:M,isAnonymous:C});return yield Do(O),O})()}}const ur=new Map;function oi(b){et(b instanceof Function,"Expected a class definition");let g=ur.get(b);return g?(et(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,ur.set(b,g),g)}const Vr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(y,C){var M=this;return(0,l.Z)(function*(){M.storage[y]=C})()}_get(y){var C=this;return(0,l.Z)(function*(){const M=C.storage[y];return void 0===M?null:M})()}_remove(y){var C=this;return(0,l.Z)(function*(){delete C.storage[y]})()}_addListener(y,C){}_removeListener(y,C){}}return b.type="NONE",b})();function vi(b,g,y){return`firebase:${b}:${g}:${y}`}class W{constructor(g,y,C){this.persistence=g,this.auth=y,this.userKey=C;const{config:M,name:O}=this.auth;this.fullUserKey=vi(this.userKey,M.apiKey,O),this.fullPersistenceKey=vi("persistence",M.apiKey,O),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?yi._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,l.Z)(function*(){if(y.persistence===g)return;const C=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,C?y.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,C="authUser"){return(0,l.Z)(function*(){if(!y.length)return new W(oi(Vr),g,C);const M=(yield Promise.all(y.map(function(){var rt=(0,l.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let O=M[0]||oi(Vr);const K=vi(C,g.config.apiKey,g.name);let fe=null;for(const rt of y)try{const vt=yield rt._get(K);if(vt){const Qt=yi._fromJSON(g,vt);rt!==O&&(fe=Qt),O=rt;break}}catch{}const Ye=M.filter(rt=>rt._shouldAllowMigration);return O._shouldAllowMigration&&Ye.length?(O=Ye[0],fe&&(yield O._set(K,fe.toJSON())),yield Promise.all(y.map(function(){var rt=(0,l.Z)(function*(vt){if(vt!==O)try{yield vt._remove(K)}catch{}});return function(vt){return rt.apply(this,arguments)}}())),new W(O,g,C)):new W(O,g,C)})()}}function j(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ct(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Y(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(cn(g))return"Blackberry";if(Ci(g))return"Webos";if(me(g))return"Safari";if((g.includes("chrome/")||le(g))&&!g.includes("edge/"))return"Chrome";if(It(g))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Y(b=(0,L.z$)()){return/firefox\//i.test(b)}function me(b=(0,L.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function le(b=(0,L.z$)()){return/crios\//i.test(b)}function ct(b=(0,L.z$)()){return/iemobile/i.test(b)}function It(b=(0,L.z$)()){return/android/i.test(b)}function cn(b=(0,L.z$)()){return/blackberry/i.test(b)}function Ci(b=(0,L.z$)()){return/webos/i.test(b)}function jn(b=(0,L.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function $n(b=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function ti(b=(0,L.z$)()){return jn(b)||It(b)||Ci(b)||cn(b)||/windows phone/i.test(b)||ct(b)}function ts(b,g=[]){let y;switch(b){case"Browser":y=j((0,L.z$)());break;case"Worker":y=`${j((0,L.z$)())}-${b}`;break;default:y=b}const C=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${H.SDK_VERSION}/${C}`}function re(){return(re=(0,l.Z)(function*(b){return(yield Pe(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $e(b,g){return ht.apply(this,arguments)}function ht(){return(ht=(0,l.Z)(function*(b,g){return Pe(b,"GET","/v2/recaptchaConfig",he(b,g))})).apply(this,arguments)}function kt(b){return void 0!==b&&void 0!==b.getResponse}function jt(b){return void 0!==b&&void 0!==b.enterprise}class fn{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function Gn(b){return new Promise((g,y)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=g,C.onerror=M=>{const O=_e("internal-error");O.customData=M,y(O)},C.type="text/javascript",C.charset="UTF-8",function si(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(C)})}function ns(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Ni{constructor(g){this.type="recaptcha-enterprise",this.auth=Qn(g)}verify(g="verify",y=!1){var C=this;return(0,l.Z)(function*(){function O(){return O=(0,l.Z)(function*(fe){if(!y){if(null==fe.tenantId&&null!=fe._agentRecaptchaConfig)return fe._agentRecaptchaConfig.siteKey;if(null!=fe.tenantId&&void 0!==fe._tenantRecaptchaConfigs[fe.tenantId])return fe._tenantRecaptchaConfigs[fe.tenantId].siteKey}return new Promise(function(){var Ye=(0,l.Z)(function*(rt,vt){$e(fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Qt=>{if(void 0!==Qt.recaptchaKey){const Zr=new fn(Qt);return null==fe.tenantId?fe._agentRecaptchaConfig=Zr:fe._tenantRecaptchaConfigs[fe.tenantId]=Zr,rt(Zr.siteKey)}vt(new Error("recaptcha Enterprise site key undefined"))}).catch(Qt=>{vt(Qt)})});return function(rt,vt){return Ye.apply(this,arguments)}}())}),O.apply(this,arguments)}function K(fe,Ye,rt){const vt=window.grecaptcha;jt(vt)?vt.enterprise.ready(()=>{vt.enterprise.execute(fe,{action:g}).then(Qt=>{Ye(Qt)}).catch(()=>{Ye("NO_RECAPTCHA")})}):rt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((fe,Ye)=>{(function M(fe){return O.apply(this,arguments)})(C.auth).then(rt=>{if(!y&&jt(window.grecaptcha))K(rt,fe,Ye);else{if(typeof window>"u")return void Ye(new Error("RecaptchaVerifier is only supported in browser"));Gn("https://www.google.com/recaptcha/enterprise.js?render="+rt).then(()=>{K(rt,fe,Ye)}).catch(vt=>{Ye(vt)})}}).catch(rt=>{Ye(rt)})})})()}}function is(b,g,y){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(b,g,y,C=!1){const M=new Ni(b);let O;try{O=yield M.verify(y)}catch{O=yield M.verify(y,!0)}const K=Object.assign({},g);return Object.assign(K,C?{captchaResp:O}:{captchaResponse:O}),Object.assign(K,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(K,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),K})).apply(this,arguments)}class wf{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const C=O=>new Promise((K,fe)=>{try{K(g(O))}catch(Ye){fe(Ye)}});C.onAbort=y,this.queue.push(C);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,l.Z)(function*(){if(y.auth.currentUser===g)return;const C=[];try{for(const M of y.queue)yield M(g),M.onAbort&&C.push(M.onAbort)}catch(M){C.reverse();for(const O of C)try{O()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class ai{constructor(g,y,C,M){this.app=g,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=C,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ef(this),this.idTokenSubscription=new Ef(this),this.beforeStateQueue=new wf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(g,y){var C=this;return y&&(this._popupRedirectResolver=oi(y)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,O;if(!C._deleted&&(C.persistenceManager=yield W.create(C,g),!C._deleted)){if(null!==(M=C._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(y),C.lastNotifiedUid=(null===(O=C.currentUser)||void 0===O?void 0:O.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,l.Z)(function*(){var C;const M=yield y.assertedPersistence.getCurrentUser();let O=M,K=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const fe=null===(C=y.redirectUser)||void 0===C?void 0:C._redirectEventId,Ye=O?._redirectEventId,rt=yield y.tryRedirectSignIn(g);(!fe||fe===Ye)&&rt?.user&&(O=rt.user,K=!0)}if(!O)return y.directlySetCurrentUser(null);if(!O._redirectEventId){if(K)try{yield y.beforeStateQueue.runMiddleware(O)}catch(fe){O=M,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(fe))}return O?y.reloadAndSetCurrentUserOrClear(O):y.directlySetCurrentUser(null)}return te(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===O._redirectEventId?y.directlySetCurrentUser(O):y.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(g){var y=this;return(0,l.Z)(function*(){let C=null;try{C=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,l.Z)(function*(){try{yield Do(g)}catch(C){if("auth/network-request-failed"!==C?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Mn(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,l.Z)(function*(){const C=g?(0,L.m9)(g):null;return C&&te(C.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(C&&C._clone(y))})()}_updateCurrentUser(g,y=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return g&&te(C.tenantId===g.tenantId,C,"tenant-id-mismatch"),y||(yield C.beforeStateQueue.runMiddleware(g)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(g),C.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,l.Z)(function*(){yield y.assertedPersistence.setPersistence(oi(g))}))}initializeRecaptchaConfig(){var g=this;return(0,l.Z)(function*(){const y=yield $e(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new fn(y);null==g.tenantId?g._agentRecaptchaConfig=C:g._tenantRecaptchaConfigs[g.tenantId]=C,C.emailPasswordEnabled&&new Ni(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new L.LL("auth","Firebase",g())}onAuthStateChanged(g,y,C){return this.registerStateListener(this.authStateSubscription,g,y,C)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,C){return this.registerStateListener(this.idTokenSubscription,g,y,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var C=this;return(0,l.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(y);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,l.Z)(function*(){if(!y.redirectPersistenceManager){const C=g&&oi(g)||y._popupRedirectResolver;te(C,y,"argument-error"),y.redirectPersistenceManager=yield W.create(y,[oi(C._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,l.Z)(function*(){var C,M;return y._isInitialized&&(yield y.queue((0,l.Z)(function*(){}))),(null===(C=y._currentUser)||void 0===C?void 0:C._redirectEventId)===g?y._currentUser:(null===(M=y.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,l.Z)(function*(){if(g===y.currentUser)return y.queue((0,l.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,C,M){if(this._deleted)return()=>{};const O="function"==typeof y?y:y.next.bind(y),K=this._isInitialized?Promise.resolve():this._initializationPromise;return te(K,this,"internal-error"),K.then(()=>O(this.currentUser)),"function"==typeof y?g.addObserver(y,C,M):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,l.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ts(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var y;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();M&&(C["X-Firebase-Client"]=M);const O=yield g._getAppCheckToken();return O&&(C["X-Firebase-AppCheck"]=O),C})()}_getAppCheckToken(){var g=this;return(0,l.Z)(function*(){var y;const C=yield null===(y=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return C?.error&&function Je(b,...g){be.logLevel<=Q.in.WARN&&be.warn(`Auth (${H.SDK_VERSION}): ${b}`,...g)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Qn(b){return(0,L.m9)(b)}class Ef{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,L.ne)(y=>this.observer=y)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kd(b,g,y){const C=Qn(b);te(C._canInitEmulator,C,"emulator-config-failed"),te(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const M=!!y?.disableWarnings,O=zl(g),{host:K,port:fe}=function Ks(b){const g=zl(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!y)return{host:"",port:null};const C=y[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const O=M[1];return{host:O,port:Gl(C.substr(O.length+1))}}{const[O,K]=C.split(":");return{host:O,port:Gl(K)}}}(g);C.config.emulator={url:`${O}//${K}${null===fe?"":`:${fe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:K,port:fe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Cf(){function b(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function zl(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Gl(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class tl{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return Ve("not implemented")}_getIdTokenResponse(g){return Ve("not implemented")}_linkToIdToken(g,y){return Ve("not implemented")}_getReauthenticationResolver(g){return Ve("not implemented")}}function Wl(b,g){return nu.apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(b,g){return Pe(b,"POST","/v1/accounts:resetPassword",he(b,g))})).apply(this,arguments)}function dr(b,g){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(b,g){return Pe(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(b,g){return Pe(b,"POST","/v1/accounts:update",he(b,g))})).apply(this,arguments)}function ql(b,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(b,g){return In(b,"POST","/v1/accounts:signInWithPassword",he(b,g))})).apply(this,arguments)}function nl(b,g){return un.apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(b,g){return Pe(b,"POST","/v1/accounts:sendOobCode",he(b,g))})).apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(b,g){return nl(b,g)})).apply(this,arguments)}function Es(b,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,l.Z)(function*(b,g){return nl(b,g)})).apply(this,arguments)}function iu(b,g){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,l.Z)(function*(b,g){return nl(b,g)})).apply(this,arguments)}function ru(){return(ru=(0,l.Z)(function*(b,g){return nl(b,g)})).apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(b,g){return In(b,"POST","/v1/accounts:signInWithEmailLink",he(b,g))})).apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(b,g){return In(b,"POST","/v1/accounts:signInWithEmailLink",he(b,g))})).apply(this,arguments)}class Pn extends tl{constructor(g,y,C,M=null){super("password",C),this._email=g,this._password=y,this._tenantId=M}static _fromEmailAndPassword(g,y){return new Pn(g,y,"password")}static _fromEmailAndCode(g,y,C=null){return new Pn(g,y,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,l.Z)(function*(){var C;switch(y.signInMethod){case"password":const M={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=g._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const O=yield is(g,M,"signInWithPassword");return ql(g,O)}return ql(g,M).catch(function(){var O=(0,l.Z)(function*(K){if("auth/missing-recaptcha-token"===K.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const fe=yield is(g,M,"signInWithPassword");return ql(g,fe)}return Promise.reject(K)});return function(K){return O.apply(this,arguments)}}());case"emailLink":return function Pd(b,g){return Fn.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Ce(g,"internal-error")}})()}_linkToIdToken(g,y){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return dr(g,{idToken:y,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function ut(b,g){return Vt.apply(this,arguments)}(g,{idToken:y,email:C._email,oobCode:C._password});default:Ce(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function _i(b,g){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(b,g){return In(b,"POST","/v1/accounts:signInWithIdp",he(b,g))})).apply(this,arguments)}class Yi extends tl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Yi(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Ce("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M}=y,O=(0,X._T)(y,["providerId","signInMethod"]);if(!C||!M)return null;const K=new Yi(C,M);return K.idToken=O.idToken||void 0,K.accessToken=O.accessToken||void 0,K.secret=O.secret,K.nonce=O.nonce,K.pendingToken=O.pendingToken||null,K}_getIdTokenResponse(g){return _i(g,this.buildRequest())}_linkToIdToken(g,y){const C=this.buildRequest();return C.idToken=y,_i(g,C)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,_i(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,L.xO)(y)}return g}}function Cs(){return(Cs=(0,l.Z)(function*(b,g){return Pe(b,"POST","/v1/accounts:sendVerificationCode",he(b,g))})).apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(b,g){return In(b,"POST","/v1/accounts:signInWithPhoneNumber",he(b,g))})).apply(this,arguments)}function ou(){return(ou=(0,l.Z)(function*(b,g){const y=yield In(b,"POST","/v1/accounts:signInWithPhoneNumber",he(b,g));if(y.temporaryProof)throw Tn(b,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Wn={USER_NOT_FOUND:"user-not-found"};function Ys(){return(Ys=(0,l.Z)(function*(b,g){return In(b,"POST","/v1/accounts:signInWithPhoneNumber",he(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Wn)})).apply(this,arguments)}class Qi extends tl{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Qi({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Qi({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function rs(b,g){return Lt.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Kl(b,g){return ou.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function qn(b,g){return Ys.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:C,verificationCode:M}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:C,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:C,phoneNumber:M,temporaryProof:O}=g;return C||y||M||O?new Qi({verificationId:y,verificationCode:C,phoneNumber:M,temporaryProof:O}):null}}class Is{constructor(g){var y,C,M,O,K,fe;const Ye=(0,L.zd)((0,L.pd)(g)),rt=null!==(y=Ye.apiKey)&&void 0!==y?y:null,vt=null!==(C=Ye.oobCode)&&void 0!==C?C:null,Qt=function Li(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Ye.mode)&&void 0!==M?M:null);te(rt&&vt&&Qt,"argument-error"),this.apiKey=rt,this.operation=Qt,this.code=vt,this.continueUrl=null!==(O=Ye.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(K=Ye.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(fe=Ye.tenantId)&&void 0!==fe?fe:null}static parseLink(g){const y=function Er(b){const g=(0,L.zd)((0,L.pd)(b)).link,y=g?(0,L.zd)((0,L.pd)(g)).deep_link_id:null,C=(0,L.zd)((0,L.pd)(b)).deep_link_id;return(C?(0,L.zd)((0,L.pd)(C)).link:null)||C||y||g||b}(g);try{return new Is(y)}catch{return null}}}let Po=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,C){return Pn._fromEmailAndPassword(y,C)}static credentialWithLink(y,C){const M=Is.parseLink(C);return te(M,"argument-error"),Pn._fromEmailAndCode(y,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class io{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class os extends io{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class qt extends os{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return te("providerId"in y&&"signInMethod"in y,"argument-error"),Yi._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return te(g.idToken||g.accessToken,"argument-error"),Yi._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return qt.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return qt.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:O,nonce:K,providerId:fe}=g;if(!C&&!M&&!y&&!O||!fe)return null;try{return new qt(fe)._credential({idToken:y,accessToken:C,nonce:K,pendingToken:O})}catch{return null}}}let su=(()=>{class b extends os{constructor(){super("facebook.com")}static credential(y){return Yi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),au=(()=>{class b extends os{constructor(){super("google.com"),this.addScope("profile")}static credential(y,C){return Yi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:C})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:M}=y;if(!C&&!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),lu=(()=>{class b extends os{constructor(){super("github.com")}static credential(y){return Yi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ss extends tl{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return _i(g,this.buildRequest())}_linkToIdToken(g,y){const C=this.buildRequest();return C.idToken=y,_i(g,C)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,_i(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:M,pendingToken:O}=y;return C&&M&&O&&C===M?new ss(C,O):null}static _create(g,y){return new ss(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qs extends io{constructor(g){te(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Qs.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Qs.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=ss.fromJSON(g);return te(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:C}=g;if(!y||!C)return null;try{return ss._create(C,y)}catch{return null}}}let Fi=(()=>{class b extends os{constructor(){super("twitter.com")}static credential(y,C){return Yi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:C})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=y;if(!C||!M)return null;try{return b.credential(C,M)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Yl(b,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(b,g){return In(b,"POST","/v1/accounts:signUp",he(b,g))})).apply(this,arguments)}class bn{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,C,M=!1){return(0,l.Z)(function*(){const O=yield yi._fromIdTokenResponse(g,C,M),K=Da(C);return new bn({user:O,providerId:K,_tokenResponse:C,operationType:y})})()}static _forOperation(g,y,C){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const M=Da(C);return new bn({user:g,providerId:M,_tokenResponse:C,operationType:y})})()}}function Da(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Ts(b){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(b){var g;const y=Qn(b);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new bn({user:y.currentUser,providerId:null,operationType:"signIn"});const C=yield Yl(y,{returnSecureToken:!0}),M=yield bn._fromIdTokenResponse(y,"signIn",C,!0);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}class fr extends L.ZR{constructor(g,y,C,M){var O;super(y.code,y.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,fr.prototype),this.customData={appName:g.name,tenantId:null!==(O=g.tenantId)&&void 0!==O?O:void 0,_serverResponse:y.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,y,C,M){return new fr(g,y,C,M)}}function il(b,g,y,C){return("reauthenticate"===g?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?fr._fromErrorAndOperation(b,O,g,C):O})}function If(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Tf(b,g){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,l.Z)(function*(b,g){const y=(0,L.m9)(b);yield cu(!0,y,g);const{providerUserInfo:C}=yield function Bt(b,g){return qi.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),M=If(C||[]);return y.providerData=y.providerData.filter(O=>M.has(O.providerId)),M.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),Nd.apply(this,arguments)}function oo(b,g){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,l.Z)(function*(b,g,y=!1){const C=yield Hn(b,g._linkToIdToken(b.auth,yield b.getIdToken()),y);return bn._forOperation(b,"link",C)})).apply(this,arguments)}function cu(b,g,y){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,l.Z)(function*(b,g,y){yield Do(g);const M=!1===b?"provider-already-linked":"no-such-provider";te(If(g.providerData).has(y)===b,g.auth,M)})).apply(this,arguments)}function Sf(b,g){return Od.apply(this,arguments)}function Od(){return(Od=(0,l.Z)(function*(b,g,y=!1){const{auth:C}=b,M="reauthenticate";try{const O=yield Hn(b,il(C,M,g,b),y);te(O.idToken,C,"internal-error");const K=Wt(O.idToken);te(K,C,"internal-error");const{sub:fe}=K;return te(b.uid===fe,C,"user-mismatch"),bn._forOperation(b,M,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ce(C,"user-mismatch"),O}})).apply(this,arguments)}function Rd(b,g){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,l.Z)(function*(b,g,y=!1){const C="signIn",M=yield il(b,C,g),O=yield bn._fromIdTokenResponse(b,C,M);return y||(yield b._updateCurrentUser(O.user)),O})).apply(this,arguments)}function uu(b,g){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,l.Z)(function*(b,g){return Rd(Qn(b),g)})).apply(this,arguments)}function Bd(b,g){return xf.apply(this,arguments)}function xf(){return(xf=(0,l.Z)(function*(b,g){const y=(0,L.m9)(b);return yield cu(!1,y,g.providerId),oo(y,g)})).apply(this,arguments)}function Df(b,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(b,g){return Sf((0,L.m9)(b),g)})).apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(b,g){return In(b,"POST","/v1/accounts:signInWithCustomToken",he(b,g))})).apply(this,arguments)}function av(b,g){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,l.Z)(function*(b,g){const y=Qn(b),C=yield function Af(b,g){return du.apply(this,arguments)}(y,{token:g,returnSecureToken:!0}),M=yield bn._fromIdTokenResponse(y,"signIn",C);return yield y._updateCurrentUser(M.user),M}),Xl.apply(this,arguments)}class so{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Ss._fromServerResponse(g,y):"totpInfo"in y?ka._fromServerResponse(g,y):Ce(g,"internal-error")}}class Ss extends so{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Ss(y)}}class ka extends so{constructor(g){super("totp",g)}static _fromServerResponse(g,y){return new ka(y)}}function ec(b,g,y){var C;te((null===(C=y.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),te(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(te(y.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(te(y.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function hu(b,g,y){return fu.apply(this,arguments)}function fu(){return fu=(0,l.Z)(function*(b,g,y){var C;const M=Qn(b),O={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const K=yield is(M,O,"getOobCode",!0);y&&ec(M,K,y),yield Es(M,K)}else y&&ec(M,O,y),yield Es(M,O).catch(function(){var K=(0,l.Z)(function*(fe){if("auth/missing-recaptcha-token"!==fe.code)return Promise.reject(fe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ye=yield is(M,O,"getOobCode",!0);y&&ec(M,Ye,y),yield Es(M,Ye)}});return function(fe){return K.apply(this,arguments)}}())}),fu.apply(this,arguments)}function tc(b,g,y){return pu.apply(this,arguments)}function pu(){return(pu=(0,l.Z)(function*(b,g,y){yield Wl((0,L.m9)(b),{oobCode:g,newPassword:y})})).apply(this,arguments)}function kf(b,g){return nc.apply(this,arguments)}function nc(){return nc=(0,l.Z)(function*(b,g){yield function Md(b,g){return hr.apply(this,arguments)}((0,L.m9)(b),{oobCode:g})}),nc.apply(this,arguments)}function Ur(b,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(b,g){const y=(0,L.m9)(b),C=yield Wl(y,{oobCode:g}),M=C.requestType;switch(te(M,y,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(C.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(C.mfaInfo,y,"internal-error");default:te(C.email,y,"internal-error")}let O=null;return C.mfaInfo&&(O=so._fromServerResponse(Qn(y),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:O},operation:M}})).apply(this,arguments)}function rl(b,g){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(b,g){const{data:y}=yield Ur((0,L.m9)(b),g);return y.email})).apply(this,arguments)}function ol(b,g,y){return gu.apply(this,arguments)}function gu(){return gu=(0,l.Z)(function*(b,g,y){var C;const M=Qn(b),O={returnSecureToken:!0,email:g,password:y,clientType:"CLIENT_TYPE_WEB"};let K;if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const rt=yield is(M,O,"signUpPassword");K=Yl(M,rt)}else K=Yl(M,O).catch(function(){var rt=(0,l.Z)(function*(vt){if("auth/missing-recaptcha-token"===vt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Qt=yield is(M,O,"signUpPassword");return Yl(M,Qt)}return Promise.reject(vt)});return function(vt){return rt.apply(this,arguments)}}());const fe=yield K.catch(rt=>Promise.reject(rt)),Ye=yield bn._fromIdTokenResponse(M,"signIn",fe);return yield M._updateCurrentUser(Ye.user),Ye}),gu.apply(this,arguments)}function ic(b,g,y){return uu((0,L.m9)(b),Po.credential(g,y))}function mu(b,g,y){return ls.apply(this,arguments)}function ls(){return ls=(0,l.Z)(function*(b,g,y){var C;const M=Qn(b),O={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function K(fe,Ye){te(Ye.handleCodeInApp,M,"argument-error"),Ye&&ec(M,fe,Ye)}if(null!==(C=M._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const fe=yield is(M,O,"getOobCode",!0);K(fe,y),yield iu(M,fe)}else K(O,y),yield iu(M,O).catch(function(){var fe=(0,l.Z)(function*(Ye){if("auth/missing-recaptcha-token"!==Ye.code)return Promise.reject(Ye);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const rt=yield is(M,O,"getOobCode",!0);K(rt,y),yield iu(M,rt)}});return function(Ye){return fe.apply(this,arguments)}}())}),ls.apply(this,arguments)}function Vd(b,g){const y=Is.parseLink(g);return"EMAIL_SIGNIN"===y?.operation}function lv(b,g,y){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(b,g,y){const C=(0,L.m9)(b),M=Po.credentialWithLink(g,y||Yn());return te(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),uu(C,M)})).apply(this,arguments)}function rc(){return(rc=(0,l.Z)(function*(b,g){return Pe(b,"POST","/v1/accounts:createAuthUri",he(b,g))})).apply(this,arguments)}function yu(b,g){return oc.apply(this,arguments)}function oc(){return oc=(0,l.Z)(function*(b,g){const C={identifier:g,continueUri:zi()?Yn():"http://localhost"},{signinMethods:M}=yield function Ud(b,g){return rc.apply(this,arguments)}((0,L.m9)(b),C);return M||[]}),oc.apply(this,arguments)}function Sg(b,g){return sc.apply(this,arguments)}function sc(){return sc=(0,l.Z)(function*(b,g){const y=(0,L.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&ec(y.auth,M,g);const{email:O}=yield function Oi(b,g){return Ti.apply(this,arguments)}(y.auth,M);O!==b.email&&(yield b.reload())}),sc.apply(this,arguments)}function Hd(b,g,y){return Ma.apply(this,arguments)}function Ma(){return Ma=(0,l.Z)(function*(b,g,y){const C=(0,L.m9)(b),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};y&&ec(C.auth,O,y);const{email:K}=yield function Sa(b,g){return ru.apply(this,arguments)}(C.auth,O);K!==b.email&&(yield b.reload())}),Ma.apply(this,arguments)}function _u(){return(_u=(0,l.Z)(function*(b,g){return Pe(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function jd(b,g){return bu.apply(this,arguments)}function bu(){return bu=(0,l.Z)(function*(b,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const C=(0,L.m9)(b),O={idToken:yield C.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},K=yield Hn(C,function vu(b,g){return _u.apply(this,arguments)}(C.auth,O));C.displayName=K.displayName||null,C.photoURL=K.photoUrl||null;const fe=C.providerData.find(({providerId:Ye})=>"password"===Ye);fe&&(fe.displayName=C.displayName,fe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(K)}),bu.apply(this,arguments)}function $d(b,g){return ac((0,L.m9)(b),g,null)}function Mf(b,g){return ac((0,L.m9)(b),null,g)}function ac(b,g,y){return wu.apply(this,arguments)}function wu(){return(wu=(0,l.Z)(function*(b,g,y){const{auth:C}=b,O={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(O.email=g),y&&(O.password=y);const K=yield Hn(b,dr(C,O));yield b._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class xs{constructor(g,y,C={}){this.isNewUser=g,this.providerId=y,this.profile=C}}class Eu extends xs{constructor(g,y,C,M){super(g,y,C),this.username=M}}class Ir extends xs{constructor(g,y){super(g,"facebook.com",y)}}class lc extends Eu{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class cc extends xs{constructor(g,y){super(g,"google.com",y)}}class yn extends Eu{constructor(g,y,C){super(g,"twitter.com",y,C)}}function Pf(b){const{user:g,_tokenResponse:y}=b;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function zd(b){var g,y;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},O=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const K=null===(y=null===(g=Wt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(K)return new xs(O,"anonymous"!==K&&"custom"!==K?K:null)}if(!C)return null;switch(C){case"facebook.com":return new Ir(O,M);case"github.com":return new lc(O,M);case"google.com":return new cc(O,M);case"twitter.com":return new yn(O,M,b.screenName||null);case"custom":case"anonymous":return new xs(O,null);default:return new xs(O,C,M)}}(y)}class jr{constructor(g,y,C){this.type=g,this.credential=y,this.auth=C}static _fromIdtoken(g,y){return new jr("enroll",g,y)}static _fromMfaPendingCredential(g){return new jr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,C;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return jr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(C=g.multiFactorSession)&&void 0!==C&&C.idToken)return jr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class uc{constructor(g,y,C){this.session=g,this.hints=y,this.signInResolver=C}static _fromError(g,y){const C=Qn(g),M=y.customData._serverResponse,O=(M.mfaInfo||[]).map(fe=>so._fromServerResponse(C,fe));te(M.mfaPendingCredential,C,"internal-error");const K=jr._fromMfaPendingCredential(M.mfaPendingCredential);return new uc(K,O,function(){var fe=(0,l.Z)(function*(Ye){const rt=yield Ye._process(C,K);delete M.mfaInfo,delete M.mfaPendingCredential;const vt=Object.assign(Object.assign({},M),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(y.operationType){case"signIn":const Qt=yield bn._fromIdTokenResponse(C,y.operationType,vt);return yield C._updateCurrentUser(Qt.user),Qt;case"reauthenticate":return te(y.user,C,"internal-error"),bn._forOperation(y.user,y.operationType,vt);default:Ce(C,"internal-error")}});return function(Ye){return fe.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,l.Z)(function*(){return y.signInResolver(g)})()}}function dc(b,g){var y;const C=(0,L.m9)(b),M=g;return te(g.customData.operationType,C,"argument-error"),te(null===(y=M.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,C,"argument-error"),uc._fromError(C,M)}class xu{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(C=>so._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new xu(g)}getSession(){var g=this;return(0,l.Z)(function*(){return jr._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,y){var C=this;return(0,l.Z)(function*(){const M=g,O=yield C.getSession(),K=yield Hn(C.user,M._process(C.user.auth,O,y));return yield C.user._updateTokensIfNecessary(K),C.user.reload()})()}unenroll(g){var y=this;return(0,l.Z)(function*(){const C="string"==typeof g?g:g.uid,M=yield y.user.getIdToken();try{const O=yield Hn(y.user,function Gd(b,g){return Pe(b,"POST","/v2/accounts/mfaEnrollment:withdraw",he(b,g))}(y.user.auth,{idToken:M,mfaEnrollmentId:C}));y.enrolledFactors=y.enrolledFactors.filter(({uid:K})=>K!==C),yield y.user._updateTokensIfNecessary(O),yield y.user.reload()}catch(O){throw O}})()}}const Xs=new WeakMap;function fc(b){const g=(0,L.m9)(b);return Xs.has(g)||Xs.set(g,xu._fromUser(g)),Xs.get(g)}const sl="__sak";class Wd{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(sl,"1"),this.storage.removeItem(sl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const qd=(()=>{class b extends Wd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,C)=>this.onStorageEvent(y,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ea(){const b=(0,L.z$)();return me(b)||jn(b)}()&&function Yt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ti(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),O=this.localCache[C];M!==O&&y(C,O,M)}}onStorageEvent(y,C=!1){if(!y.key)return void this.forAllChangedKeys((fe,Ye,rt)=>{this.notifyListeners(fe,rt)});const M=y.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(M);if(y.newValue!==fe)null!==y.newValue?this.storage.setItem(M,y.newValue):this.storage.removeItem(M);else if(this.localCache[M]===y.newValue&&!C)return}const O=()=>{const fe=this.storage.getItem(M);!C&&this.localCache[M]===fe||this.notifyListeners(M,fe)},K=this.storage.getItem(M);!function zn(){return(0,L.w1)()&&10===document.documentMode}()||K===y.newValue||y.newValue===y.oldValue?O():setTimeout(O,10)}notifyListeners(y,C){this.localCache[y]=C;const M=this.listeners[y];if(M)for(const O of Array.from(M))O(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,C){var M=()=>super._set,O=this;return(0,l.Z)(function*(){yield M().call(O,y,C),O.localCache[y]=JSON.stringify(C)})()}_get(y){var C=()=>super._get,M=this;return(0,l.Z)(function*(){const O=yield C().call(M,y);return M.localCache[y]=JSON.stringify(O),O})()}_remove(y){var C=()=>super._remove,M=this;return(0,l.Z)(function*(){yield C().call(M,y),delete M.localCache[y]})()}}return b.type="LOCAL",b})(),Le=(()=>{class b extends Wd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,C){}_removeListener(y,C){}}return b.type="SESSION",b})();let Lf=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const C=this.receivers.find(O=>O.isListeningto(y));if(C)return C;const M=new b(y);return this.receivers.push(M),M}isListeningto(y){return this.eventTarget===y}handleEvent(y){var C=this;return(0,l.Z)(function*(){const M=y,{eventId:O,eventType:K,data:fe}=M.data,Ye=C.handlersMap[K];if(!Ye?.size)return;M.ports[0].postMessage({status:"ack",eventId:O,eventType:K});const rt=Array.from(Ye).map(function(){var Qt=(0,l.Z)(function*(Zr){return Zr(M.origin,fe)});return function(Zr){return Qt.apply(this,arguments)}}()),vt=yield function dn(b){return Promise.all(b.map(function(){var g=(0,l.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(C){return{fulfilled:!1,reason:C}}});return function(y){return g.apply(this,arguments)}}()))}(rt);M.ports[0].postMessage({status:"done",eventId:O,eventType:K,response:vt})})()}_subscribe(y,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(C)}_unsubscribe(y,C){this.handlersMap[y]&&C&&this.handlersMap[y].delete(C),(!C||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function ta(b="",g=10){let y="";for(let C=0;C<g;C++)y+=Math.floor(10*Math.random());return b+y}class Xi{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,C=50){var M=this;return(0,l.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let K,fe;return new Promise((Ye,rt)=>{const vt=ta("",20);O.port1.start();const Qt=setTimeout(()=>{rt(new Error("unsupported_event"))},C);fe={messageChannel:O,onMessage(Zr){const jo=Zr;if(jo.data.eventId===vt)switch(jo.data.status){case"ack":clearTimeout(Qt),K=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ye(jo.data.response);break;default:clearTimeout(Qt),clearTimeout(K),rt(new Error("invalid_response"))}}},M.handlers.add(fe),O.port1.addEventListener("message",fe.onMessage),M.target.postMessage({eventType:g,eventId:vt,data:y},[O.port2])}).finally(()=>{fe&&M.removeMessageHandler(fe)})})()}}function Xn(){return window}function $r(){return typeof Xn().WorkerGlobalScope<"u"&&"function"==typeof Xn().importScripts}function al(){return(al=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ni="firebaseLocalStorageDb",An="firebaseLocalStorage",gc="fbase_key";class No{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function zr(b,g){return b.transaction([An],g?"readwrite":"readonly").objectStore(An)}function mc(){const b=indexedDB.open(ni,1);return new Promise((g,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(An,{keyPath:gc})}catch(M){y(M)}}),b.addEventListener("success",(0,l.Z)(function*(){const C=b.result;C.objectStoreNames.contains(An)?g(C):(C.close(),yield function Dg(){const b=indexedDB.deleteDatabase(ni);return new No(b).toPromise()}(),g(yield mc()))}))})}function Mu(b,g,y){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(b,g,y){const C=zr(b,!0).put({[gc]:g,value:y});return new No(C).toPromise()})).apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(b,g){const y=zr(b,!1).get(g),C=yield new No(y).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Pu(b,g){const y=zr(b,!0).delete(g);return new No(y).toPromise()}const Nu=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,l.Z)(function*(){return y.db||(y.db=yield mc()),y.db})()}_withRetries(y){var C=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const O=yield C._openDb();return yield y(O)}catch(O){if(M++>3)throw O;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,l.Z)(function*(){return $r()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,l.Z)(function*(){y.receiver=Lf._getInstance(function Kd(){return $r()?self:null}()),y.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(M,O){return{keyProcessed:(yield y._poll()).includes(O.key)}});return function(M,O){return C.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(M,O){return["keyChanged"]});return function(M,O){return C.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,l.Z)(function*(){var C,M;if(y.activeServiceWorker=yield function ku(){return al.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Xi(y.activeServiceWorker);const O=yield y.sender._send("ping",{},800);O&&null!==(C=O[0])&&void 0!==C&&C.fulfilled&&null!==(M=O[0])&&void 0!==M&&M.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Zd(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:y},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const y=yield mc();return yield Mu(y,sl,"1"),yield Pu(y,sl),!0}catch{}return!1})()}_withPendingWrite(y){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield y()}finally{C.pendingWrites--}})()}_set(y,C){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(O=>Mu(O,y,C)),M.localCache[y]=C,M.notifyServiceWorker(y)}))})()}_get(y){var C=this;return(0,l.Z)(function*(){const M=yield C._withRetries(O=>function Oo(b,g){return ia.apply(this,arguments)}(O,y));return C.localCache[y]=M,M})()}_remove(y){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(M=>Pu(M,y)),delete C.localCache[y],C.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,l.Z)(function*(){const C=yield y._withRetries(K=>{const fe=zr(K,!1).getAll();return new No(fe).toPromise()});if(!C)return[];if(0!==y.pendingWrites)return[];const M=[],O=new Set;for(const{fbase_key:K,value:fe}of C)O.add(K),JSON.stringify(y.localCache[K])!==JSON.stringify(fe)&&(y.notifyListeners(K,fe),M.push(K));for(const K of Object.keys(y.localCache))y.localCache[K]&&!O.has(K)&&(y.notifyListeners(K,null),M.push(K));return M})()}notifyListeners(y,C){this.localCache[y]=C;const M=this.listeners[y];if(M)for(const O of Array.from(M))O(C)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Ru=1e12;class Qd{constructor(g){this.auth=g,this.counter=Ru,this._widgets=new Map}render(g,y){const C=this.counter;return this._widgets.set(C,new er(g,this.auth.name,y||{})),this.counter++,C}reset(g){var y;const C=g||Ru;null===(y=this._widgets.get(C))||void 0===y||y.delete(),this._widgets.delete(C)}getResponse(g){var y;return(null===(y=this._widgets.get(g||Ru))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,l.Z)(function*(){var C;return null===(C=y._widgets.get(g||Ru))||void 0===C||C.execute(),""})()}}class er{constructor(g,y,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;te(M,"argument-error",{appName:y}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ro(b){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)g.push(y.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rn=ns("rcb"),Lu=new xo(3e4,6e4);class Xd{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Xn().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return te(function kg(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(y),g,"argument-error"),this.shouldResolveImmediately(y)&&kt(Xn().grecaptcha)?Promise.resolve(Xn().grecaptcha):new Promise((C,M)=>{const O=Xn().setTimeout(()=>{M(_e(g,"network-request-failed"))},Lu.get());Xn()[Rn]=()=>{Xn().clearTimeout(O),delete Xn()[Rn];const fe=Xn().grecaptcha;if(!fe||!kt(fe))return void M(_e(g,"internal-error"));const Ye=fe.render;fe.render=(rt,vt)=>{const Qt=Ye(rt,vt);return this.counter++,Qt},this.hostLanguage=y,C(fe)},Gn(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Rn,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(O),M(_e(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=Xn().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fu{load(g){return(0,l.Z)(function*(){return new Qd(g)})()}clearedOneInstance(){}}const eh="recaptcha",cl={theme:"light",type:"image"};class ra{constructor(g,y=Object.assign({},cl),C){this.parameters=y,this.type=eh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qn(C),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;te(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fu:new Xd,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(y)||new Promise(O=>{const K=fe=>{fe&&(g.tokenChangeListeners.delete(K),O(fe))};g.tokenChangeListeners.add(K),g.isInvisible&&C.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(C=>C(y)),"function"==typeof g)g(y);else if("string"==typeof g){const C=Xn()[g];"function"==typeof C&&C(y)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const C=document.createElement("div");y.appendChild(C),y=C}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){te(zi()&&!$r(),g.auth,"internal-error"),yield function th(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Ee(b){return re.apply(this,arguments)}(g.auth);te(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vi{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Qi._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function Lo(b,g,y){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(b,g,y){const C=Qn(b),M=yield Fo(C,g,(0,L.m9)(y));return new Vi(M,O=>uu(C,O))})).apply(this,arguments)}function Bn(b,g,y){return Et.apply(this,arguments)}function Et(){return(Et=(0,l.Z)(function*(b,g,y){const C=(0,L.m9)(b);yield cu(!1,C,"phone");const M=yield Fo(C.auth,g,(0,L.m9)(y));return new Vi(M,O=>Bd(C,O))})).apply(this,arguments)}function ui(b,g,y){return ul.apply(this,arguments)}function ul(){return(ul=(0,l.Z)(function*(b,g,y){const C=(0,L.m9)(b),M=yield Fo(C.auth,g,(0,L.m9)(y));return new Vi(M,O=>Df(C,O))})).apply(this,arguments)}function Fo(b,g,y){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,l.Z)(function*(b,g,y){var C;const M=yield y.verify();try{let O;if(te("string"==typeof M,b,"argument-error"),te(y.type===eh,b,"argument-error"),O="string"==typeof g?{phoneNumber:g}:g,"session"in O){const K=O.session;if("phoneNumber"in O)return te("enroll"===K.type,b,"internal-error"),(yield function Su(b,g){return Pe(b,"POST","/v2/accounts/mfaEnrollment:start",he(b,g))}(b,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{te("signin"===K.type,b,"internal-error");const fe=(null===(C=O.multiFactorHint)||void 0===C?void 0:C.uid)||O.multiFactorUid;return te(fe,b,"missing-multi-factor-info"),(yield function Ff(b,g){return Pe(b,"POST","/v2/accounts/mfaSignIn:start",he(b,g))}(b,{mfaPendingCredential:K.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield function Jn(b,g){return Cs.apply(this,arguments)}(b,{phoneNumber:O.phoneNumber,recaptchaToken:M});return K}}finally{y._reset()}}),Ds.apply(this,arguments)}function Uf(b,g){return dl.apply(this,arguments)}function dl(){return(dl=(0,l.Z)(function*(b,g){yield oo((0,L.m9)(b),g)})).apply(this,arguments)}let Bu=(()=>{class b{constructor(y){this.providerId=b.PROVIDER_ID,this.auth=Qn(y)}verifyPhoneNumber(y,C){return Fo(this.auth,y,(0,L.m9)(C))}static credential(y,C){return Qi._fromVerification(y,C)}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:C,temporaryProof:M}=y;return C&&M?Qi._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ao(b,g){return g?oi(g):(te(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class tn extends tl{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return _i(g,this._buildIdpRequest())}_linkToIdToken(g,y){return _i(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return _i(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Bo(b){return Rd(b.auth,new tn(b),b.bypassAuthState)}function Hf(b){const{auth:g,user:y}=b;return te(y,g,"internal-error"),Sf(y,new tn(b),b.bypassAuthState)}function nh(b){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(b){const{auth:g,user:y}=b;return te(y,g,"internal-error"),oo(y,new tn(b),b.bypassAuthState)})).apply(this,arguments)}class oa{constructor(g,y,C,M,O=!1){this.auth=g,this.resolver=C,this.user=M,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,l.Z)(function*(C,M){g.pendingPromise={resolve:C,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(O){g.reject(O)}});return function(C,M){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:O,tenantId:K,error:fe,type:Ye}=g;if(fe)return void y.reject(fe);const rt={auth:y.auth,requestUri:C,sessionId:M,tenantId:K||void 0,postBody:O||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Ye)(rt))}catch(vt){y.reject(vt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Bo;case"linkViaPopup":case"linkViaRedirect":return nh;case"reauthViaPopup":case"reauthViaRedirect":return Hf;default:Ce(this.auth,"internal-error")}}resolve(g){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sr=new xo(2e3,1e4);function xr(b,g,y){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(b,g,y){const C=Qn(b);je(b,g,io);const M=ao(C,y);return new sa(C,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function Vu(b,g,y){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,l.Z)(function*(b,g,y){const C=(0,L.m9)(b);je(C.auth,g,io);const M=ao(C.auth,y);return new sa(C.auth,"reauthViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}function ih(b,g,y){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(b,g,y){const C=(0,L.m9)(b);je(C.auth,g,io);const M=ao(C.auth,y);return new sa(C.auth,"linkViaPopup",g,M,C).executeNotNull()})).apply(this,arguments)}let sa=(()=>{class b extends oa{constructor(y,C,M,O,K){super(y,C,O,K),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var y=this;return(0,l.Z)(function*(){const C=yield y.execute();return te(C,y.auth,"internal-error"),C})()}onExecution(){var y=this;return(0,l.Z)(function*(){et(1===y.filter.length,"Popup operations only handle one event");const C=ta();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],C),y.authWindow.associatedEvent=C,y.resolver._originValidation(y.auth).catch(M=>{y.reject(M)}),y.resolver._isIframeWebStorageSupported(y.auth,M=>{M||y.reject(_e(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const y=()=>{var C,M;this.pollId=null!==(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,Sr.get())};y()}}return b.currentPopupAction=null,b})();const Vo="pendingRedirect",us=new Map;class hl extends oa{constructor(g,y,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,l.Z)(function*(){let C=us.get(y.auth._key());if(!C){try{const O=(yield function Hu(b,g){return As.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;C=()=>Promise.resolve(O)}catch(M){C=()=>Promise.reject(M)}us.set(y.auth._key(),C)}return y.bypassAuthState||us.set(y.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(C,g);if("unknown"!==g.type){if(g.eventId){const M=yield C.auth._redirectUserForId(g.eventId);if(M)return C.user=M,y().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function As(){return(As=(0,l.Z)(function*(b,g){const y=ju(g),C=fl(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(y));return yield C._remove(y),M})).apply(this,arguments)}function ks(b,g){return co.apply(this,arguments)}function co(){return(co=(0,l.Z)(function*(b,g){return fl(b)._set(ju(g),"true")})).apply(this,arguments)}function jf(){us.clear()}function Dr(b,g){us.set(b._key(),g)}function fl(b){return oi(b._redirectPersistence)}function ju(b){return vi(Vo,b.config.apiKey,b.name)}function Ar(b,g,y){return function di(b,g,y){return uo.apply(this,arguments)}(b,g,y)}function uo(){return(uo=(0,l.Z)(function*(b,g,y){const C=Qn(b);je(b,g,io),yield C._initializationPromise;const M=ao(C,y);return yield ks(M,C),M._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function Ms(b,g,y){return function Gr(b,g,y){return bi.apply(this,arguments)}(b,g,y)}function bi(){return(bi=(0,l.Z)(function*(b,g,y){const C=(0,L.m9)(b);je(C.auth,g,io),yield C.auth._initializationPromise;const M=ao(C.auth,y);yield ks(M,C.auth);const O=yield gl(C);return M._openRedirect(C.auth,g,"reauthViaRedirect",O)})).apply(this,arguments)}function pl(b,g,y){return function aa(b,g,y){return rh.apply(this,arguments)}(b,g,y)}function rh(){return(rh=(0,l.Z)(function*(b,g,y){const C=(0,L.m9)(b);je(C.auth,g,io),yield C.auth._initializationPromise;const M=ao(C.auth,y);yield cu(!1,C,g.providerId),yield ks(M,C.auth);const O=yield gl(C);return M._openRedirect(C.auth,g,"linkViaRedirect",O)})).apply(this,arguments)}function ds(b,g){return ho.apply(this,arguments)}function ho(){return(ho=(0,l.Z)(function*(b,g){return yield Qn(b)._initializationPromise,Di(b,g,!1)})).apply(this,arguments)}function Di(b,g){return fo.apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(b,g,y=!1){const C=Qn(b),M=ao(C,g),K=yield new hl(C,M,y).execute();return K&&!y&&(delete K.user._redirectEventId,yield C._persistUserIfCurrent(K.user),yield C._setRedirectUser(null,g)),K})).apply(this,arguments)}function gl(b){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(b){const g=ta(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class hs{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(y=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Ot(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ho(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var C;if(g.error&&!Ho(g)){const M=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";y.onError(_e(this.auth,M))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const C=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ml(g))}saveEventToCache(g){this.cachedEventUids.add(ml(g)),this.lastProcessedEventTime=Date.now()}}function ml(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Ho({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function la(b){return yl.apply(this,arguments)}function yl(){return(yl=(0,l.Z)(function*(b,g={}){return Pe(b,"GET","/v1/projects",g)})).apply(this,arguments)}const vc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cv=/^https?/;function po(){return(po=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield la(b);for(const y of g)try{if($f(y))return}catch{}Ce(b,"unauthorized-domain")})).apply(this,arguments)}function $f(b){const g=Yn(),{protocol:y,hostname:C}=new URL(g);if(b.startsWith("chrome-extension://")){const K=new URL(b);return""===K.hostname&&""===C?"chrome-extension:"===y&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&K.hostname===C}if(!cv.test(y))return!1;if(vc.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const La=new xo(3e4,6e4);function tr(){const b=Xn().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let vl=null;const Gf=new xo(5e3,15e3),Wr="__/auth/iframe",Mg="emulator/auth/iframe",qr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ca=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _l(b){const g=b.config;te(g.authDomain,b,"auth-domain-config-required");const y=g.emulator?qs(g,Mg):`https://${b.config.authDomain}/${Wr}`,C={apiKey:g.apiKey,appName:b.name,v:H.SDK_VERSION},M=ca.get(b.config.apiHost);M&&(C.eid=M);const O=b._getFrameworks();return O.length&&(C.fw=O.join(",")),`${y}?${(0,L.xO)(C).slice(1)}`}function sn(){return sn=(0,l.Z)(function*(b){const g=yield function Nn(b){return vl=vl||function zf(b){return new Promise((g,y)=>{var C,M,O;function K(){tr(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{tr(),y(_e(b,"network-request-failed"))},timeout:La.get()})}if(null!==(M=null===(C=Xn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(O=Xn().gapi)||void 0===O||!O.load){const fe=ns("iframefcb");return Xn()[fe]=()=>{gapi.load?K():y(_e(b,"network-request-failed"))},Gn(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Ye=>y(Ye))}K()}}).catch(g=>{throw vl=null,g})}(b),vl}(b),y=Xn().gapi;return te(y,b,"internal-error"),g.open({where:document.body,url:_l(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qr,dontclear:!0},C=>new Promise(function(){var M=(0,l.Z)(function*(O,K){yield C.restyle({setHideOnLeave:!1});const fe=_e(b,"network-request-failed"),Ye=Xn().setTimeout(()=>{K(fe)},Gf.get());function rt(){Xn().clearTimeout(Ye),O(C)}C.ping(rt).then(rt,()=>{K(fe)})});return function(O,K){return M.apply(this,arguments)}}()))}),sn.apply(this,arguments)}const E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class J{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ke="__/auth/handler",pt="emulator/auth/handler",Rt=encodeURIComponent("fac");function Ft(b,g,y,C,M,O){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(b,g,y,C,M,O){te(b.config.authDomain,b,"auth-domain-config-required"),te(b.config.apiKey,b,"invalid-api-key");const K={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:C,v:H.SDK_VERSION,eventId:M};if(g instanceof io){g.setDefaultLanguage(b.languageCode),K.providerId=g.providerId||"",(0,L.xb)(g.getCustomParameters())||(K.customParameters=JSON.stringify(g.getCustomParameters()));for(const[vt,Qt]of Object.entries(O||{}))K[vt]=Qt}if(g instanceof os){const vt=g.getScopes().filter(Qt=>""!==Qt);vt.length>0&&(K.scopes=vt.join(","))}b.tenantId&&(K.tid=b.tenantId);const fe=K;for(const vt of Object.keys(fe))void 0===fe[vt]&&delete fe[vt];const Ye=yield b._getAppCheckToken(),rt=Ye?`#${Rt}=${encodeURIComponent(Ye)}`:"";return`${function ii({config:b}){return b.emulator?qs(b,pt):`https://${b.authDomain}/${Ke}`}(b)}?${(0,L.xO)(fe).slice(1)}${rt}`})).apply(this,arguments)}const ua="webStorageSupport",ps=class Fa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Le,this._completeRedirectFn=Di,this._overrideRedirectResult=Dr}_openPopup(g,y,C,M){var O=this;return(0,l.Z)(function*(){var K;et(null===(K=O.eventManagers[g._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const fe=yield Ft(g,y,C,Yn(),M);return function ye(b,g,y,C=500,M=600){const O=Math.max((window.screen.availHeight-M)/2,0).toString(),K=Math.max((window.screen.availWidth-C)/2,0).toString();let fe="";const Ye=Object.assign(Object.assign({},E),{width:C.toString(),height:M.toString(),top:O,left:K}),rt=(0,L.z$)().toLowerCase();y&&(fe=le(rt)?"_blank":y),Y(rt)&&(g=g||"http://localhost",Ye.scrollbars="yes");const vt=Object.entries(Ye).reduce((Zr,[jo,Qf])=>`${Zr}${jo}=${Qf},`,"");if(function en(b=(0,L.z$)()){var g;return jn(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(rt)&&"_self"!==fe)return function tt(b,g){const y=document.createElement("a");y.href=b,y.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(C)}(g||"",fe),new J(null);const Qt=window.open(g||"",fe,vt);te(Qt,b,"popup-blocked");try{Qt.focus()}catch{}return new J(Qt)}(g,fe,ta())})()}_openRedirect(g,y,C,M){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(g),function na(b){Xn().location.href=b}(yield Ft(g,y,C,Yn(),M)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:M,promise:O}=this.eventManagers[y];return M?Promise.resolve(M):(et(O,"If manager is not set, promise should be"),O)}const C=this.initAndGetManager(g);return this.eventManagers[y]={promise:C},C.catch(()=>{delete this.eventManagers[y]}),C}initAndGetManager(g){var y=this;return(0,l.Z)(function*(){const C=yield function fs(b){return sn.apply(this,arguments)}(g),M=new hs(g);return C.register("authEvent",O=>(te(O?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:M},y.iframes[g._key()]=C,M})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(ua,{type:ua},M=>{var O;const K=null===(O=M?.[0])||void 0===O?void 0:O[ua];void 0!==K&&y(!!K),Ce(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function uv(b){return po.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return ti()||me()||jn()}};class go{constructor(g){this.factorId=g}_process(g,y,C){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,C);case"signin":return this._finalizeSignIn(g,y.credential);default:return Ve("unexpected MultiFactorSessionType")}}}class kr extends go{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new kr(g)}_finalizeEnroll(g,y,C){return function hc(b,g){return Pe(b,"POST","/v2/accounts/mfaEnrollment:finalize",he(b,g))}(g,{idToken:y,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function Ou(b,g){return Pe(b,"POST","/v2/accounts/mfaSignIn:finalize",he(b,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _c=(()=>{class b{constructor(){}static assertion(y){return kr._fromCredential(y)}}return b.FACTOR_ID="phone",b})();var $u="@firebase/auth";class dv{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,l.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(C=>{g(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);y&&(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wl=(0,L.Pz)("authIdTokenMaxAge")||300;let hv=null;const Yf=b=>function(){var g=(0,l.Z)(function*(y){const C=y&&(yield y.getIdTokenResult()),M=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(M&&M>wl)return;const O=C?.token;hv!==O&&(hv=O,yield fetch(b,{method:O?"POST":"DELETE",headers:O?{Authorization:`Bearer ${O}`}:{}}))});return function(y){return g.apply(this,arguments)}}();function Ng(b=(0,H.getApp)()){const g=(0,H._getProvider)(b,"auth");if(g.isInitialized())return g.getImmediate();const y=function li(b,g){const y=(0,H._getProvider)(b,"auth");if(y.isInitialized()){const M=y.getImmediate(),O=y.getOptions();if((0,L.vZ)(O,g??{}))return M;Ce(M,"already-initialized")}return y.initialize({options:g})}(b,{popupRedirectResolver:ps,persistence:[Nu,qd,Le]}),C=(0,L.Pz)("authTokenSyncURL");if(C){const O=Yf(C);(function Cu(b,g,y){(0,L.m9)(b).beforeAuthStateChanged(g,y)})(y,O,()=>O(y.currentUser)),function Nf(b,g,y,C){(0,L.m9)(b).onIdTokenChanged(g,y,C)}(y,K=>O(K))}const M=(0,L.q4)("auth");return M&&kd(y,`http://${M}`),y}!function bl(b){(0,H._registerComponent)(new ne.wA("auth",(g,{options:y})=>{const C=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),O=g.getProvider("app-check-internal"),{apiKey:K,authDomain:fe}=C.options;te(K&&!K.includes(":"),"invalid-api-key",{appName:C.name});const Ye={apiKey:K,authDomain:fe,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ts(b)},rt=new ai(C,M,O,Ye);return function Tg(b,g){const y=g?.persistence||[],C=(Array.isArray(y)?y:[y]).map(oi);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(C,g?.popupRedirectResolver)}(rt,y),rt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,C)=>{g.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new ne.wA("auth-internal",g=>{const y=Qn(g.getProvider("auth").getImmediate());return new dv(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)($u,"0.23.2",function Pg(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,H.registerVersion)($u,"0.23.2","esm2017")}("Browser")},9058:(gt,Ie,R)=>{"use strict";R.d(Ie,{$s:()=>oi,BH:()=>Be,L:()=>se,LL:()=>We,Pz:()=>_e,UG:()=>Ve,US:()=>ne,ZB:()=>ae,ZR:()=>Pe,aH:()=>Ce,b$:()=>zi,eu:()=>de,hl:()=>ge,jU:()=>et,m9:()=>vi,ne:()=>Hn,pd:()=>Wt,q4:()=>Je,r3:()=>Bt,ru:()=>Yn,tV:()=>$,uI:()=>te,vZ:()=>Fr,w1:()=>Lr,xO:()=>ws,xb:()=>lr,z$:()=>oe,zI:()=>Ae,zd:()=>Ln});const X=function(W){const j=[];let Y=0;for(let me=0;me<W.length;me++){let le=W.charCodeAt(me);le<128?j[Y++]=le:le<2048?(j[Y++]=le>>6|192,j[Y++]=63&le|128):55296==(64512&le)&&me+1<W.length&&56320==(64512&W.charCodeAt(me+1))?(le=65536+((1023&le)<<10)+(1023&W.charCodeAt(++me)),j[Y++]=le>>18|240,j[Y++]=le>>12&63|128,j[Y++]=le>>6&63|128,j[Y++]=63&le|128):(j[Y++]=le>>12|224,j[Y++]=le>>6&63|128,j[Y++]=63&le|128)}return j},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,j){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[];for(let le=0;le<W.length;le+=3){const ct=W[le],It=le+1<W.length,cn=It?W[le+1]:0,Ci=le+2<W.length,jn=Ci?W[le+2]:0;let zn=(15&cn)<<2|jn>>6,ti=63&jn;Ci||(ti=64,It||(zn=64)),me.push(Y[ct>>2],Y[(3&ct)<<4|cn>>4],Y[zn],Y[ti])}return me.join("")},encodeString(W,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(W):this.encodeByteArray(X(W),j)},decodeString(W,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(W):function(W){const j=[];let Y=0,me=0;for(;Y<W.length;){const le=W[Y++];if(le<128)j[me++]=String.fromCharCode(le);else if(le>191&&le<224){const ct=W[Y++];j[me++]=String.fromCharCode((31&le)<<6|63&ct)}else if(le>239&&le<365){const Ci=((7&le)<<18|(63&W[Y++])<<12|(63&W[Y++])<<6|63&W[Y++])-65536;j[me++]=String.fromCharCode(55296+(Ci>>10)),j[me++]=String.fromCharCode(56320+(1023&Ci))}else{const ct=W[Y++],It=W[Y++];j[me++]=String.fromCharCode((15&le)<<12|(63&ct)<<6|63&It)}}return j.join("")}(this.decodeStringToByteArray(W,j))},decodeStringToByteArray(W,j){this.init_();const Y=j?this.charToByteMapWebSafe_:this.charToByteMap_,me=[];for(let le=0;le<W.length;){const ct=Y[W.charAt(le++)],cn=le<W.length?Y[W.charAt(le)]:0;++le;const jn=le<W.length?Y[W.charAt(le)]:64;++le;const en=le<W.length?Y[W.charAt(le)]:64;if(++le,null==ct||null==cn||null==jn||null==en)throw new we;me.push(ct<<2|cn>>4),64!==jn&&(me.push(cn<<4&240|jn>>2),64!==en&&me.push(jn<<6&192|en))}return me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const se=function(W){return function(W){const j=X(W);return ne.encodeByteArray(j,!0)}(W).replace(/\./g,"")},$=function(W){try{return ne.decodeString(W,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function ae(W,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return j}for(const Y in j)!j.hasOwnProperty(Y)||!Ue(Y)||(W[Y]=ae(W[Y],j[Y]));return W}function Ue(W){return"__proto__"!==W}const be=()=>{try{return function ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=W&&$(W[1]);return j&&JSON.parse(j)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},Je=W=>{var j,Y;return null===(Y=null===(j=be())||void 0===j?void 0:j.emulatorHosts)||void 0===Y?void 0:Y[W]},Ce=()=>{var W;return null===(W=be())||void 0===W?void 0:W.config},_e=W=>{var j;return null===(j=be())||void 0===j?void 0:j[`_${W}`]};class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Y)=>{this.resolve=j,this.reject=Y})}wrapCallback(j){return(Y,me)=>{Y?this.reject(Y):this.resolve(me),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Y):j(Y,me))}}}function oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function te(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())}function Ve(){var W;const j=null===(W=be())||void 0===W?void 0:W.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function et(){return"object"==typeof self&&self.self===self}function Yn(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function zi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Lr(){const W=oe();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function ge(){try{return"object"==typeof indexedDB}catch{return!1}}function de(){return new Promise((W,j)=>{try{let Y=!0;const me="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(me);le.onsuccess=()=>{le.result.close(),Y||self.indexedDB.deleteDatabase(me),W(!0)},le.onupgradeneeded=()=>{Y=!1},le.onerror=()=>{var ct;j((null===(ct=le.error)||void 0===ct?void 0:ct.message)||"")}}catch(Y){j(Y)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Pe extends Error{constructor(j,Y,me){super(Y),this.code=j,this.customData=me,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(j,Y,me){this.service=j,this.serviceName=Y,this.errors=me}create(j,...Y){const me=Y[0]||{},le=`${this.service}/${j}`,ct=this.errors[j],It=ct?function yt(W,j){return W.replace(on,(Y,me)=>{const le=j[me];return null!=le?String(le):`<${me}?>`})}(ct,me):"Error";return new Pe(le,`${this.serviceName}: ${It} (${le}).`,me)}}const on=/\{\$([^}]+)}/g;function Bt(W,j){return Object.prototype.hasOwnProperty.call(W,j)}function lr(W){for(const j in W)if(Object.prototype.hasOwnProperty.call(W,j))return!1;return!0}function Fr(W,j){if(W===j)return!0;const Y=Object.keys(W),me=Object.keys(j);for(const le of Y){if(!me.includes(le))return!1;const ct=W[le],It=j[le];if(Zs(ct)&&Zs(It)){if(!Fr(ct,It))return!1}else if(ct!==It)return!1}for(const le of me)if(!Y.includes(le))return!1;return!0}function Zs(W){return null!==W&&"object"==typeof W}function ws(W){const j=[];for(const[Y,me]of Object.entries(W))Array.isArray(me)?me.forEach(le=>{j.push(encodeURIComponent(Y)+"="+encodeURIComponent(le))}):j.push(encodeURIComponent(Y)+"="+encodeURIComponent(me));return j.length?"&"+j.join("&"):""}function Ln(W){const j={};return W.replace(/^\?/,"").split("&").forEach(me=>{if(me){const[le,ct]=me.split("=");j[decodeURIComponent(le)]=decodeURIComponent(ct)}}),j}function Wt(W){const j=W.indexOf("?");if(!j)return"";const Y=W.indexOf("#",j);return W.substring(j,Y>0?Y:void 0)}function Hn(W,j){const Y=new At(W,j);return Y.subscribe.bind(Y)}class At{constructor(j,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{j(this)}).catch(me=>{this.error(me)})}next(j){this.forEachObserver(Y=>{Y.next(j)})}error(j){this.forEachObserver(Y=>{Y.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Y,me){let le;if(void 0===j&&void 0===Y&&void 0===me)throw new Error("Missing Observer.");le=function Br(W,j){if("object"!=typeof W||null===W)return!1;for(const Y of j)if(Y in W&&"function"==typeof W[Y])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:Y,complete:me},void 0===le.next&&(le.next=hn),void 0===le.error&&(le.error=hn),void 0===le.complete&&(le.complete=hn);const ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch{}}),this.observers.push(le),ct}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,j)}sendOne(j,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Y(this.observers[j])}catch(me){typeof console<"u"&&console.error&&console.error(me)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hn(){}const cr=1e3,Ki=2,yi=144e5,ur=.5;function oi(W,j=cr,Y=Ki){const me=j*Math.pow(Y,W),le=Math.round(ur*me*(Math.random()-.5)*2);return Math.min(yi,me+le)}function vi(W){return W&&W._delegate?W._delegate:W}},3833:(gt,Ie,R)=>{"use strict";var l=R(8926);let L=null;function H(){return L}class Q{}const ne=new l.OlP("DocumentToken");let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(se)},providedIn:"platform"}),n})();const De=new l.OlP("Location Initialized");let se=(()=>{class n extends we{constructor(){super(),this._doc=(0,l.f3M)(ne),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const i=H().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=H().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function $(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ae(n){return n&&"?"!==n[0]?"?"+n:n}let Ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Xe)},providedIn:"root"}),n})();const ue=new l.OlP("appBaseHref");let Xe=(()=>{class n extends Ue{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ae(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const u=this.prepareExternalUrl(r+ae(s));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){const u=this.prepareExternalUrl(r+ae(s));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we),l.LFG(ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ke=(()=>{class n extends Ue{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=$(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let u=this.prepareExternalUrl(r+ae(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){let u=this.prepareExternalUrl(r+ae(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(we),l.LFG(ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Ce(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(z(xe(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ae(i))}normalize(t){return n.stripTrailingSlash(function Je(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,xe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ae(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ae(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ae,n.joinWithSlash=$,n.stripTrailingSlash=z,n.\u0275fac=function(t){return new(t||n)(l.LFG(Ue))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function be(){return new Ne((0,l.LFG)(Ue))}()},providedIn:"root"}),n})();function xe(n){return n.replace(/\/index.html$/,"")}var oe=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(oe||{}),te=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(te||{}),Ve=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Ve||{}),et=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(et||{});function de(n,e){return Bt((0,l.cg1)(n)[l.wAp.DateFormat],e)}function Ae(n,e){return Bt((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function he(n,e){return Bt((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function Pe(n,e){const t=(0,l.cg1)(n),i=t[l.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===et.CurrencyDecimal)return t[l.wAp.NumberSymbols][et.Decimal];if(e===et.CurrencyGroup)return t[l.wAp.NumberSymbols][et.Group]}return i}function wt(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Bt(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function qi(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Zs=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bs={},ws=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ln=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Ln||{}),Wt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Wt||{}),Ht=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ht||{});function Hn(n,e,t,i){let r=function j(n){if(me(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,u=1]=n.split("-").map(f=>+f);return At(r,s-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Zs))return function Y(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,f=Number(n[5]||0)-i,m=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,u,f,m,_),e}(i)}const e=new Date(n);if(!me(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Zi(t,e)||e;let f,u=[];for(;e;){if(f=ws.exec(e),!f){u.push(e);break}{u=u.concat(f.slice(1));const I=u.pop();if(!I)break;e=I}}let m=r.getTimezoneOffset();i&&(m=Vr(i,m),r=function W(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function vi(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(Vr(e,r)-r))}(r,i,!0));let _="";return u.forEach(I=>{const D=function Ao(n){if(oi[n])return oi[n];let e;switch(n){case"G":case"GG":case"GGG":e=Kt(Ht.Eras,te.Abbreviated);break;case"GGGG":e=Kt(Ht.Eras,te.Wide);break;case"GGGGG":e=Kt(Ht.Eras,te.Narrow);break;case"y":e=Dn(Wt.FullYear,1,0,!1,!0);break;case"yy":e=Dn(Wt.FullYear,2,0,!0,!0);break;case"yyy":e=Dn(Wt.FullYear,3,0,!1,!0);break;case"yyyy":e=Dn(Wt.FullYear,4,0,!1,!0);break;case"Y":e=ur(1);break;case"YY":e=ur(2,!0);break;case"YYY":e=ur(3);break;case"YYYY":e=ur(4);break;case"M":case"L":e=Dn(Wt.Month,1,1);break;case"MM":case"LL":e=Dn(Wt.Month,2,1);break;case"MMM":e=Kt(Ht.Months,te.Abbreviated);break;case"MMMM":e=Kt(Ht.Months,te.Wide);break;case"MMMMM":e=Kt(Ht.Months,te.Narrow);break;case"LLL":e=Kt(Ht.Months,te.Abbreviated,oe.Standalone);break;case"LLLL":e=Kt(Ht.Months,te.Wide,oe.Standalone);break;case"LLLLL":e=Kt(Ht.Months,te.Narrow,oe.Standalone);break;case"w":e=yi(1);break;case"ww":e=yi(2);break;case"W":e=yi(1,!0);break;case"d":e=Dn(Wt.Date,1);break;case"dd":e=Dn(Wt.Date,2);break;case"c":case"cc":e=Dn(Wt.Day,1);break;case"ccc":e=Kt(Ht.Days,te.Abbreviated,oe.Standalone);break;case"cccc":e=Kt(Ht.Days,te.Wide,oe.Standalone);break;case"ccccc":e=Kt(Ht.Days,te.Narrow,oe.Standalone);break;case"cccccc":e=Kt(Ht.Days,te.Short,oe.Standalone);break;case"E":case"EE":case"EEE":e=Kt(Ht.Days,te.Abbreviated);break;case"EEEE":e=Kt(Ht.Days,te.Wide);break;case"EEEEE":e=Kt(Ht.Days,te.Narrow);break;case"EEEEEE":e=Kt(Ht.Days,te.Short);break;case"a":case"aa":case"aaa":e=Kt(Ht.DayPeriods,te.Abbreviated);break;case"aaaa":e=Kt(Ht.DayPeriods,te.Wide);break;case"aaaaa":e=Kt(Ht.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":e=Kt(Ht.DayPeriods,te.Abbreviated,oe.Standalone,!0);break;case"bbbb":e=Kt(Ht.DayPeriods,te.Wide,oe.Standalone,!0);break;case"bbbbb":e=Kt(Ht.DayPeriods,te.Narrow,oe.Standalone,!0);break;case"B":case"BB":case"BBB":e=Kt(Ht.DayPeriods,te.Abbreviated,oe.Format,!0);break;case"BBBB":e=Kt(Ht.DayPeriods,te.Wide,oe.Format,!0);break;case"BBBBB":e=Kt(Ht.DayPeriods,te.Narrow,oe.Format,!0);break;case"h":e=Dn(Wt.Hours,1,-12);break;case"hh":e=Dn(Wt.Hours,2,-12);break;case"H":e=Dn(Wt.Hours,1);break;case"HH":e=Dn(Wt.Hours,2);break;case"m":e=Dn(Wt.Minutes,1);break;case"mm":e=Dn(Wt.Minutes,2);break;case"s":e=Dn(Wt.Seconds,1);break;case"ss":e=Dn(Wt.Seconds,2);break;case"S":e=Dn(Wt.FractionalSeconds,1);break;case"SS":e=Dn(Wt.FractionalSeconds,2);break;case"SSS":e=Dn(Wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ca(Ln.Short);break;case"ZZZZZ":e=Ca(Ln.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ca(Ln.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ca(Ln.Long);break;default:return null}return oi[n]=e,e}(I);_+=D?D(r,t,m):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function At(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Zi(n,e){const t=function zi(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(bs[t]=bs[t]||{},bs[t][e])return bs[t][e];let i="";switch(e){case"shortDate":i=de(n,Ve.Short);break;case"mediumDate":i=de(n,Ve.Medium);break;case"longDate":i=de(n,Ve.Long);break;case"fullDate":i=de(n,Ve.Full);break;case"shortTime":i=Ae(n,Ve.Short);break;case"mediumTime":i=Ae(n,Ve.Medium);break;case"longTime":i=Ae(n,Ve.Long);break;case"fullTime":i=Ae(n,Ve.Full);break;case"short":const r=Zi(n,"shortTime"),s=Zi(n,"shortDate");i=Br(he(n,Ve.Short),[r,s]);break;case"medium":const u=Zi(n,"mediumTime"),f=Zi(n,"mediumDate");i=Br(he(n,Ve.Medium),[u,f]);break;case"long":const m=Zi(n,"longTime"),_=Zi(n,"longDate");i=Br(he(n,Ve.Long),[m,_]);break;case"full":const I=Zi(n,"fullTime"),D=Zi(n,"fullDate");i=Br(he(n,Ve.Full),[I,D])}return i&&(bs[t][e]=i),i}function Br(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function hn(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),s+u}function Dn(n,e,t=0,i=!1,r=!1){return function(s,u){let f=function mn(n,e){switch(n){case Wt.FullYear:return e.getFullYear();case Wt.Month:return e.getMonth();case Wt.Date:return e.getDate();case Wt.Hours:return e.getHours();case Wt.Minutes:return e.getMinutes();case Wt.Seconds:return e.getSeconds();case Wt.FractionalSeconds:return e.getMilliseconds();case Wt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||f>-t)&&(f+=t),n===Wt.Hours)0===f&&-12===t&&(f=12);else if(n===Wt.FractionalSeconds)return function Do(n,e){return hn(n,3).substring(0,e)}(f,e);const m=Pe(u,et.MinusSign);return hn(f,e,m,i,r)}}function Kt(n,e,t=oe.Format,i=!1){return function(r,s){return function $l(n,e,t,i,r,s){switch(t){case Ht.Months:return function Mn(n,e,t){const i=(0,l.cg1)(n),s=Bt([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],e);return Bt(s,t)}(e,r,i)[n.getMonth()];case Ht.Days:return function Lr(n,e,t){const i=(0,l.cg1)(n),s=Bt([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],e);return Bt(s,t)}(e,r,i)[n.getDay()];case Ht.DayPeriods:const u=n.getHours(),f=n.getMinutes();if(s){const _=function Tn(n){const e=(0,l.cg1)(n);return wt(e),(e[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?qi(i):[qi(i[0]),qi(i[1])])}(e),I=function Gi(n,e,t){const i=(0,l.cg1)(n);wt(i);const s=Bt([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],e)||[];return Bt(s,t)||[]}(e,r,i),D=_.findIndex(N=>{if(Array.isArray(N)){const[U,B]=N,q=u>=U.hours&&f>=U.minutes,ie=u<B.hours||u===B.hours&&f<B.minutes;if(U.hours<B.hours){if(q&&ie)return!0}else if(q||ie)return!0}else if(N.hours===u&&N.minutes===f)return!0;return!1});if(-1!==D)return I[D]}return function br(n,e,t){const i=(0,l.cg1)(n),s=Bt([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],e);return Bt(s,t)}(e,r,i)[u<12?0:1];case Ht.Eras:return function xo(n,e){return Bt((0,l.cg1)(n)[l.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function Ca(n){return function(e,t,i){const r=-1*i,s=Pe(t,et.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ln.Short:return(r>=0?"+":"")+hn(u,2,s)+hn(Math.abs(r%60),2,s);case Ln.ShortGMT:return"GMT"+(r>=0?"+":"")+hn(u,1,s);case Ln.Long:return"GMT"+(r>=0?"+":"")+hn(u,2,s)+":"+hn(Math.abs(r%60),2,s);case Ln.Extended:return 0===i?"Z":(r>=0?"+":"")+hn(u,2,s)+":"+hn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const es=0,Ei=4;function Ki(n){return At(n.getFullYear(),n.getMonth(),n.getDate()+(Ei-n.getDay()))}function yi(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+s)/7)}else{const s=Ki(t),u=function cr(n){const e=At(n,es,1).getDay();return At(n,0,1+(e<=Ei?Ei:Ei+7)-e)}(s.getFullYear()),f=s.getTime()-u.getTime();r=1+Math.round(f/6048e5)}return hn(r,n,Pe(i,et.MinusSign))}}function ur(n,e=!1){return function(t,i){return hn(Ki(t).getFullYear(),n,Pe(i,et.MinusSign),e)}}const oi={};function Vr(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function me(n){return n instanceof Date&&!isNaN(n.valueOf())}function ko(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const Ia=/\s+/,tu=[];let Ni=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=tu,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ia):tu}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ia):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Ia).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class wf{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ai=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new wf(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const f=i.get(s);i.move(f,u),Qn(f,r)}});for(let r=0,s=i.length;r<s;r++){const f=i.get(r).context;f.index=r,f.count=s,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Qn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Qn(n,e){n.context.$implicit=e.item}let li=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Tg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kd("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kd("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Tg{constructor(){this.$implicit=null,this.ngIf=null}}function kd(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class zl{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ks=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Gl=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new zl(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ks,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),dr=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),u=-1===r.indexOf("-")?void 0:l.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,u):this._renderer.removeStyle(this._ngEl.nativeElement,r,u)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),wr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,s,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();const Sa=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),ru=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Pd=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return Hn(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw function hr(n,e){return new l.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16),l.Y36(Sa,24),l.Y36(ru,24))},n.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Wn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const qn="browser";function Er(n){return n===qn}function Is(n){return"server"===n}let os=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new qt((0,l.LFG)(ne),window)}),n})();class qt{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function au(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=su(this.window.history)||su(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function su(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ro{}class lc extends Q{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cc extends lc{static makeCurrent(){!function X(n){L||(L=n)}(new cc)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Pf(){return yn=yn||document.querySelector("base"),yn?yn.getAttribute("href"):null}();return null==t?null:function Tr(n){Pa=Pa||document.createElement("a"),Pa.setAttribute("href",n);const e=Pa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){yn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ko(document.cookie,e)}}let Pa,yn=null,Cu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Js=new l.OlP("EventManagerPlugins");let Ji=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Js),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Of{constructor(e){this._doc=e}}const Iu="ng-app-id";let Tu=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Is(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Iu}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Iu),s;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(Iu,this.appId),u}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,u=s.get(i)?.elements;u?u.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Hr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jr=/%COMP%/g,xg=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function xu(n,e){return e.map(t=>t.replace(jr,n))}let Xs=(()=>{class n{constructor(t,i,r,s,u,f,m,_=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=u,this.platformId=f,this.ngZone=m,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=Is(f),this.defaultRenderer=new fc(t,u,m,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===l.ifc.ShadowDom&&(i={...i,encapsulation:l.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof Du?r.applyToHost(t):r instanceof pc&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const u=this.doc,f=this.ngZone,m=this.eventManager,_=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(i.encapsulation){case l.ifc.Emulated:s=new Du(m,_,i,this.appId,I,u,f,D);break;case l.ifc.ShadowDom:return new Rf(m,_,t,i,u,f,this.nonce,D);default:s=new pc(m,_,i,I,u,f,D)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ji),l.LFG(Tu),l.LFG(l.AFp),l.LFG(xg),l.LFG(ne),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class fc{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Hr[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ea(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(ea(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new l.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Hr[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Hr[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=H().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function ea(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Rf extends fc{constructor(e,t,i,r,s,u,f,m){super(e,s,u,m),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=xu(r.id,r.styles);for(const I of _){const D=document.createElement("style");f&&D.setAttribute("nonce",f),D.textContent=I,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pc extends fc{constructor(e,t,i,r,s,u,f,m){super(e,s,u,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=m?xu(m,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Du extends pc{constructor(e,t,i,r,s,u,f,m){const _=r+"-"+i.id;super(e,t,i,s,u,f,m,_),this.contentAttr=function Pt(n){return"_ngcontent-%COMP%".replace(jr,n)}(_),this.hostAttr=function Gd(n){return"_nghost-%COMP%".replace(jr,n)}(_)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let qd=(()=>{class n extends Of{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Au=["alt","control","meta","shift"],Le={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Lf=(()=>{class n extends Of{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),u="code."),Au.forEach(_=>{const I=i.indexOf(_);I>-1&&(i.splice(I,1),u+=_+".")}),u+=s,0!=i.length||0===s.length)return null;const m={};return m.domEventName=r,m.fullKey=u,m}static matchEventFullKeyCode(t,i){let r=Le[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Au.forEach(u=>{u!==r&&(0,dn[u])(t)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Kd=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:qn},{provide:l.g9A,useValue:function $r(){cc.makeCurrent()},multi:!0},{provide:ne,useFactory:function al(){return(0,l.RDi)(document),document},deps:[]}]),ni=new l.OlP(""),Bi=[{provide:l.rWj,useClass:class Nf{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new l.vHH(5103,!1);return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const f=function(m){u=u||m,s--,0==s&&i(u)};r.forEach(m=>{m.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],An=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ku(){return new l.qLn},deps:[]},{provide:Js,useClass:qd,multi:!0,deps:[ne,l.R0b,l.Lbi]},{provide:Js,useClass:Lf,multi:!0,deps:[ne]},Xs,Tu,Ji,{provide:l.FYo,useExisting:Xs},{provide:ro,useClass:Cu,deps:[]},[]];let gc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ni,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...An,...Bi],imports:[Wn,l.hGG]}),n})(),Mu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function mc(){return new Mu((0,l.LFG)(ne))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(Lu),i},providedIn:"root"}),n})(),Lu=(()=>{class n extends Ro{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new l.vHH(5200,!1);case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new l.vHH(5201,!1);default:throw new l.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Rn(n){return new Lu(n.get(ne))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Vi=R(5592),Lo=R(4674),Bn=R(2459),Et=R(2096),ui=R(5619);const{isArray:ul}=Array,{getPrototypeOf:Fo,prototype:Ds,keys:Uf}=Object;function dl(n){if(1===n.length){const e=n[0];if(ul(e))return{args:e,keys:null};if(function Bu(n){return n&&"object"==typeof n&&Fo(n)===Ds}(e)){const t=Uf(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var ao=R(2737),tn=R(7398);const{isArray:Bo}=Array;function nh(n){return(0,tn.U)(e=>function Hf(n,e){return Bo(e)?n(...e):n(e)}(n,e))}var lo=R(9940);function oa(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Sr=R(8251),xr=R(7103);function cs(...n){const e=(0,lo.yG)(n),t=(0,lo.jO)(n),{args:i,keys:r}=dl(n);if(0===i.length)return(0,Bn.D)([],e);const s=new Vi.y(function Vu(n,e,t=ao.y){return i=>{Uu(e,()=>{const{length:r}=n,s=new Array(r);let u=r,f=r;for(let m=0;m<r;m++)Uu(e,()=>{const _=(0,Bn.D)(n[m],e);let I=!1;_.subscribe((0,Sr.x)(i,D=>{s[m]=D,I||(I=!0,f--),f||i.next(t(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>oa(r,u):ao.y));return t?s.pipe(nh(t)):s}function Uu(n,e,t){n?(0,xr.f)(t,n,e):e()}const Ra=(0,R(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var sa=R(7537);function us(...n){return function Vo(){return(0,sa.J)(1)}()((0,Bn.D)(n,(0,lo.yG)(n)))}var hl=R(4829);function Hu(n){return new Vi.y(e=>{(0,hl.Xf)(n()).subscribe(e)})}var As=R(8407);function ks(n,e){const t=(0,Lo.m)(n)?n:()=>n,i=r=>r.error(t());return new Vi.y(e?r=>e.schedule(i,0,r):i)}var co=R(6232),jf=R(7394),Dr=R(9360);function fl(){return(0,Dr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Sr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class ju extends Vi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Dr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jf.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Sr.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jf.w0.EMPTY)}return e}refCount(){return fl()(this)}}var Ar=R(8645),di=R(4664);function uo(n){return n<=0?()=>co.E:(0,Dr.e)((e,t)=>{let i=0;e.subscribe((0,Sr.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ms(...n){const e=(0,lo.yG)(n);return(0,Dr.e)((t,i)=>{(e?us(n,t,e):us(n,t)).subscribe(i)})}function Gr(n,e){return(0,Dr.e)((t,i)=>{let r=0;t.subscribe((0,Sr.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var bi=R(1631);function pl(n){return(0,Dr.e)((e,t)=>{let i=!1;e.subscribe((0,Sr.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function aa(n=rh){return(0,Dr.e)((e,t)=>{let i=!1;e.subscribe((0,Sr.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function rh(){return new Ra}function ds(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Gr((r,s)=>n(r,s,i)):ao.y,uo(1),t?pl(e):aa(()=>new Ra))}function ho(n,e){return(0,Lo.m)(e)?(0,bi.z)(n,e,1):(0,bi.z)(n,1)}var Di=R(9397);function fo(n){return(0,Dr.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Sr.x)(t,void 0,void 0,u=>{s=(0,hl.Xf)(n(u,fo(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Uo(n){return n<=0?()=>co.E:(0,Dr.e)((e,t)=>{let i=[];e.subscribe((0,Sr.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ho(n){return(0,Dr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ot="primary",la=Symbol("RouteTitle");class yl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function vc(n){return new yl(n)}function cv(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],f=n[s];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function po(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!$f(n[r],e[r]))return!1;return!0}function $f(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function La(n){return n.length>0?n[n.length-1]:null}function tr(n){return function Oa(n){return!!n&&(n instanceof Vi.y||(0,Lo.m)(n.lift)&&(0,Lo.m)(n.subscribe))}(n)?n:(0,l.QGY)(n)?(0,Bn.D)(Promise.resolve(n)):(0,Et.of)(n)}const zf={exact:function Wr(n,e,t){if(!k(n.segments,e.segments)||!_l(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Wr(n.children[i],e.children[i],t))return!1;return!0},subset:qr},vl={exact:function Gf(n,e){return po(n,e)},subset:function Mg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$f(n[t],e[t]))},ignored:()=>!0};function Nn(n,e,t){return zf[t.paths](n.root,e.root,t.matrixParams)&&vl[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function qr(n,e,t){return ca(n,e,e.segments,t)}function ca(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!k(r,t)||e.hasChildren()||!_l(r,t,i))}if(n.segments.length===t.length){if(!k(n.segments,t)||!_l(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!qr(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(k(n.segments,r)&&_l(n.segments,r,i)&&n.children[Ot])&&ca(n.children[Ot],e,s,i)}}function _l(n,e,t){return e.every((i,r)=>vl[t](n[r].parameters,i.parameters))}class fs{constructor(e=new sn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vc(this.queryParams)),this._queryParamMap}toString(){return ye.serialize(this)}}class sn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tt(this)}}class E{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=vc(this.parameters)),this._parameterMap}toString(){return Fa(this)}}function k(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new J},providedIn:"root"}),n})();class J{parse(e){const t=new dv(e);return new fs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ke(e.root,!0)}`,i=function go(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Rt(t)}=${Rt(r)}`).join("&"):`${Rt(t)}=${Rt(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Ft(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ye=new J;function tt(n){return n.segments.map(e=>Fa(e)).join("/")}function Ke(n,e){if(!n.hasChildren())return tt(n);if(e){const t=n.children[Ot]?Ke(n.children[Ot],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Ot&&i.push(`${r}:${Ke(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function F(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ot&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ot&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Ot?[Ke(n.children[Ot],!1)]:[`${r}:${Ke(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${tt(n)}/${t[0]}`:`${tt(n)}/(${t.join("//")})`}}function pt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rt(n){return pt(n).replace(/%3B/gi,";")}function Ui(n){return pt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ii(n){return decodeURIComponent(n)}function ua(n){return ii(n.replace(/\+/g,"%20"))}function Fa(n){return`${Ui(n.path)}${function ps(n){return Object.keys(n).map(e=>`;${Ui(e)}=${Ui(n[e])}`).join("")}(n.parameters)}`}const kr=/^[^\/()?;#]+/;function _c(n){const e=n.match(kr);return e?e[0]:""}const Wf=/^[^\/()?;=#]+/,Zf=/^[^=?&#]+/,$u=/^[^&#]+/;class dv{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ot]=new sn(e,t)),i}parseSegment(){const e=_c(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new E(ii(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function qf(n){const e=n.match(Wf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=_c(this.remaining);r&&(i=r,this.capture(i))}e[ii(t)]=ii(i)}parseQueryParam(e){const t=function bc(n){const e=n.match(Zf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Kf(n){const e=n.match($u);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=ua(t),s=ua(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=_c(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ot);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[Ot]:new sn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function Pg(n){return n.segments.length>0?new sn([],{[Ot]:n}):n}function bl(n){const e={};for(const i of Object.keys(n.children)){const s=bl(n.children[i]);if(i===Ot&&0===s.segments.length&&s.hasChildren())for(const[u,f]of Object.entries(s.children))e[u]=f;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function zu(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new sn(n.segments.concat(e.segments),e.children)}return n}(new sn(n.segments,e))}function wl(n){return n instanceof fs}function Yf(n){let e;const r=Pg(function t(s){const u={};for(const m of s.children){const _=t(m);u[m.outlet]=_}const f=new sn(s.url,u);return s===n&&(e=f),f}(n.root));return e??r}function Ng(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return y(r,r,r,t,i);const s=function O(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new M(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return Object.entries(s.outlets).forEach(([m,_])=>{f[m]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,s]},[]);return new M(t,e,i)}(e);if(s.toRoot())return y(r,r,new sn([],{}),t,i);const u=function fe(n,e,t){if(n.isAbsolute)return new K(e,!0,0);if(!t)return new K(e,!1,NaN);if(null===t.parent)return new K(t,!0,0);const i=b(n.commands[0])?0:1;return function Ye(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new K(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),f=u.processChildren?Qt(u.segmentGroup,u.index,s.commands):vt(u.segmentGroup,u.index,s.commands);return y(r,u.segmentGroup,f,t,i)}function b(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function g(n){return"object"==typeof n&&null!=n&&n.outlets}function y(n,e,t,i,r){let u,s={};i&&Object.entries(i).forEach(([m,_])=>{s[m]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),u=n===e?t:C(n,e,t);const f=Pg(bl(u));return new fs(f,s,r)}function C(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:C(s,e,t)}),new sn(n.segments,i)}class M{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&b(i[0]))throw new l.vHH(4003,!1);const r=i.find(g);if(r&&r!==La(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class K{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function vt(n,e,t){if(n||(n=new sn([],{})),0===n.segments.length&&n.hasChildren())return Qt(n,e,t);const i=function Zr(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const u=n.segments[r],f=t[i];if(g(f))break;const m=`${f}`,_=i<t.length-1?t[i+1]:null;if(r>0&&void 0===m)break;if(m&&_&&"object"==typeof _&&void 0===_.outlets){if(!wc(m,_,u))return s;i+=2}else{if(!wc(m,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new sn(n.segments.slice(0,i.pathIndex),{});return s.children[Ot]=new sn(n.segments.slice(i.pathIndex),n.children),Qt(s,0,r)}return i.match&&0===r.length?new sn(n.segments,{}):i.match&&!n.hasChildren()?jo(n,e,t):i.match?Qt(n,0,r):jo(n,e,t)}function Qt(n,e,t){if(0===t.length)return new sn(n.segments,{});{const i=function rt(n){return g(n[0])?n[0].outlets:{[Ot]:n}}(t),r={};if(!i[Ot]&&n.children[Ot]&&1===n.numberOfChildren&&0===n.children[Ot].segments.length){const s=Qt(n.children[Ot],e,t);return new sn(n.segments,s.children)}return Object.entries(i).forEach(([s,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(r[s]=vt(n.children[s],e,u))}),Object.entries(n.children).forEach(([s,u])=>{void 0===i[s]&&(r[s]=u)}),new sn(n.segments,r)}}function jo(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(g(s)){const m=Qf(s.outlets);return new sn(i,m)}if(0===r&&b(t[0])){i.push(new E(n.segments[e].path,Og(t[0]))),r++;continue}const u=g(s)?s.outlets[Ot]:`${s}`,f=r<t.length-1?t[r+1]:null;u&&f&&b(f)?(i.push(new E(u,Og(f))),r+=2):(i.push(new E(u,{})),r++)}return new sn(i,{})}function Qf(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=jo(new sn([],{}),0,i))}),e}function Og(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function wc(n,e,t){return n==t.path&&po(e,t.parameters)}const Gu="imperative";class Ns{constructor(e,t){this.id=e,this.url=t}}class oh extends Ns{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class El extends Ns{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sh extends Ns{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cl extends Ns{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Il extends Ns{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ah extends Ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lh extends Ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rg extends Ns{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class t1 extends Ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ch extends Ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n1{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class i1{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Lg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fg{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bg{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SS{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r1{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class o1{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wu,this.attachRef=null}}let Wu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new o1,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class s1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=fv(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=fv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return pv(e,this._root).map(t=>t.value)}}function fv(n,e){if(n===e.value)return e;for(const t of e.children){const i=fv(n,t);if(i)return i}return null}function pv(n,e){if(n===e.value)return[e];for(const t of e.children){const i=pv(n,t);if(i.length)return i.unshift(e),i}return[]}class Ba{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function uh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class a1 extends s1{constructor(e,t){super(e),this.snapshot=t,Ug(this,e)}toString(){return this.snapshot.toString()}}function mo(n,e){const t=function gv(n,e){const u=new Cc([],{},{},"",{},Ot,e,null,{});return new mv("",new Ba(u,[]))}(0,e),i=new ui.X([new E("",{})]),r=new ui.X({}),s=new ui.X({}),u=new ui.X({}),f=new ui.X(""),m=new Ec(i,r,u,f,s,Ot,e,t.root);return m.snapshot=t.root,new a1(new Ba(m,[]),t)}class Ec{constructor(e,t,i,r,s,u,f,m){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=u,this.component=f,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,tn.U)(_=>_[la]))??(0,Et.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tn.U)(e=>vc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tn.U)(e=>vc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vg(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Kr(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Cc{get title(){return this.data?.[la]}constructor(e,t,i,r,s,u,f,m,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=f,this.routeConfig=m,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mv extends s1{constructor(e,t){super(t),this.url=e,Ug(this,t)}toString(){return l1(this._root)}}function Ug(n,e){e.value._routerState=n,e.children.forEach(t=>Ug(n,t))}function l1(n){const e=n.children.length>0?` { ${n.children.map(l1).join(", ")} } `:"";return`${n.value}${e}`}function Hg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,po(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),po(e.params,t.params)||n.paramsSubject.next(t.params),function uv(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!po(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),po(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function yv(n,e){const t=po(n.params,e.params)&&function S(n,e){return k(n,e)&&n.every((t,i)=>po(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||yv(n.parent,e.parent))}let jg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Wu),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(Jf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new xS(t,f,r.injector);this.activated=r.createComponent(u,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class xS{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ec?this.route:e===Wu?this.childContexts:this.parent.get(e,t)}}const Jf=new l.OlP("");let c1=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=cs([i.queryParams,i.params,i.data]).pipe((0,di.w)(([s,u,f],m)=>(f={...s,...u,...f},0===m?(0,Et.of)(f):Promise.resolve(f)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const u=(0,l.qFp)(i.component);if(u)for(const{templateName:f}of u.inputs)t.activatedComponentRef.setInput(f,s[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function qu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function vv(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return qu(n,i,r);return qu(n,i)})}(n,e,t);return new Ba(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>qu(n,f)),u}}const i=function AS(n){return new Ec(new ui.X(n.url),new ui.X(n.params),new ui.X(n.queryParams),new ui.X(n.fragment),new ui.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>qu(n,s));return new Ba(i,r)}}const Zu="ngNavigationCancelingError";function u1(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=wl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=d1(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function d1(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Zu]=!0,i.cancellationCode=e,t&&(i.url=t),i}function _v(n){return bv(n)&&wl(n.url)}function bv(n){return n&&n[Zu]}let wv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[jg],encapsulation:2}),n})();function Iv(n){const e=n.children&&n.children.map(Iv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=wv),t}function da(n){return n.outlet||Ot}function Ku(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class RS{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Hg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=uh(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=uh(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=uh(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=uh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new SS(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Fg(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Hg(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Hg(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=Ku(r.snapshot);u.attachRef=null,u.route=r,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class p1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hh{constructor(e,t){this.component=e,this.route=t}}function g1(n,e,t){const i=n._root;return fh(i,e?e._root:null,t,[i.value])}function Qu(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function fh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=uh(e);return n.children.forEach(u=>{(function LS(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const m=function RN(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!k(n.url,e.url);case"pathParamsOrQueryParamsChange":return!k(n.url,e.url)||!po(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yv(n,e)||!po(n.queryParams,e.queryParams);default:return!yv(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new p1(i)):(s.data=u.data,s._resolvedData=u._resolvedData),fh(n,e,s.component?f?f.children:null:t,i,r),m&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new hh(f.outlet.component,u))}else u&&Ic(e,f,r),r.canActivateChecks.push(new p1(i)),fh(n,null,s.component?f?f.children:null:t,i,r)})(u,s[u.value.outlet],t,i.concat([u.value]),r),delete s[u.value.outlet]}),Object.entries(s).forEach(([u,f])=>Ic(f,t.getContext(u),r)),r}function Ic(n,e,t){const i=uh(n),r=n.value;Object.entries(i).forEach(([s,u])=>{Ic(u,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new hh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Xf(n){return"function"==typeof n}function Gg(n){return n instanceof Ra||"EmptyError"===n?.name}const Ju=Symbol("INITIAL_VALUE");function Xu(){return(0,di.w)(n=>cs(n.map(e=>e.pipe(uo(1),Ms(Ju)))).pipe((0,tn.U)(e=>{for(const t of e)if(!0!==t){if(t===Ju)return Ju;if(!1===t||t instanceof fs)return t}return!0}),Gr(e=>e!==Ju),uo(1)))}function tp(n){return(0,As.z)((0,Di.b)(e=>{if(wl(e))throw u1(0,e)}),(0,tn.U)(e=>!0===e))}class Tl{constructor(e){this.segmentGroup=e||null}}class I1{constructor(e){this.urlTree=e}}function ph(n){return ks(new Tl(n))}function HS(n){return ks(new I1(n))}class $S{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new l.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,Et.of)(i);if(r.numberOfChildren>1||!r.children[Ot])return ks(new l.vHH(4e3,!1));r=r.children[Ot]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new fs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const f=s.substring(1);i[r]=t[f]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let u={};return Object.entries(t.children).forEach(([f,m])=>{u[f]=this.createSegmentGroup(e,m,i,r)}),new sn(s,u)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const ed={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wg(n,e,t,i,r){const s=np(n,e,t);return s.matched?(i=function dh(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function Dv(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,Et.of)(!0);const s=r.map(u=>{const f=Qu(u,n);return tr(function $g(n){return n&&Xf(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,Et.of)(s).pipe(Xu(),tp())}(i,e,t).pipe((0,tn.U)(u=>!0===u?s:{...ed}))):(0,Et.of)(s)}function np(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...ed}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||cv)(t,n,e);if(!r)return{...ed};const s={};Object.entries(r.posParams??{}).forEach(([f,m])=>{s[f]=m.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function kv(n,e,t,i){return t.length>0&&function td(n,e,t){return t.some(i=>qg(n,e,i)&&da(i)!==Ot)}(n,t,i)?{segmentGroup:new sn(e,S1(i,new sn(t,n.children))),slicedSegments:[]}:0===t.length&&function zS(n,e,t){return t.some(i=>qg(n,e,i))}(n,t,i)?{segmentGroup:new sn(n.segments,T1(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new sn(n.segments,n.children),slicedSegments:t}}function T1(n,e,t,i,r){const s={};for(const u of i)if(qg(n,t,u)&&!r[da(u)]){const f=new sn([],{});s[da(u)]=f}return{...r,...s}}function S1(n,e){const t={};t[Ot]=e;for(const i of n)if(""===i.path&&da(i)!==Ot){const r=new sn([],{});t[da(i)]=r}return t}function qg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Sl{constructor(e,t,i,r,s,u,f){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=u,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new $S(this.urlSerializer,this.urlTree)}noMatchError(e){return new l.vHH(4002,!1)}recognize(){const e=kv(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ot).pipe(fo(t=>{if(t instanceof I1)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Tl?this.noMatchError(t):t}),(0,tn.U)(t=>{const i=new Cc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,{}),r=new Ba(i,t),s=new mv("",r),u=function hv(n,e,t=null,i=null){return Ng(Yf(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(s._root),{state:s,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ot).pipe(fo(i=>{throw i instanceof Tl?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=Vg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Bn.D)(r).pipe(ho(s=>{const u=i.children[s],f=function f1(n,e){const t=n.filter(i=>da(i)===e);return t.push(...n.filter(i=>da(i)!==e)),t}(t,s);return this.processSegmentGroup(e,f,u,s)}),function Ps(n,e){return(0,Dr.e)(function gl(n,e,t,i,r){return(s,u)=>{let f=t,m=e,_=0;s.subscribe((0,Sr.x)(u,I=>{const D=_++;m=f?n(m,I,D):(f=!0,I),i&&u.next(m)},r&&(()=>{f&&u.next(m),u.complete()})))}}(n,e,arguments.length>=2,!0))}((s,u)=>(s.push(...u),s)),pl(null),function hs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Gr((r,s)=>n(r,s,i)):ao.y,Uo(1),t?pl(e):aa(()=>new Ra))}(),(0,bi.z)(s=>{if(null===s)return ph(i);const u=x1(s);return function gh(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(u),(0,Et.of)(u)}))}processSegment(e,t,i,r,s,u){return(0,Bn.D)(t).pipe(ho(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,i,r,s,u).pipe(fo(m=>{if(m instanceof Tl)return(0,Et.of)(null);throw m}))),ds(f=>!!f),fo(f=>{if(Gg(f))return function WS(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?(0,Et.of)([]):ph(i);throw f}))}processSegmentAgainstRoute(e,t,i,r,s,u,f){return function GS(n,e,t,i){return!!(da(n)===i||i!==Ot&&qg(e,t,n))&&("**"===n.path||np(e,n,t).matched)}(i,r,s,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,u,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,u):ph(r):ph(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?HS(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,bi.z)(u=>{const f=new sn(u,{});return this.processSegment(e,t,f,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){const{matched:f,consumedSegments:m,remainingSegments:_,positionalParamSegments:I}=np(t,r,s);if(!f)return ph(t);const D=this.applyRedirects.applyRedirectCommands(m,r.redirectTo,I);return r.redirectTo.startsWith("/")?HS(D):this.applyRedirects.lineralizeSegments(r,D).pipe((0,bi.z)(N=>this.processSegment(e,i,t,N.concat(_),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,u){let f;if("**"===i.path){const m=r.length>0?La(r).parameters:{},_=new Cc(r,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D1(i),da(i),i.component??i._loadedComponent??null,i,A1(i));f=(0,Et.of)({snapshot:_,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=Wg(t,i,r,e).pipe((0,tn.U)(({matched:m,consumedSegments:_,remainingSegments:I,parameters:D})=>m?{snapshot:new Cc(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D1(i),da(i),i.component??i._loadedComponent??null,i,A1(i)),consumedSegments:_,remainingSegments:I}:null));return f.pipe((0,di.w)(m=>null===m?ph(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,di.w)(({routes:_})=>{const I=i._loadedInjector??e,{snapshot:D,consumedSegments:N,remainingSegments:U}=m,{segmentGroup:B,slicedSegments:q}=kv(t,N,U,_);if(0===q.length&&B.hasChildren())return this.processChildren(I,_,B).pipe((0,tn.U)(Re=>null===Re?null:[new Ba(D,Re)]));if(0===_.length&&0===q.length)return(0,Et.of)([new Ba(D,[])]);const ie=da(i)===s;return this.processSegment(I,_,B,q,ie?Ot:s,!0).pipe((0,tn.U)(Re=>[new Ba(D,Re)]))}))))}getChildConfig(e,t,i){return t.children?(0,Et.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Et.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function C1(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,Et.of)(!0);const s=r.map(u=>{const f=Qu(u,n);return tr(function y1(n){return n&&Xf(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,Et.of)(s).pipe(Xu(),tp())}(e,t,i).pipe((0,bi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Di.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Av(n){return ks(d1(!1,3))}())):(0,Et.of)({routes:[],injector:e})}}function ZS(n){const e=n.value.routeConfig;return e&&""===e.path}function x1(n){const e=[],t=new Set;for(const i of n){if(!ZS(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=x1(i.children);e.push(new Ba(i.value,r))}return e.filter(i=>!t.has(i))}function D1(n){return n.data||{}}function A1(n){return n.resolve||{}}function ip(n){return"string"==typeof n.title||null===n.title}function ha(n){return(0,di.w)(e=>{const t=n(e);return t?(0,Bn.D)(t).pipe((0,tn.U)(()=>e)):(0,Et.of)(e)})}const Va=new l.OlP("ROUTES");let Zg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Et.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=tr(t.loadComponent()).pipe((0,tn.U)(Mv),(0,Di.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ho(()=>{this.componentLoaders.delete(t)})),r=new ju(i,()=>new Ar.x).pipe(fl());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Et.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,tn.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,_;return Array.isArray(f)?_=f:(m=f.create(t).injector,_=m.get(Va,[],l.XFs.Self|l.XFs.Optional).flat()),{routes:_.map(Iv),injector:m}}),Ho(()=>{this.childrenLoaders.delete(i)})),u=new ju(s,()=>new Ar.x).pipe(fl());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return tr(t()).pipe((0,tn.U)(Mv),(0,bi.z)(i=>i instanceof l.YKP||Array.isArray(i)?(0,Et.of)(i):(0,Bn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mv(n){return function M1(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Pv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ar.x,this.configLoader=(0,l.f3M)(Zg),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(G),this.rootContexts=(0,l.f3M)(Wu),this.inputBindingEnabled=null!==(0,l.f3M)(Jf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Et.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new i1(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new n1(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new ui.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gr(i=>0!==i.id),(0,tn.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),(0,di.w)(i=>{let r=!1,s=!1;return(0,Et.of)(i).pipe((0,Di.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,di.w)(u=>{const f=t.browserUrlTree.toString(),m=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!m&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new Cl(u.id,t.serializeUrl(i.rawUrl),I,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),co.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ex(u.source)&&(t.browserUrlTree=u.extractedUrl),(0,Et.of)(u).pipe((0,di.w)(I=>{const D=this.transitions?.getValue();return this.events.next(new oh(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),D!==this.transitions?.getValue()?co.E:Promise.resolve(I)}),function KS(n,e,t,i,r,s){return(0,bi.z)(u=>function qS(n,e,t,i,r,s,u="emptyOnly"){return new Sl(n,e,t,i,r,u,s).recognize()}(n,e,t,i,u.extractedUrl,r,s).pipe((0,tn.U)(({state:f,tree:m})=>({...u,targetSnapshot:f,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Di.b)(I=>{if(i.targetSnapshot=I.targetSnapshot,i.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!I.extras.skipLocationChange){const N=t.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);t.setBrowserUrl(N,I)}t.browserUrlTree=I.urlAfterRedirects}const D=new ah(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(D)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:I,extractedUrl:D,source:N,restoredState:U,extras:B}=u,q=new oh(I,this.urlSerializer.serialize(D),N,U);this.events.next(q);const ie=mo(0,this.rootComponentType).snapshot;return i={...u,targetSnapshot:ie,urlAfterRedirects:D,extras:{...B,skipLocationChange:!1,replaceUrl:!1}},(0,Et.of)(i)}{const I="";return this.events.next(new Cl(u.id,t.serializeUrl(i.extractedUrl),I,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),co.E}}),(0,Di.b)(u=>{const f=new lh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,tn.U)(u=>i={...u,guards:g1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function xv(n,e){return(0,bi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?(0,Et.of)({...t,guardsResult:!0}):function ep(n,e,t,i){return(0,Bn.D)(n).pipe((0,bi.z)(r=>function E1(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Et.of)(!0);const u=s.map(f=>{const m=Ku(e)??r,_=Qu(f,m);return tr(function _1(n){return n&&Xf(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,i):m.runInContext(()=>_(n,e,t,i))).pipe(ds())});return(0,Et.of)(u).pipe(Xu())}(r.component,r.route,t,e,i)),ds(r=>!0!==r,!0))}(u,i,r,n).pipe((0,bi.z)(f=>f&&function m1(n){return"boolean"==typeof n}(f)?function FS(n,e,t,i){return(0,Bn.D)(e).pipe(ho(r=>us(function BS(n,e){return null!==n&&e&&e(new Lg(n)),(0,Et.of)(!0)}(r.route.parent,i),function w1(n,e){return null!==n&&e&&e(new Bg(n)),(0,Et.of)(!0)}(r.route,i),function US(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function Yu(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Hu(()=>{const f=u.guards.map(m=>{const _=Ku(u.node)??t,I=Qu(m,_);return tr(function Sv(n){return n&&Xf(n.canActivateChild)}(I)?I.canActivateChild(i,n):_.runInContext(()=>I(i,n))).pipe(ds())});return(0,Et.of)(f).pipe(Xu())}));return(0,Et.of)(s).pipe(Xu())}(n,r.path,t),function VS(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Et.of)(!0);const r=i.map(s=>Hu(()=>{const u=Ku(e)??t,f=Qu(s,u);return tr(function v1(n){return n&&Xf(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(ds())}));return(0,Et.of)(r).pipe(Xu())}(n,r.route,t))),ds(r=>!0!==r,!0))}(i,s,n,e):(0,Et.of)(f)),(0,tn.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),(0,Di.b)(u=>{if(i.guardsResult=u.guardsResult,wl(u.guardsResult))throw u1(0,u.guardsResult);const f=new Rg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),Gr(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),ha(u=>{if(u.guards.canActivateChecks.length)return(0,Et.of)(u).pipe((0,Di.b)(f=>{const m=new t1(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),(0,di.w)(f=>{let m=!1;return(0,Et.of)(f).pipe(function k1(n,e){return(0,bi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,Et.of)(t);let s=0;return(0,Bn.D)(r).pipe(ho(u=>function YS(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!ip(r)&&(s[la]=r.title),function QS(n,e,t,i){const r=function JS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,Et.of)({});const s={};return(0,Bn.D)(r).pipe((0,bi.z)(u=>function XS(n,e,t,i){const r=Ku(e)??i,s=Qu(n,r);return tr(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[u],e,t,i).pipe(ds(),(0,Di.b)(f=>{s[u]=f}))),Uo(1),function ml(n){return(0,tn.U)(()=>n)}(s),fo(u=>Gg(u)?co.E:ks(u)))}(s,n,e,i).pipe((0,tn.U)(u=>(n._resolvedData=u,n.data=Vg(n,t).resolve,r&&ip(r)&&(n.data[la]=r.title),null)))}(u.route,i,n,e)),(0,Di.b)(()=>s++),Uo(1),(0,bi.z)(u=>s===r.length?(0,Et.of)(t):co.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Di.b)({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Di.b)(f=>{const m=new ch(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),ha(u=>{const f=m=>{const _=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,Di.b)(I=>{m.component=I}),(0,tn.U)(()=>{})));for(const I of m.children)_.push(...f(I));return _};return cs(f(u.targetSnapshot.root)).pipe(pl(),uo(1))}),ha(()=>this.afterPreactivation()),(0,tn.U)(u=>{const f=function DS(n,e,t){const i=qu(n,e._root,t?t._root:void 0);return new a1(i,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:f}}),(0,Di.b)(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t,i)=>(0,tn.U)(r=>(new RS(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),uo(1),(0,Di.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new El(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),Ho(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),fo(u=>{if(s=!0,bv(u)){_v(u)||(t.navigated=!0,t.restoreHistory(i,!0));const f=new sh(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),_v(u)){const m=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),_={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||ex(i.source)};t.scheduleNavigation(m,Gu,null,_,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const f=new Il(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(f);try{i.resolve(t.errorHandler(u))}catch(m){i.reject(m)}}return co.E}))}))}cancelNavigationTransition(t,i,r){const s=new sh(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ex(n){return n!==Gu}let tx=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ot);return i}getResolvedTitleForRoute(t){return t.data[la]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Nv)},providedIn:"root"}),n})(),Nv=(()=>{class n extends tx{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ov=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(BN)},providedIn:"root"}),n})();class FN{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let BN=(()=>{class n extends FN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rp=new l.OlP("",{providedIn:"root",factory:()=>({})});let nx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(ix)},providedIn:"root"}),n})(),ix=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var op=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(op||{});function P1(n,e){n.events.pipe(Gr(t=>t instanceof El||t instanceof sh||t instanceof Il||t instanceof Cl),(0,tn.U)(t=>t instanceof El||t instanceof Cl?op.COMPLETE:t instanceof sh&&(0===t.code||1===t.code)?op.REDIRECTING:op.FAILED),Gr(t=>t!==op.REDIRECTING),uo(1)).subscribe(()=>{e()})}function N1(n){throw n}function Kg(n,e,t){return e.parse("/")}const O1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(rp,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||N1,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Kg,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(nx),this.routeReuseStrategy=(0,l.f3M)(Ov),this.titleStrategy=(0,l.f3M)(tx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(Va,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(Pv),this.urlSerializer=(0,l.f3M)(G),this.location=(0,l.f3M)(Ne),this.componentInputBindingEnabled=!!(0,l.f3M)(Jf,{optional:!0}),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mo(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Iv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:f,preserveFragment:m}=i,_=m?this.currentUrlTree.fragment:u;let D,I=null;switch(f){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}null!==I&&(I=this.removeEmptyProps(I));try{D=Yf(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),D=this.currentUrlTree.root}return Ng(D,t,I,_??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=wl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Gu,null,i)}navigate(t,i={skipLocationChange:!1}){return function nd(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new l.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...O1}:!1===i?{...Rv}:i,wl(t))return Nn(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Nn(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let f,m,_;u?(f=u.resolve,m=u.reject,_=u.promise):_=new Promise((D,N)=>{f=D,m=N});const I=this.pendingTasks.add();return P1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:f,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(D=>Promise.reject(D))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",u)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Fv{}let ox=(()=>{class n{constructor(t,i,r,s,u){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Gr(t=>t instanceof El),ho(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,l.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,f=s._loadedInjector??u;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(u,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(f,s.children??s._loadedRoutes))}return(0,Bn.D)(r).pipe((0,sa.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,Et.of)(null);const s=r.pipe((0,bi.z)(u=>null===u?(0,Et.of)(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Bn.D)([s,u]).pipe((0,sa.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Fv),l.LFG(Zg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bv=new l.OlP("");let Vv=(()=>{class n{constructor(t,i,r,s,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof oh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof El?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Cl&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof r1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new r1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function gs(n,e){return{\u0275kind:n,\u0275providers:e}}function Uv(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Yr),r=n.get(Jg);1===n.get(Hv)&&i.initialNavigation(),n.get(cx,null,l.XFs.Optional)?.setUpPreloading(),n.get(Bv,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Jg=new l.OlP("",{factory:()=>new Ar.x}),Hv=new l.OlP("",{providedIn:"root",factory:()=>1}),cx=new l.OlP("");function jv(n){return gs(0,[{provide:cx,useExisting:ox},{provide:Fv,useExisting:n}])}const U1=new l.OlP("ROUTER_FORROOT_GUARD"),$v=[Ne,{provide:G,useClass:J},Yr,Wu,{provide:Ec,useFactory:function sx(n){return n.routerState.root},deps:[Yr]},Zg,[]];function Xg(){return new l.PXZ("Router",Yr)}let H1=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[$v,[],{provide:Va,multi:!0,useValue:t},{provide:U1,useFactory:Gv,deps:[[Yr,new l.FiY,new l.tp0]]},{provide:rp,useValue:i||{}},i?.useHash?{provide:Ue,useClass:ke}:{provide:Ue,useClass:Xe},{provide:Bv,useFactory:()=>{const n=(0,l.f3M)(os),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(rp),i=(0,l.f3M)(Pv),r=(0,l.f3M)(G);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Vv(r,i,n,e,t)}},i?.preloadingStrategy?jv(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Xg},i?.initialNavigation?Wv(i):[],i?.bindToComponentInputs?gs(8,[c1,{provide:Jf,useExisting:c1}]).\u0275providers:[],[{provide:j1,useFactory:Uv},{provide:l.tb,multi:!0,useExisting:j1}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Va,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U1,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Gv(n){return"guarded"}function Wv(n){return["disabled"===n.initialNavigation?gs(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Yr);return()=>{e.setUpLocationChangeListener()}}},{provide:Hv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?gs(2,[{provide:Hv,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(De,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Yr),s=e.get(Jg);P1(r,()=>{i(!0)}),e.get(Pv).afterPreactivation=()=>(i(!0),s.closed?(0,Et.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const j1=new l.OlP("");var Te=R(5861),Os=R(3182);function yh(n){return(yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function x(n,e,t){return(e=function GN(n){var e=function qv(n,e){if("object"!==yh(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==yh(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===yh(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}let nr=(()=>{class n{}return x(n,"STARTS_WITH","startsWith"),x(n,"CONTAINS","contains"),x(n,"NOT_CONTAINS","notContains"),x(n,"ENDS_WITH","endsWith"),x(n,"EQUALS","equals"),x(n,"NOT_EQUALS","notEquals"),x(n,"IN","in"),x(n,"LESS_THAN","lt"),x(n,"LESS_THAN_OR_EQUAL_TO","lte"),x(n,"GREATER_THAN","gt"),x(n,"GREATER_THAN_OR_EQUAL_TO","gte"),x(n,"BETWEEN","between"),x(n,"IS","is"),x(n,"IS_NOT","isNot"),x(n,"BEFORE","before"),x(n,"AFTER","after"),x(n,"DATE_IS","dateIs"),x(n,"DATE_IS_NOT","dateIsNot"),x(n,"DATE_BEFORE","dateBefore"),x(n,"DATE_AFTER","dateAfter"),n})(),Tc=(()=>{class n{constructor(){x(this,"messageSource",new Ar.x),x(this,"clearSource",new Ar.x),x(this,"messageObserver",this.messageSource.asObservable()),x(this,"clearObserver",this.clearSource.asObservable())}add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275prov",l.Yz7({token:n,factory:n.\u0275fac})),n})(),vh=(()=>{class n{constructor(){x(this,"clickSource",new Ar.x),x(this,"clickObservable",this.clickSource.asObservable())}add(t){t&&this.clickSource.next(t)}}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275prov",l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})(),Sc=(()=>{class n{constructor(){x(this,"ripple",!1),x(this,"overlayOptions",{}),x(this,"filterMatchModeOptions",{text:[nr.STARTS_WITH,nr.CONTAINS,nr.NOT_CONTAINS,nr.ENDS_WITH,nr.EQUALS,nr.NOT_EQUALS],numeric:[nr.EQUALS,nr.NOT_EQUALS,nr.LESS_THAN,nr.LESS_THAN_OR_EQUAL_TO,nr.GREATER_THAN,nr.GREATER_THAN_OR_EQUAL_TO],date:[nr.DATE_IS,nr.DATE_IS_NOT,nr.DATE_BEFORE,nr.DATE_AFTER]}),x(this,"translation",{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}}),x(this,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}),x(this,"translationSource",new Ar.x),x(this,"translationObserver",this.translationSource.asObservable())}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275prov",l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})),n})(),Rs=(()=>{class n{constructor(t){x(this,"template",void 0),x(this,"type",void 0),x(this,"name",void 0),this.template=t}getType(){return this.name}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(l.Rgc))}),x(n,"\u0275dir",l.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})),n})(),xl=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn]})),n})(),Dl=(()=>{class n{}return x(n,"STARTS_WITH","startsWith"),x(n,"CONTAINS","contains"),x(n,"NOT_CONTAINS","notContains"),x(n,"ENDS_WITH","endsWith"),x(n,"EQUALS","equals"),x(n,"NOT_EQUALS","notEquals"),x(n,"NO_FILTER","noFilter"),x(n,"LT","lt"),x(n,"LTE","lte"),x(n,"GT","gt"),x(n,"GTE","gte"),x(n,"IS","is"),x(n,"IS_NOT","isNot"),x(n,"BEFORE","before"),x(n,"AFTER","after"),x(n,"CLEAR","clear"),x(n,"APPLY","apply"),x(n,"MATCH_ALL","matchAll"),x(n,"MATCH_ANY","matchAny"),x(n,"ADD_RULE","addRule"),x(n,"REMOVE_RULE","removeRule"),x(n,"ACCEPT","accept"),x(n,"REJECT","reject"),x(n,"CHOOSE","choose"),x(n,"UPLOAD","upload"),x(n,"CANCEL","cancel"),x(n,"DAY_NAMES","dayNames"),x(n,"DAY_NAMES_SHORT","dayNamesShort"),x(n,"DAY_NAMES_MIN","dayNamesMin"),x(n,"MONTH_NAMES","monthNames"),x(n,"MONTH_NAMES_SHORT","monthNamesShort"),x(n,"FIRST_DAY_OF_WEEK","firstDayOfWeek"),x(n,"TODAY","today"),x(n,"WEEK_HEADER","weekHeader"),x(n,"WEAK","weak"),x(n,"MEDIUM","medium"),x(n,"STRONG","strong"),x(n,"PASSWORD_PROMPT","passwordPrompt"),x(n,"EMPTY_MESSAGE","emptyMessage"),x(n,"EMPTY_FILTER_MESSAGE","emptyFilterMessage"),n})();var ZN=R(3019),_h=R(3093),Yv=R(4552);class W1 extends Ar.x{constructor(e=1/0,t=1/0,i=Yv.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;t||(i.push(e),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!e.closed;u+=i?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=t.now();let f=0;for(let m=1;m<i.length&&i[m]<=u;m+=2)f=m;f&&i.splice(0,f+1)}}}var px=R(3020);function q1(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,px.B)({connector:()=>new W1(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Qv(n,e){return(0,Lo.m)(e)?(0,di.w)(()=>n,e):(0,di.w)(()=>n)}var nm=R(5137),On=R(8186),rd=R(6304);class ap{constructor(e){return e}}class Jv{constructor(){return(0,Os.C6)()}}const e_=new l.OlP("angularfire2._apps"),K1={provide:ap,useFactory:function Xv(n){return n&&1===n.length?n[0]:new ap((0,Os.Mq)())},deps:[[new l.FiY,e_]]},t_={provide:Jv,deps:[[new l.FiY,e_]]};function im(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ap(i)}}let gx=(()=>{class n{constructor(t){(0,Os.KN)("angularfire",On.q4.full,"core"),(0,Os.KN)("angularfire",On.q4.full,"app"),(0,Os.KN)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[K1,t_]}),n})();function Y1(n,...e){return{ngModule:gx,providers:[{provide:e_,useFactory:im(n),multi:!0,deps:[l.R0b,l.zs3,On.HU,...e]}]}}const Q1=(0,On.u3)(Os.Mq,!0),mx=(0,On.u3)(Os.ZF,!0);var Ls=R(534),i_=R(4537),Ai=R(9058),od=R(7879);const r_=new Map,J1={activated:!1,tokenObservers:[]},X1={initialized:!1,enabled:!1};function hi(n){return r_.get(n)||Object.assign({},J1)}function xc(){return X1}const rm="https://content-firebaseappcheck.googleapis.com/v1",bh="exchangeDebugToken",cp={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class tw{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new Ai.BH,yield function yx(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ai.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Mr=new Ai.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function a_(n){if(!hi(n).activated)throw Mr.create("use-before-activation",{appName:n.name})}function Al(n,e){return fa.apply(this,arguments)}function fa(){return(fa=(0,Te.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:i};let u,f;try{u=yield fetch(n,s)}catch(D){throw Mr.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==u.status)throw Mr.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(D){throw Mr.create("fetch-parse-error",{originalErrorMessage:D?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Mr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const _=1e3*Number(m[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+_,issuedAtTimeMillis:I}})).apply(this,arguments)}function iw(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${rm}/projects/${t}/apps/${i}:${bh}?key=${r}`,body:{debug_token:e}}}const XN="firebase-app-check-database",eO=1,wh="firebase-app-check-store";let c_=null;function lm(){return(lm=(0,Te.Z)(function*(n,e){const i=(yield function u_(){return c_||(c_=new Promise((n,e)=>{try{const t=indexedDB.open(XN,eO);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Mr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(wh,{keyPath:"compositeKey"})}}catch(t){e(Mr.create("storage-open",{originalErrorMessage:t?.message}))}}),c_)}()).transaction(wh,"readwrite"),s=i.objectStore(wh).put({compositeKey:n,value:e});return new Promise((u,f)=>{s.onsuccess=m=>{u()},i.onerror=m=>{var _;f(Mr.create("storage-set",{originalErrorMessage:null===(_=m.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Eh=new od.Yd("@firebase/app-check");function cm(n,e){return(0,Ai.hl)()?function rw(n,e){return function $t(n,e){return lm.apply(this,arguments)}(function lw(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Eh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function f_(){return xc().enabled}function p_(){return cw.apply(this,arguments)}function cw(){return(cw=(0,Te.Z)(function*(){const n=xc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const dw={error:"UNKNOWN_ERROR"};function Dc(n){return Ai.US.encodeString(JSON.stringify(n),!1)}function kl(n){return dm.apply(this,arguments)}function dm(){return(dm=(0,Te.Z)(function*(n,e=!1){const t=n.app;a_(t);const i=hi(t);let s,r=i.token;if(r&&!kc(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(kc(m)?r=m:yield cm(t,void 0))}if(!e&&r&&kc(r))return{token:r.token};let f,u=!1;if(f_()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Al(iw(t,yield p_()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const m=yield i.exchangeTokenPromise;return yield cm(t,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield hi(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Eh.warn(m.message):Eh.error(m),s=m}return r?s?f=kc(r)?{token:r.token,internalError:s}:fm(s):(f={token:r.token},i.token=r,yield cm(t,r)):f=fm(s),u&&function hm(n,e){const t=hi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function hw(n){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,Te.Z)(function*(n){const e=n.app;a_(e);const{provider:t}=hi(e);if(f_()){const i=yield p_(),{token:r}=yield Al(iw(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function dp(n,e){const t=hi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function Ih(n){const{app:e}=n,t=hi(e);let i=t.tokenRefresher;i||(i=function fw(n){const{app:e}=n;return new tw((0,Te.Z)(function*(){let i;if(i=hi(e).token?yield kl(n,!0):yield kl(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=hi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},cp.RETRIAL_MIN_WAIT,cp.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function kc(n){return n.expireTimeMillis-Date.now()>0}function fm(n){return{token:Dc(dw),error:n}}class pw{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hi(this.app);for(const t of e)dp(this.app,t.next);return Promise.resolve()}}const _w="app-check-internal";!function Nx(){(0,Ls._registerComponent)(new i_.wA("app-check",n=>function g_(n,e){return new pw(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_w).initialize()})),(0,Ls._registerComponent)(new i_.wA(_w,n=>function wx(n){return{getToken:e=>kl(n,e),getLimitedUseToken:()=>hw(n),addTokenListener:e=>function Ac(n,e,t,i){const{app:r}=n,s=hi(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&kc(s.token)){const f=s.token;Promise.resolve().then(()=>{t({token:f.token}),Ih(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Ih(n))}(n,"INTERNAL",e),removeTokenListener:e=>dp(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ls.registerVersion)("@firebase/app-check","0.8.0")}();class Th{constructor(){return(0,On.vb)("app-check")}}typeof window<"u"&&window,R(7142);const Bx=new l.OlP("angularfire2.auth.use-emulator"),Vx=new l.OlP("angularfire2.auth.settings"),Ux=new l.OlP("angularfire2.auth.tenant-id"),lO=new l.OlP("angularfire2.auth.langugage-code"),Iw=new l.OlP("angularfire2.auth.use-device-language"),Hx=new l.OlP("angularfire.auth.persistence");let Pc=(()=>{class n{constructor(t,i,r,s,u,f,m,_,I,D,N,U){const B=new Ar.x,q=(0,Et.of)(void 0).pipe((0,_h.Q)(u.outsideAngular),(0,di.w)(()=>s.runOutsideAngular(()=>R.e(365).then(R.bind(R,6365)))),(0,tn.U)(()=>(0,rd.on)(t,s,i)),(0,tn.U)(ie=>((n,e,t,i,r,s,u,f)=>(0,rd.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),i&&(m.tenantId=i),m.languageCode=r,s&&m.useDeviceLanguage(),u)for(const[_,I]of Object.entries(u))m.settings[_]=I;return f&&m.setPersistence(f),m},[t,i,r,s,u,f]))(ie,s,f,_,I,D,m,N)),q1({bufferSize:1,refCount:!1}));if(Is(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Et.of)(null);else{q.pipe(ds()).subscribe();const Re=q.pipe((0,di.w)(Oe=>Oe.getRedirectResult().then(Ze=>Ze,()=>null)),On.iC,q1({bufferSize:1,refCount:!1})),qe=q.pipe((0,di.w)(Oe=>new Vi.y(Ze=>({unsubscribe:s.runOutsideAngular(()=>Oe.onAuthStateChanged(it=>Ze.next(it),it=>Ze.error(it),()=>Ze.complete()))})))),Se=q.pipe((0,di.w)(Oe=>new Vi.y(Ze=>({unsubscribe:s.runOutsideAngular(()=>Oe.onIdTokenChanged(it=>Ze.next(it),it=>Ze.error(it),()=>Ze.complete()))}))));this.authState=Re.pipe(Qv(qe),(0,nm.R)(u.outsideAngular),(0,_h.Q)(u.insideAngular)),this.user=Re.pipe(Qv(Se),(0,nm.R)(u.outsideAngular),(0,_h.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,di.w)(Oe=>Oe?(0,Bn.D)(Oe.getIdToken()):(0,Et.of)(null))),this.idTokenResult=this.user.pipe((0,di.w)(Oe=>Oe?(0,Bn.D)(Oe.getIdTokenResult()):(0,Et.of)(null))),this.credential=(0,ZN.T)(Re,B,this.authState.pipe(Gr(Oe=>!Oe))).pipe((0,tn.U)(Oe=>Oe?.user?Oe:null),(0,nm.R)(u.outsideAngular),(0,_h.Q)(u.insideAngular))}return(0,rd.pX)(this,q,s,{spy:{apply:(ie,Re,qe)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&qe.then(Se=>B.next(Se))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rd.Dh),l.LFG(rd.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(On.HU),l.LFG(Bx,8),l.LFG(Vx,8),l.LFG(Ux,8),l.LFG(lO,8),l.LFG(Iw,8),l.LFG(Hx,8),l.LFG(Th,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Tw=(()=>{class n{constructor(t){this.fireAuth=t}signup(t,i){var r=this;return(0,Te.Z)(function*(){try{yield r.fireAuth.createUserWithEmailAndPassword(t,i)}catch(s){s instanceof Os.ZR&&console.log({code:s.code,customData:s.customData,name:s.name,message:s.message})}})()}login(t,i){var r=this;return(0,Te.Z)(function*(){try{yield r.fireAuth.signInWithEmailAndPassword(t,i)}catch(s){throw s}})()}logout(){var t=this;return(0,Te.Z)(function*(){try{yield t.fireAuth.signOut()}catch(i){throw i}})()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I_=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Nc=(()=>{class n extends I_{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const pa=new l.OlP("NgValueAccessor"),Sw={provide:pa,useExisting:(0,l.Gpc)(()=>Sh),multi:!0},zx=new l.OlP("CompositionEventMode");let Sh=(()=>{class n extends I_{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hp(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(zx,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([Sw]),l.qOj]}),n})();const Qr=new l.OlP("NgValidators"),Bs=new l.OlP("NgAsyncValidators"),Gx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Pw(n){return function Ml(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)||Gx.test(n.value)?null:{email:!0}}function xh(n){return null}function Rw(n){return null!=n}function fp(n){return(0,l.QGY)(n)?(0,Bn.D)(n):n}function Lw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Fw(n,e){return e.map(t=>t(n))}function Bw(n){return n.map(e=>function Wx(n){return!n.validate}(e)?e:t=>e.validate(t))}function x_(n){return null!=n?function Vw(n){if(!n)return null;const e=n.filter(Rw);return 0==e.length?null:function(t){return Lw(Fw(t,e))}}(Bw(n)):null}function _m(n){return null!=n?function Uw(n){if(!n)return null;const e=n.filter(Rw);return 0==e.length?null:function(t){return function jx(...n){const e=(0,lo.jO)(n),{args:t,keys:i}=dl(n),r=new Vi.y(s=>{const{length:u}=t;if(!u)return void s.complete();const f=new Array(u);let m=u,_=u;for(let I=0;I<u;I++){let D=!1;(0,hl.Xf)(t[I]).subscribe((0,Sr.x)(s,N=>{D||(D=!0,_--),f[I]=N},()=>m--,void 0,()=>{(!m||!D)&&(_||s.next(i?oa(i,f):f),s.complete())}))}});return e?r.pipe(nh(e)):r}(Fw(t,e).map(fp)).pipe((0,tn.U)(Lw))}}(Bw(n)):null}function D_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function bm(n){return n?Array.isArray(n)?n:[n]:[]}function pp(n,e){return Array.isArray(n)?n.includes(e):n===e}function Zx(n,e){const t=bm(e);return bm(n).forEach(r=>{pp(t,r)||t.push(r)}),t}function gp(n,e){return bm(e).filter(t=>!pp(n,t))}class jw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=x_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_m(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class yo extends jw{get formDirective(){return null}get path(){return null}}class Ua extends jw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $w{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pr=(()=>{class n extends $w{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ua,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})();const kh="VALID",Cp="INVALID",ad="PENDING",Mh="DISABLED";function Em(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class qw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kh}get invalid(){return this.status===Cp}get pending(){return this.status==ad}get disabled(){return this.status===Mh}get enabled(){return this.status!==Mh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Zx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Zx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gp(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gp(e,this._rawAsyncValidators))}hasValidator(e){return pp(this._rawValidators,e)}hasAsyncValidator(e){return pp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ad,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Mh,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kh,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kh||this.status===ad)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mh:kh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ad,this._hasOwnPendingAsyncValidator=!0;const t=fp(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Mh:this.errors?Cp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ad)?ad:this._anyControlsHaveStatus(Cp)?Cp:kh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Em(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Jx(n){return Array.isArray(n)?x_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function cO(n){return Array.isArray(n)?_m(n):n||null}(this._rawAsyncValidators)}}const Ha=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ph}),Ph="always";function Nh(n,e,t=Ph){(function cd(n,e){const t=function Hw(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(D_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function qx(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(D_(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Tp(e._rawValidators,r),Tp(e._rawAsyncValidators,r)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function nD(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Yw(n,e)})}(n,e),function M_(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function iD(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Yw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tD(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Tp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Yw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function O_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function xm(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Dm=class extends qw{constructor(e=null,t,i){super(function Ip(n){return(Em(n)?n.validators:n)||null}(t),function Gw(n,e){return(Em(e)?e.asyncValidators:n)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Em(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=xm(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){O_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){O_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){xm(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},km={provide:Ua,useExisting:(0,l.Gpc)(()=>Oh)},Mm=(()=>Promise.resolve())();let Oh=(()=>{class n extends Ua{constructor(t,i,r,s,u,f){super(),this._changeDetectorRef=u,this.callSetDisabledState=f,this.control=new Dm,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Sm(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Sh?t=s:function oD(n){return Object.getPrototypeOf(n.constructor)===Nc}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Tm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Nh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Mm.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.VuI)(i);Mm.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function ld(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yo,9),l.Y36(Qr,10),l.Y36(Bs,10),l.Y36(pa,10),l.Y36(l.sBO,8),l.Y36(Ha,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([km]),l.qOj,l.TTD]}),n})(),Pm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Fh=(()=>{class n{constructor(){this._validator=xh}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):xh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const vE={provide:Qr,useExisting:(0,l.Gpc)(()=>Lm),multi:!0};let Lm=(()=>{class n extends Fh{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=l.VuI,this.createValidator=t=>Pw}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[l._Bn([vE]),l.qOj]}),n})(),W_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Pm]}),n})(),wE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ha,useValue:t.callSetDisabledState??Ph}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[W_]}),n})(),Z_=(()=>{class n{constructor(t,i,r){x(this,"el",void 0),x(this,"ngModel",void 0),x(this,"cd",void 0),x(this,"filled",void 0),this.el=t,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Oh,8),l.Y36(l.sBO))}),x(n,"\u0275dir",l.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i.onInput(s)}),2&t&&l.ekj("p-filled",i.filled)}})),n})(),EE=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn]})),n})();class CE{}class K_{}const ys="*";function Pp(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ol(n,e=null){return{type:4,styles:e,timings:n}}function IE(n,e=null){return{type:2,steps:n,options:e}}function Vs(n){return{type:6,styles:n,offset:null}}function TE(n,e,t){return{type:0,name:n,styles:e,options:t}}function Rl(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function SE(n=null){return{type:9,options:n}}function CD(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}class ud{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Np{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let ft=(()=>{class n{static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(t,i){return!(!t||!i)&&(t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var u=0;u<r.length;u++){if(r[u]==t)return s;r[u].attributes&&r[u].attributes[i]&&1==r[u].nodeType&&s++}return-1}static appendOverlay(t,i,r="self"){"self"!==r&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",s=!0){t&&i&&(s&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===r?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i){const r=Re=>{if(Re)return"relative"===getComputedStyle(Re).getPropertyValue("position")?Re:r(Re.parentElement)},s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),u=i.offsetHeight,f=i.getBoundingClientRect(),m=this.getWindowScrollTop(),_=this.getWindowScrollLeft(),I=this.getViewport(),N=r(t)?.getBoundingClientRect()||{top:-1*m,left:-1*_};let U,B;f.top+u+s.height>I.height?(U=f.top-N.top-s.height,t.style.transformOrigin="bottom",f.top+U<0&&(U=-1*f.top)):(U=u+f.top-N.top,t.style.transformOrigin="top");const q=f.left+s.width-I.width;B=s.width>I.width?-1*(f.left-N.left):q>0?f.left-N.left-q:f.left-N.left,t.style.top=U+"px",t.style.left=B+"px"}static absolutePosition(t,i){const r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=r.height,u=r.width,f=i.offsetHeight,m=i.offsetWidth,_=i.getBoundingClientRect(),I=this.getWindowScrollTop(),D=this.getWindowScrollLeft(),N=this.getViewport();let U,B;_.top+f+s>N.height?(U=_.top+I-s,t.style.transformOrigin="bottom",U<0&&(U=I)):(U=f+_.top+I,t.style.transformOrigin="top"),B=_.left+u>N.width?Math.max(0,_.left+D+m-u):_.left+D,t.style.top=U+"px",t.style.left=B+"px"}static getParents(t,i=[]){return null===t.parentNode?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t);const s=/(auto|scroll)/,u=f=>{let m=window.getComputedStyle(f,null);return s.test(m.getPropertyValue("overflow"))||s.test(m.getPropertyValue("overflowX"))||s.test(m.getPropertyValue("overflowY"))};for(let f of r){let m=1===f.nodeType&&f.dataset.scrollselectors;if(m){let _=m.split(",");for(let I of _){let D=this.findSingle(f,I);D&&u(D)&&i.push(D)}}9!==f.nodeType&&u(f)&&i.push(f)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,u=getComputedStyle(t).getPropertyValue("paddingTop"),f=u?parseFloat(u):0,m=t.getBoundingClientRect(),I=i.getBoundingClientRect().top+document.body.scrollTop-(m.top+document.body.scrollTop)-s-f,D=t.scrollTop,N=t.clientHeight,U=this.getOuterHeight(i);I<0?t.scrollTop=D+I:I+U>N&&(t.scrollTop=D+I-N+U)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,u=function(){s=+t.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};u()}static fadeOut(t,i){var r=1,f=50/i;let m=setInterval(()=>{(r-=f)<=0&&(r=0,clearInterval(m)),t.style.opacity=r},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(u){return-1!==[].indexOf.call(document.querySelectorAll(u),this)}).call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:t.innerWidth||r.clientWidth||s.clientWidth,height:t.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+t;i.el.nativeElement.appendChild(t)}}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+t+" from "+i;i.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableElements(t){let i=n.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),r=[];for(let s of i)(s.offsetWidth||s.offsetHeight||s.getClientRects().length)&&r.push(s);return r}static getNextFocusableElement(t,i=!1){const r=n.getFocusableElements(t);let s=0;if(r&&r.length>0){const u=r.indexOf(r[0].ownerDocument.activeElement);i?s=-1==u||0===u?r.length-1:u-1:-1!=u&&u!==r.length-1&&(s=u+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof t;if("string"===r)return document.querySelector(t);if("object"===r&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const u=(f=t)&&f.constructor&&f.call&&f.apply?t():t;return u&&9===u.nodeType||this.isExist(u)?u:null}var f}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){const r=t.getAttribute(i);return isNaN(r)?"true"===r||"false"===r?"true"===r:r:+r}}}return x(n,"zindex",1e3),x(n,"calculatedScrollbarWidth",null),x(n,"calculatedScrollbarHeight",null),x(n,"browser",void 0),n})();class Fm{constructor(e,t=(()=>{})){x(this,"element",void 0),x(this,"listener",void 0),x(this,"scrollableParents",void 0),this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=ft.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class Vh{static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,u,f,i=Array.isArray(e),r=Array.isArray(t);if(i&&r){if((u=e.length)!=t.length)return!1;for(s=u;0!=s--;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var m=this.isDate(e),_=this.isDate(t);if(m!=_)return!1;if(m&&_)return e.getTime()==t.getTime();var I=e instanceof RegExp,D=t instanceof RegExp;if(I!=D)return!1;if(I&&D)return e.toString()==t.toString();var N=Object.keys(e);if((u=N.length)!==Object.keys(t).length)return!1;for(s=u;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,N[s]))return!1;for(s=u;0!=s--;)if(!this.equalsByValue(e[f=N[s]],t[f]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let i=t.split("."),r=e;for(let s=0,u=i.length;s<u;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let u=0;u<i.length;u++)if(this.findIndexInList(i[u],r)>t){i.splice(u,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t)for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}return i}static contains(e,t){if(null!=e&&t&&t.length)for(let i of t)if(this.equals(e,i))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let s=-1;const u=this.isEmpty(e),f=this.isEmpty(t);return s=u&&f?0:u?r:f?-r:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,i,{numeric:!0}):e<t?-1:e>t?1:0,s}static sort(e,t,i=1,r,s=1){return(1===s?i:s)*Vh.compare(e,t,r,i)}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}}var Q_=0;function Us(n="pn_id_"){return`${n}${++Q_}`}var Hs=function xE(){let n=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,u,f)=>{u&&(u.style.zIndex=String(((s,u)=>{let f=n.length>0?n[n.length-1]:{key:s,value:u},m=f.value+(f.key===s?0:u)+1;return n.push({key:s,value:m}),m})(s,f)))},clear:s=>{s&&((s=>{n=n.filter(u=>u.value!==s)})(r(s)),s.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const ID=["*"];let $o=(()=>{class n{constructor(){x(this,"label",void 0),x(this,"spin",!1),x(this,"styleClass",void 0),x(this,"role",void 0),x(this,"ariaLabel",void 0),x(this,"ariaHidden",void 0)}ngOnInit(){this.getAttributes()}getAttributes(){const t=Vh.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[l.jDz],ngContentSelectors:ID,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0})),n})(),Ga=(()=>{class n extends $o{}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0),l._UZ(1,"path",1),l.qZA()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})),n})(),DE=(()=>{class n extends $o{constructor(...t){super(...t),x(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Us()+")"}}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["EyeSlashIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.9414 6.74792C13.9437 6.75295 13.9455 6.757 13.9469 6.76003C13.982 6.8394 14.0001 6.9252 14.0001 7.01195C14.0001 7.0987 13.982 7.1845 13.9469 7.26386C13.6004 8.00059 13.1711 8.69549 12.6674 9.33515C12.6115 9.4071 12.54 9.46538 12.4582 9.50556C12.3765 9.54574 12.2866 9.56678 12.1955 9.56707C12.0834 9.56671 11.9737 9.53496 11.8788 9.47541C11.7838 9.41586 11.7074 9.3309 11.6583 9.23015C11.6092 9.12941 11.5893 9.01691 11.6008 8.90543C11.6124 8.79394 11.6549 8.68793 11.7237 8.5994C12.1065 8.09726 12.4437 7.56199 12.7313 6.99995C12.2595 6.08027 10.3402 2.8014 6.99732 2.8014C6.63723 2.80218 6.27816 2.83969 5.92569 2.91336C5.77666 2.93304 5.62568 2.89606 5.50263 2.80972C5.37958 2.72337 5.29344 2.59398 5.26125 2.44714C5.22907 2.30031 5.2532 2.14674 5.32885 2.01685C5.40451 1.88696 5.52618 1.79021 5.66978 1.74576C6.10574 1.64961 6.55089 1.60134 6.99732 1.60181C11.5916 1.60181 13.7864 6.40856 13.9414 6.74792ZM2.20333 1.61685C2.35871 1.61411 2.5091 1.67179 2.6228 1.77774L12.2195 11.3744C12.3318 11.4869 12.3949 11.6393 12.3949 11.7983C12.3949 11.9572 12.3318 12.1097 12.2195 12.2221C12.107 12.3345 11.9546 12.3976 11.7956 12.3976C11.6367 12.3976 11.4842 12.3345 11.3718 12.2221L10.5081 11.3584C9.46549 12.0426 8.24432 12.4042 6.99729 12.3981C2.403 12.3981 0.208197 7.59135 0.0532336 7.25198C0.0509364 7.24694 0.0490875 7.2429 0.0476856 7.23986C0.0162332 7.16518 3.05176e-05 7.08497 3.05176e-05 7.00394C3.05176e-05 6.92291 0.0162332 6.8427 0.0476856 6.76802C0.631261 5.47831 1.46902 4.31959 2.51084 3.36119L1.77509 2.62545C1.66914 2.51175 1.61146 2.36136 1.61421 2.20597C1.61695 2.05059 1.6799 1.90233 1.78979 1.79244C1.89968 1.68254 2.04794 1.6196 2.20333 1.61685ZM7.45314 8.35147L5.68574 6.57609V6.5361C5.5872 6.78938 5.56498 7.06597 5.62183 7.33173C5.67868 7.59749 5.8121 7.84078 6.00563 8.03158C6.19567 8.21043 6.43052 8.33458 6.68533 8.39089C6.94014 8.44721 7.20543 8.43359 7.45314 8.35147ZM1.26327 6.99994C1.7351 7.91163 3.64645 11.1985 6.99729 11.1985C7.9267 11.2048 8.8408 10.9618 9.64438 10.4947L8.35682 9.20718C7.86027 9.51441 7.27449 9.64491 6.69448 9.57752C6.11446 9.51014 5.57421 9.24881 5.16131 8.83592C4.74842 8.42303 4.4871 7.88277 4.41971 7.30276C4.35232 6.72274 4.48282 6.13697 4.79005 5.64041L3.35855 4.2089C2.4954 5.00336 1.78523 5.94935 1.26327 6.99994Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0)(1,"g"),l._UZ(2,"path",1),l.qZA(),l.TgZ(3,"defs")(4,"clipPath",2),l._UZ(5,"rect",3),l.qZA()()()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l.xp6(1),l.uIk("clip-path",i.pathId),l.xp6(3),l.Q6J("id",i.pathId))},encapsulation:2})),n})(),AE=(()=>{class n extends $o{}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["EyeIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0.0535499 7.25213C0.208567 7.59162 2.40413 12.4 7 12.4C11.5959 12.4 13.7914 7.59162 13.9465 7.25213C13.9487 7.2471 13.9506 7.24304 13.952 7.24001C13.9837 7.16396 14 7.08239 14 7.00001C14 6.91762 13.9837 6.83605 13.952 6.76001C13.9506 6.75697 13.9487 6.75292 13.9465 6.74788C13.7914 6.4084 11.5959 1.60001 7 1.60001C2.40413 1.60001 0.208567 6.40839 0.0535499 6.74788C0.0512519 6.75292 0.0494023 6.75697 0.048 6.76001C0.0163137 6.83605 0 6.91762 0 7.00001C0 7.08239 0.0163137 7.16396 0.048 7.24001C0.0494023 7.24304 0.0512519 7.2471 0.0535499 7.25213ZM7 11.2C3.664 11.2 1.736 7.92001 1.264 7.00001C1.736 6.08001 3.664 2.80001 7 2.80001C10.336 2.80001 12.264 6.08001 12.736 7.00001C12.264 7.92001 10.336 11.2 7 11.2ZM5.55551 9.16182C5.98308 9.44751 6.48576 9.6 7 9.6C7.68891 9.59789 8.349 9.32328 8.83614 8.83614C9.32328 8.349 9.59789 7.68891 9.59999 7C9.59999 6.48576 9.44751 5.98308 9.16182 5.55551C8.87612 5.12794 8.47006 4.7947 7.99497 4.59791C7.51988 4.40112 6.99711 4.34963 6.49276 4.44995C5.98841 4.55027 5.52513 4.7979 5.16152 5.16152C4.7979 5.52513 4.55027 5.98841 4.44995 6.49276C4.34963 6.99711 4.40112 7.51988 4.59791 7.99497C4.7947 8.47006 5.12794 8.87612 5.55551 9.16182ZM6.2222 5.83594C6.45243 5.6821 6.7231 5.6 7 5.6C7.37065 5.6021 7.72553 5.75027 7.98762 6.01237C8.24972 6.27446 8.39789 6.62934 8.4 7C8.4 7.27689 8.31789 7.54756 8.16405 7.77779C8.01022 8.00802 7.79157 8.18746 7.53575 8.29343C7.27994 8.39939 6.99844 8.42711 6.72687 8.37309C6.4553 8.31908 6.20584 8.18574 6.01005 7.98994C5.81425 7.79415 5.68091 7.54469 5.6269 7.27312C5.57288 7.00155 5.6006 6.72006 5.70656 6.46424C5.81253 6.20842 5.99197 5.98977 6.2222 5.83594Z","fill","currentColor"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0),l._UZ(1,"path",1),l.qZA()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})),n})();const TD=["input"];function SD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"TimesIcon",8),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.clear())}),l.qZA()}2&n&&l.Q6J("styleClass","p-password-clear-icon")}function xD(n,e){}function DD(n,e){1&n&&l.YNc(0,xD,0,0,"ng-template")}function AD(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.YNc(1,SD,1,1,"TimesIcon",5),l.TgZ(2,"span",6),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.clear())}),l.YNc(3,DD,1,0,null,7),l.qZA(),l.BQk()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",!t.clearIconTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",t.clearIconTemplate)}}function kD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"EyeSlashIcon",10),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(3);return l.KtG(r.onMaskToggle())}),l.qZA()}}function MD(n,e){}function PD(n,e){1&n&&l.YNc(0,MD,0,0,"ng-template")}function ND(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",10),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(3);return l.KtG(r.onMaskToggle())}),l.YNc(1,PD,1,0,null,7),l.qZA()}if(2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngTemplateOutlet",t.hideIconTemplate)}}function OD(n,e){if(1&n&&(l.ynx(0),l.YNc(1,kD,1,0,"EyeSlashIcon",9),l.YNc(2,ND,2,1,"span",9),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!t.hideIconTemplate),l.xp6(1),l.Q6J("ngIf",t.hideIconTemplate)}}function RD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"EyeIcon",10),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(3);return l.KtG(r.onMaskToggle())}),l.qZA()}}function LD(n,e){}function FD(n,e){1&n&&l.YNc(0,LD,0,0,"ng-template")}function kE(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",10),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(3);return l.KtG(r.onMaskToggle())}),l.YNc(1,FD,1,0,null,7),l.qZA()}if(2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngTemplateOutlet",t.showIconTemplate)}}function ME(n,e){if(1&n&&(l.ynx(0),l.YNc(1,RD,1,0,"EyeIcon",9),l.YNc(2,kE,2,1,"span",9),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!t.showIconTemplate),l.xp6(1),l.Q6J("ngIf",t.showIconTemplate)}}function PE(n,e){if(1&n&&(l.ynx(0),l.YNc(1,OD,3,2,"ng-container",3),l.YNc(2,ME,3,2,"ng-container",3),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.unmasked),l.xp6(1),l.Q6J("ngIf",!t.unmasked)}}function NE(n,e){1&n&&l.GkF(0)}function OE(n,e){1&n&&l.GkF(0)}function RE(n,e){if(1&n&&(l.ynx(0),l.YNc(1,OE,1,0,"ng-container",7),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentTemplate)}}const LE=function(n){return{width:n}};function FE(n,e){if(1&n&&(l.TgZ(0,"div",15),l._UZ(1,"div",0),l.ALo(2,"mapper"),l.qZA(),l.TgZ(3,"div",16),l._uU(4),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngClass",l.xi3(2,3,t.meter,t.strengthClass))("ngStyle",l.VKq(6,LE,t.meter?t.meter.width:"")),l.xp6(3),l.Oqu(t.infoText)}}function BE(n,e){1&n&&l.GkF(0)}const VE=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},UE=function(n){return{value:"visible",params:n}};function dd(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",11,12),l.NdJ("click",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onOverlayClick(r))})("@overlayAnimation.start",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onAnimationStart(r))})("@overlayAnimation.done",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onAnimationEnd(r))}),l.YNc(2,NE,1,0,"ng-container",7),l.YNc(3,RE,2,1,"ng-container",13),l.YNc(4,FE,5,8,"ng-template",null,14,l.W1O),l.YNc(6,BE,1,0,"ng-container",7),l.qZA()}if(2&n){const t=l.MAs(5),i=l.oxw();l.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",l.VKq(9,UE,l.WLB(6,VE,i.showTransitionOptions,i.hideTransitionOptions))),l.xp6(2),l.Q6J("ngTemplateOutlet",i.headerTemplate),l.xp6(1),l.Q6J("ngIf",i.contentTemplate)("ngIfElse",t),l.xp6(3),l.Q6J("ngTemplateOutlet",i.footerTemplate)}}let BD=(()=>{class n{set showPassword(t){this.el.nativeElement.type=t?"text":"password"}constructor(t,i,r,s,u){x(this,"document",void 0),x(this,"platformId",void 0),x(this,"renderer",void 0),x(this,"el",void 0),x(this,"zone",void 0),x(this,"promptLabel","Enter a password"),x(this,"weakLabel","Weak"),x(this,"mediumLabel","Medium"),x(this,"strongLabel","Strong"),x(this,"feedback",!0),x(this,"panel",void 0),x(this,"meter",void 0),x(this,"info",void 0),x(this,"filled",void 0),x(this,"scrollHandler",void 0),x(this,"documentResizeListener",void 0),this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=u}ngDoCheck(){this.updateFilledState()}onInput(t){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}createPanel(){Er(this.platformId)&&(this.panel=this.renderer.createElement("div"),this.renderer.addClass(this.panel,"p-password-panel"),this.renderer.addClass(this.panel,"p-component"),this.renderer.addClass(this.panel,"p-password-panel-overlay"),this.renderer.addClass(this.panel,"p-connected-overlay"),this.meter=this.renderer.createElement("div"),this.renderer.addClass(this.meter,"p-password-meter"),this.renderer.appendChild(this.panel,this.meter),this.info=this.renderer.createElement("div"),this.renderer.addClass(this.info,"p-password-info"),this.renderer.setProperty(this.info,"textContent",this.promptLabel),this.renderer.appendChild(this.panel,this.info),this.renderer.setStyle(this.panel,"minWidth",`${this.el.nativeElement.offsetWidth}px`),this.renderer.appendChild(document.body,this.panel))}showOverlay(){this.feedback&&(this.panel||this.createPanel(),this.renderer.setStyle(this.panel,"zIndex",String(++ft.zindex)),this.renderer.setStyle(this.panel,"display","block"),this.zone.runOutsideAngular(()=>{setTimeout(()=>{ft.addClass(this.panel,"p-connected-overlay-visible"),this.bindScrollListener(),this.bindDocumentResizeListener()},1)}),ft.absolutePosition(this.panel,this.el.nativeElement))}hideOverlay(){this.feedback&&this.panel&&(ft.addClass(this.panel,"p-connected-overlay-hidden"),ft.removeClass(this.panel,"p-connected-overlay-visible"),this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.ngOnDestroy()},150)}))}onFocus(){this.showOverlay()}onBlur(){this.hideOverlay()}onKeyup(t){if(this.feedback){let r=t.target.value,s=null,u=null;if(0===r.length)s=this.promptLabel,u="0px 0px";else{var i=this.testStrength(r);i<30?(s=this.weakLabel,u="0px -10px"):i>=30&&i<80?(s=this.mediumLabel,u="0px -20px"):i>=80&&(s=this.strongLabel,u="0px -30px")}(!this.panel||!ft.hasClass(this.panel,"p-connected-overlay-visible"))&&this.showOverlay(),this.renderer.setStyle(this.meter,"backgroundPosition",u),this.info.textContent=s}}testStrength(t){let r,i=0;return r=t.match("[0-9]"),i+=25*this.normalize(r?r.length:1/4,1),r=t.match("[a-zA-Z]"),i+=10*this.normalize(r?r.length:.5,3),r=t.match("[!@#$%^&*?_~.,;=]"),i+=35*this.normalize(r?r.length:1/6,1),r=t.match("[A-Z]"),i+=30*this.normalize(r?r.length:1/6,1),i*=t.length/8,i>100?100:i}normalize(t,i){return t-i<=0?t/i:1+t/(t+i/4)*.5}get disabled(){return this.el.nativeElement.disabled}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Fm(this.el.nativeElement,()=>{ft.hasClass(this.panel,"p-connected-overlay-visible")&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentResizeListener(){Er(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}onWindowResize(){ft.isTouchDevice()||this.hideOverlay()}ngOnDestroy(){this.panel&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindDocumentResizeListener(),this.renderer.removeChild(this.document.body,this.panel),this.panel=null,this.meter=null,this.info=null)}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(ne),l.Y36(l.Lbi),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))}),x(n,"\u0275dir",l.lG2({type:n,selectors:[["","pPassword",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i.onInput(s)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("keyup",function(s){return i.onKeyup(s)}),2&t&&l.ekj("p-filled",i.filled)},inputs:{promptLabel:"promptLabel",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",feedback:"feedback",showPassword:"showPassword"}})),n})(),VD=(()=>{class n{transform(t,i,...r){return i(t,...r)}}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275pipe",l.Yjl({name:"mapper",type:n,pure:!0})),n})();const Uh={provide:pa,useExisting:(0,l.Gpc)(()=>UD),multi:!0};let UD=(()=>{class n{constructor(t,i,r,s,u,f,m){x(this,"document",void 0),x(this,"platformId",void 0),x(this,"renderer",void 0),x(this,"cd",void 0),x(this,"config",void 0),x(this,"el",void 0),x(this,"overlayService",void 0),x(this,"ariaLabel",void 0),x(this,"ariaLabelledBy",void 0),x(this,"label",void 0),x(this,"disabled",void 0),x(this,"promptLabel",void 0),x(this,"mediumRegex","^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})"),x(this,"strongRegex","^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})"),x(this,"weakLabel",void 0),x(this,"mediumLabel",void 0),x(this,"maxLength",void 0),x(this,"strongLabel",void 0),x(this,"inputId",void 0),x(this,"feedback",!0),x(this,"appendTo",void 0),x(this,"toggleMask",void 0),x(this,"inputStyleClass",void 0),x(this,"styleClass",void 0),x(this,"style",void 0),x(this,"inputStyle",void 0),x(this,"showTransitionOptions",".12s cubic-bezier(0, 0, 0.2, 1)"),x(this,"hideTransitionOptions",".1s linear"),x(this,"placeholder",void 0),x(this,"showClear",!1),x(this,"onFocus",new l.vpe),x(this,"onBlur",new l.vpe),x(this,"onClear",new l.vpe),x(this,"input",void 0),x(this,"contentTemplate",void 0),x(this,"footerTemplate",void 0),x(this,"headerTemplate",void 0),x(this,"clearIconTemplate",void 0),x(this,"hideIconTemplate",void 0),x(this,"showIconTemplate",void 0),x(this,"templates",void 0),x(this,"overlayVisible",!1),x(this,"meter",void 0),x(this,"infoText",void 0),x(this,"focused",!1),x(this,"unmasked",!1),x(this,"mediumCheckRegExp",void 0),x(this,"strongCheckRegExp",void 0),x(this,"resizeListener",void 0),x(this,"scrollHandler",void 0),x(this,"overlay",void 0),x(this,"value",null),x(this,"onModelChange",()=>{}),x(this,"onModelTouched",()=>{}),x(this,"translationSubscription",void 0),this.document=t,this.platformId=i,this.renderer=r,this.cd=s,this.config=u,this.el=f,this.overlayService=m}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"hideicon":this.hideIconTemplate=t.template;break;case"showicon":this.showIconTemplate=t.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(t){switch(t.toState){case"visible":this.overlay=t.element,Hs.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(t){"void"===t.toState&&Hs.clear(t.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=ft.getOuterWidth(this.input.nativeElement)+"px",ft.absolutePosition(this.overlay,this.input.nativeElement)):ft.relativePosition(this.overlay,this.input.nativeElement)}onInput(t){this.value=t.target.value,this.onModelChange(this.value)}onInputFocus(t){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onModelTouched(),this.onBlur.emit(t)}onKeyDown(t){"Escape"===t.key&&(this.overlayVisible=!1)}onKeyUp(t){this.feedback&&(this.updateUI(t.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(t){let i=null,r=null;switch(this.testStrength(t)){case 1:i=this.weakText(),r={strength:"weak",width:"33.33%"};break;case 2:i=this.mediumText(),r={strength:"medium",width:"66.66%"};break;case 3:i=this.strongText(),r={strength:"strong",width:"100%"};break;default:i=this.promptText(),r=null}this.meter=r,this.infoText=i}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}testStrength(t){let i=0;return this.strongCheckRegExp.test(t)?i=3:this.mediumCheckRegExp.test(t)?i=2:t.length&&(i=1),i}writeValue(t){this.value=void 0===t?null:t,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}bindScrollListener(){Er(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new Fm(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener())}bindResizeListener(){Er(this.platformId)&&!this.resizeListener&&(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",()=>{this.overlayVisible&&!ft.isTouchDevice()&&(this.overlayVisible=!1)}))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}containerClass(t){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":t}}inputFieldClass(t){return{"p-password-input":!0,"p-disabled":t}}strengthClass(t){return`p-password-strength ${t?t.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(Dl.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(Dl.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(Dl.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(Dl.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?this.renderer.removeChild(this.document.body,this.overlay):this.document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(t){return t?"text":"password"}getTranslation(t){return this.config.getTranslation(t)}clear(){this.value=null,this.onModelChange(this.value),this.writeValue(this.value),this.onClear.emit()}ngOnDestroy(){this.overlay&&(Hs.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(ne),l.Y36(l.Lbi),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Sc),l.Y36(l.SBq),l.Y36(vh))}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-password"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,Rs,4),2&t){let s;l.iGM(s=l.CRH())&&(i.templates=s)}},viewQuery:function(t,i){if(1&t&&l.Gf(TD,5),2&t){let r;l.iGM(r=l.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:8,hostBindings:function(t,i){2&t&&l.ekj("p-inputwrapper-filled",i.filled())("p-inputwrapper-focus",i.focused)("p-password-clearable",i.showClear)("p-password-mask",i.toggleMask)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",label:"label",disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",maxLength:"maxLength",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder",showClear:"showClear"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClear:"onClear"},features:[l._Bn([Uh])],decls:9,vars:28,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],[4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[3,"styleClass","click",4,"ngIf"],[1,"p-password-clear-icon",3,"click"],[4,"ngTemplateOutlet"],[3,"styleClass","click"],[3,"click",4,"ngIf"],[3,"click"],[3,"ngClass","click"],["overlay",""],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.ALo(1,"mapper"),l.TgZ(2,"input",1,2),l.NdJ("input",function(s){return i.onInput(s)})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("keyup",function(s){return i.onKeyUp(s)})("keydown",function(s){return i.onKeyDown(s)}),l.ALo(4,"mapper"),l.ALo(5,"mapper"),l.qZA(),l.YNc(6,AD,4,2,"ng-container",3),l.YNc(7,PE,3,2,"ng-container",3),l.YNc(8,dd,7,11,"div",4),l.qZA()),2&t&&(l.Tol(i.styleClass),l.Q6J("ngClass",l.xi3(1,19,i.toggleMask,i.containerClass))("ngStyle",i.style),l.xp6(2),l.Tol(i.inputStyleClass),l.Q6J("ngClass",l.xi3(4,22,i.disabled,i.inputFieldClass))("ngStyle",i.inputStyle)("value",i.value),l.uIk("label",i.label)("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("id",i.inputId)("type",l.xi3(5,25,i.unmasked,i.inputType))("placeholder",i.placeholder)("maxlength",i.maxLength),l.xp6(4),l.Q6J("ngIf",i.showClear&&null!=i.value),l.xp6(1),l.Q6J("ngIf",i.toggleMask),l.xp6(1),l.Q6J("ngIf",i.overlayVisible))},dependencies:function(){return[Ni,li,wr,dr,Z_,Ga,DE,AE,VD]},styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}.p-password-input::-ms-reveal,.p-password-input::-ms-clear{display:none}.p-password-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-password-clearable{position:relative}\n"],encapsulation:2,data:{animation:[Pp("overlayAnimation",[Rl(":enter",[Vs({opacity:0,transform:"scaleY(0.8)"}),Ol("{{showTransitionParams}}")]),Rl(":leave",[Ol("{{hideTransitionParams}}",Vs({opacity:0}))])])]},changeDetection:0})),n})(),J_=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn,EE,Ga,DE,AE,xl]})),n})(),HD=(()=>{class n extends $o{constructor(...t){super(...t),x(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Us()+")"}}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0)(1,"g"),l._UZ(2,"path",1),l.qZA(),l.TgZ(3,"defs")(4,"clipPath",2),l._UZ(5,"rect",3),l.qZA()()()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l.xp6(1),l.uIk("clip-path",i.pathId),l.xp6(3),l.Q6J("id",i.pathId))},encapsulation:2})),n})(),Fc=(()=>{class n{constructor(t,i,r,s,u,f){x(this,"document",void 0),x(this,"platformId",void 0),x(this,"renderer",void 0),x(this,"el",void 0),x(this,"zone",void 0),x(this,"config",void 0),x(this,"animationListener",void 0),x(this,"mouseDownListener",void 0),x(this,"timeout",void 0),this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=u,this.config=f}ngAfterViewInit(){Er(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(ft.removeClass(i,"p-ink-active"),!ft.getHeight(i)&&!ft.getWidth(i)){let f=Math.max(ft.getOuterWidth(this.el.nativeElement),ft.getOuterHeight(this.el.nativeElement));i.style.height=f+"px",i.style.width=f+"px"}let r=ft.getOffset(this.el.nativeElement),s=t.pageX-r.left+this.document.body.scrollTop-ft.getWidth(i)/2,u=t.pageY-r.top+this.document.body.scrollLeft-ft.getHeight(i)/2;this.renderer.setStyle(i,"top",u+"px"),this.renderer.setStyle(i,"left",s+"px"),ft.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let f=this.getInk();f&&ft.removeClass(f,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if("string"==typeof t[i].className&&-1!==t[i].className.indexOf("p-ink"))return t[i];return null}resetInk(){let t=this.getInk();t&&ft.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),ft.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,ft.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(ne),l.Y36(l.Lbi),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Sc,8))}),x(n,"\u0275dir",l.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})),n})(),Hh=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn]})),n})();function wO(n,e){1&n&&l.GkF(0)}function jh(n,e){if(1&n&&l._UZ(0,"span",8),2&n){const t=l.oxw(3);l.Tol("p-button-loading-icon"+t.icon),l.Q6J("ngClass",t.iconClass())}}function jD(n,e){if(1&n&&l._UZ(0,"SpinnerIcon",9),2&n){const t=l.oxw(3);l.Q6J("styleClass",t.spinnerIconClass())("spin",!0)}}function $D(n,e){if(1&n&&(l.ynx(0),l.YNc(1,jh,1,3,"span",6),l.YNc(2,jD,1,2,"SpinnerIcon",7),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.loadingIcon),l.xp6(1),l.Q6J("ngIf",!t.loadingIcon)}}function zD(n,e){}function $h(n,e){1&n&&l.YNc(0,zD,0,0,"ng-template")}function GD(n,e){if(1&n&&(l.TgZ(0,"span",10),l.YNc(1,$h,1,0,null,1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngTemplateOutlet",t.loadingIconTemplate)}}function Bm(n,e){if(1&n&&(l.ynx(0),l.YNc(1,$D,3,2,"ng-container",2),l.YNc(2,GD,2,1,"span",5),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",!t.loadingIconTemplate),l.xp6(1),l.Q6J("ngIf",t.loadingIconTemplate)}}function Vm(n,e){if(1&n&&l._UZ(0,"span",8),2&n){const t=l.oxw(2);l.Tol(t.icon),l.Q6J("ngClass",t.iconClass())}}function zo(n,e){}function EO(n,e){if(1&n&&l.YNc(0,zo,0,0,"ng-template",12),2&n){const t=l.oxw(3);l.Q6J("ngIf",!t.icon)}}function HE(n,e){if(1&n&&(l.TgZ(0,"span",8),l.YNc(1,EO,1,1,null,1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("ngClass",t.iconClass()),l.xp6(1),l.Q6J("ngTemplateOutlet",t.iconTemplate)}}function jE(n,e){if(1&n&&(l.ynx(0),l.YNc(1,Vm,1,3,"span",6),l.YNc(2,HE,2,2,"span",11),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.icon&&!t.iconTemplate),l.xp6(1),l.Q6J("ngIf",!t.icon&&t.iconTemplate)}}function WD(n,e){if(1&n&&(l.TgZ(0,"span",13),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.uIk("aria-hidden",t.icon&&!t.label),l.xp6(1),l.Oqu(t.label)}}function $E(n,e){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.badgeClass),l.Q6J("ngClass",t.badgeStyleClass()),l.xp6(1),l.Oqu(t.badge)}}const zE=["*"],Bc={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let GE=(()=>{class n{get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get htmlElement(){return this.el.nativeElement}constructor(t,i){x(this,"el",void 0),x(this,"document",void 0),x(this,"iconPos","left"),x(this,"loadingIcon",void 0),x(this,"_label",void 0),x(this,"_icon",void 0),x(this,"_loading",!1),x(this,"initialized",void 0),x(this,"_internalClasses",Object.values(Bc)),x(this,"spinnerIcon",'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">\n        <g clip-path="url(#clip0_417_21408)">\n            <path\n                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"\n                fill="currentColor"\n            />\n        </g>\n        <defs>\n            <clipPath id="clip0_417_21408">\n                <rect width="14" height="14" fill="white" />\n            </clipPath>\n        </defs>\n    </svg>'),this.el=t,this.document=i}ngAfterViewInit(){ft.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const t=[Bc.button,Bc.component];return this.icon&&!this.label&&Vh.isEmpty(this.htmlElement.textContent)&&t.push(Bc.iconOnly),this.loading&&(t.push(Bc.disabled,Bc.loading),!this.icon&&this.label&&t.push(Bc.labelOnly)),t}setStyleClass(){const t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(this.label){let t=this.document.createElement("span");this.icon&&!this.label&&t.setAttribute("aria-hidden","true"),t.className="p-button-label",t.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(t)}}createIcon(){if(this.icon||this.loading){let t=this.document.createElement("span");t.className="p-button-icon",t.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&ft.addClass(t,i);let r=this.getIconClass();r&&ft.addMultipleClasses(t,r),!this.loadingIcon&&this.loading&&(t.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(t,this.htmlElement.firstChild)}}updateLabel(){let t=ft.findSingle(this.htmlElement,".p-button-label");this.label?t?t.textContent=this.label:this.createLabel():t&&this.htmlElement.removeChild(t)}updateIcon(){let t=ft.findSingle(this.htmlElement,".p-button-icon");this.icon||this.loading?t?t.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon():t&&this.htmlElement.removeChild(t)}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this._icon}ngOnDestroy(){this.initialized=!1}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ne))}),x(n,"\u0275dir",l.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}})),n})(),hd=(()=>{class n{constructor(){x(this,"type","button"),x(this,"iconPos","left"),x(this,"icon",void 0),x(this,"badge",void 0),x(this,"label",void 0),x(this,"disabled",void 0),x(this,"loading",!1),x(this,"loadingIcon",void 0),x(this,"style",void 0),x(this,"styleClass",void 0),x(this,"badgeClass",void 0),x(this,"ariaLabel",void 0),x(this,"onClick",new l.vpe),x(this,"onFocus",new l.vpe),x(this,"onBlur",new l.vpe),x(this,"contentTemplate",void 0),x(this,"loadingIconTemplate",void 0),x(this,"iconTemplate",void 0),x(this,"templates",void 0)}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){return{"p-button-icon":!0,"p-button-icon-left":"left"===this.iconPos&&this.label,"p-button-icon-right":"right"===this.iconPos&&this.label,"p-button-icon-top":"top"===this.iconPos&&this.label,"p-button-icon-bottom":"bottom"===this.iconPos&&this.label}}buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":this.icon&&!this.label,"p-button-vertical":("top"===this.iconPos||"bottom"===this.iconPos)&&this.label,"p-disabled":this.disabled||this.loading,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-button"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,Rs,4),2&t){let s;l.iGM(s=l.CRH())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:zE,decls:7,vars:12,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],["class","p-button-loading-icon",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[1,"p-button-loading-icon"],[3,"ngClass",4,"ngIf"],[3,"ngIf"],[1,"p-button-label"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"button",0),l.NdJ("click",function(s){return i.onClick.emit(s)})("focus",function(s){return i.onFocus.emit(s)})("blur",function(s){return i.onBlur.emit(s)}),l.Hsn(1),l.YNc(2,wO,1,0,"ng-container",1),l.YNc(3,Bm,3,2,"ng-container",2),l.YNc(4,jE,3,2,"ng-container",2),l.YNc(5,WD,2,2,"span",3),l.YNc(6,$E,2,4,"span",4),l.qZA()),2&t&&(l.Tol(i.styleClass),l.Q6J("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",i.buttonClass()),l.uIk("type",i.type)("aria-label",i.ariaLabel),l.xp6(2),l.Q6J("ngTemplateOutlet",i.contentTemplate),l.xp6(1),l.Q6J("ngIf",i.loading),l.xp6(1),l.Q6J("ngIf",!i.loading),l.xp6(1),l.Q6J("ngIf",!i.contentTemplate&&i.label),l.xp6(1),l.Q6J("ngIf",!i.contentTemplate&&i.badge))},dependencies:function(){return[Ni,li,wr,dr,Fc,HD]},encapsulation:2,changeDetection:0})),n})(),Rp=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn,Hh,xl,HD,xl]})),n})(),Um=(()=>{class n extends $o{}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0),l._UZ(1,"path",1),l.qZA()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})),n})(),Vc=(()=>{class n extends $o{constructor(...t){super(...t),x(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Us()+")"}}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0)(1,"g"),l._UZ(2,"path",1)(3,"path",2)(4,"path",3),l.qZA(),l.TgZ(5,"defs")(6,"clipPath",4),l._UZ(7,"rect",5),l.qZA()()()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l.xp6(1),l.uIk("clip-path",i.pathId),l.xp6(5),l.Q6J("id",i.pathId))},encapsulation:2})),n})(),Hm=(()=>{class n extends $o{constructor(...t){super(...t),x(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Us()+")"}}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["InfoCircleIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0)(1,"g"),l._UZ(2,"path",1),l.qZA(),l.TgZ(3,"defs")(4,"clipPath",2),l._UZ(5,"rect",3),l.qZA()()()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l.xp6(1),l.uIk("clip-path",i.pathId),l.xp6(3),l.Q6J("id",i.pathId))},encapsulation:2})),n})(),jm=(()=>{class n extends $o{constructor(...t){super(...t),x(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Us()+")"}}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["TimesCircleIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0)(1,"g"),l._UZ(2,"path",1),l.qZA(),l.TgZ(3,"defs")(4,"clipPath",2),l._UZ(5,"rect",3),l.qZA()()()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l.xp6(1),l.uIk("clip-path",i.pathId),l.xp6(3),l.Q6J("id",i.pathId))},encapsulation:2})),n})();const WE=["container"];function $m(n,e){if(1&n&&l._UZ(0,"span"),2&n){const t=l.oxw(2);l.Tol("p-toast-message-icon pi "+t.message.icon)}}function qE(n,e){1&n&&l._UZ(0,"CheckIcon")}function ZE(n,e){1&n&&l._UZ(0,"InfoCircleIcon")}function KE(n,e){1&n&&l._UZ(0,"TimesCircleIcon")}function qD(n,e){1&n&&l._UZ(0,"ExclamationTriangleIcon")}function Lp(n,e){if(1&n&&(l.TgZ(0,"span",11),l.ynx(1),l.YNc(2,qE,1,0,"CheckIcon",3),l.YNc(3,ZE,1,0,"InfoCircleIcon",3),l.YNc(4,KE,1,0,"TimesCircleIcon",3),l.YNc(5,qD,1,0,"ExclamationTriangleIcon",3),l.BQk(),l.qZA()),2&n){const t=l.oxw(2);l.xp6(2),l.Q6J("ngIf","success"===t.message.severity),l.xp6(1),l.Q6J("ngIf","info"===t.message.severity),l.xp6(1),l.Q6J("ngIf","error"===t.message.severity),l.xp6(1),l.Q6J("ngIf","warn"===t.message.severity)}}function Fp(n,e){if(1&n&&(l.ynx(0),l.YNc(1,$m,1,2,"span",6),l.YNc(2,Lp,6,4,"span",7),l.TgZ(3,"div",8)(4,"div",9),l._uU(5),l.qZA(),l.TgZ(6,"div",10),l._uU(7),l.qZA()(),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.message.icon),l.xp6(1),l.Q6J("ngIf",!t.message.icon),l.xp6(3),l.Oqu(t.message.summary),l.xp6(2),l.Oqu(t.message.detail)}}function ZD(n,e){1&n&&l.GkF(0)}function KD(n,e){if(1&n&&l._UZ(0,"span"),2&n){const t=l.oxw(2);l.Tol("p-toast-message-icon pi "+t.message.closeIcon)}}function YD(n,e){1&n&&l._UZ(0,"TimesIcon",14),2&n&&l.Q6J("styleClass","p-toast-icon-close-icon")}function YE(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",12),l.NdJ("click",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onCloseIconClick(r))})("keydown.enter",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onCloseIconClick(r))}),l.YNc(1,KD,1,2,"span",6),l.YNc(2,YD,1,1,"TimesIcon",13),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.message.closeIcon),l.xp6(1),l.Q6J("ngIf",!t.message.closeIcon)}}const QE=function(n){return[n,"p-toast-message"]},JE=function(n,e,t,i){return{showTransformParams:n,hideTransformParams:e,showTransitionParams:t,hideTransitionParams:i}},QD=function(n){return{value:"visible",params:n}},XE=function(n){return{$implicit:n}};function JD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"p-toastItem",3),l.NdJ("onClose",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onMessageClose(r))})("@toastAnimation.start",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onAnimationStart(r))})("@toastAnimation.done",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onAnimationEnd(r))}),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("message",t)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let XD=(()=>{class n{constructor(t){x(this,"zone",void 0),x(this,"message",void 0),x(this,"index",void 0),x(this,"template",void 0),x(this,"showTransformOptions",void 0),x(this,"hideTransformOptions",void 0),x(this,"showTransitionOptions",void 0),x(this,"hideTransitionOptions",void 0),x(this,"onClose",new l.vpe),x(this,"containerViewChild",void 0),x(this,"timeout",void 0),this.zone=t}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(t){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(l.R0b))}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-toastItem"]],viewQuery:function(t,i){if(1&t&&l.Gf(WE,5),2&t){let r;l.iGM(r=l.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0,1),l.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),l.TgZ(2,"div",2),l.YNc(3,Fp,8,4,"ng-container",3),l.YNc(4,ZD,1,0,"ng-container",4),l.YNc(5,YE,3,2,"button",5),l.qZA()()),2&t&&(l.Tol(null==i.message?null:i.message.styleClass),l.Q6J("ngClass",l.VKq(10,QE,"p-toast-message-"+(null==i.message?null:i.message.severity)))("@messageState",l.VKq(17,QD,l.l5B(12,JE,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),l.uIk("id",null==i.message?null:i.message.id),l.xp6(2),l.Q6J("ngClass",null==i.message?null:i.message.contentStyleClass),l.xp6(1),l.Q6J("ngIf",!i.template),l.xp6(1),l.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",l.VKq(19,XE,i.message)),l.xp6(1),l.Q6J("ngIf",!1!==(null==i.message?null:i.message.closable)))},dependencies:function(){return[Ni,li,wr,Fc,Um,Hm,jm,Vc,Ga]},encapsulation:2,data:{animation:[Pp("messageState",[TE("visible",Vs({transform:"translateY(0)",opacity:1})),Rl("void => *",[Vs({transform:"{{showTransformParams}}",opacity:0}),Ol("{{showTransitionParams}}")]),Rl("* => void",[Ol("{{hideTransitionParams}}",Vs({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})),n})(),eA=(()=>{class n{constructor(t,i,r,s,u){x(this,"document",void 0),x(this,"renderer",void 0),x(this,"messageService",void 0),x(this,"cd",void 0),x(this,"config",void 0),x(this,"key",void 0),x(this,"autoZIndex",!0),x(this,"baseZIndex",0),x(this,"style",void 0),x(this,"styleClass",void 0),x(this,"position","top-right"),x(this,"preventOpenDuplicates",!1),x(this,"preventDuplicates",!1),x(this,"showTransformOptions","translateY(100%)"),x(this,"hideTransformOptions","translateY(-100%)"),x(this,"showTransitionOptions","300ms ease-out"),x(this,"hideTransitionOptions","250ms ease-in"),x(this,"breakpoints",void 0),x(this,"onClose",new l.vpe),x(this,"containerViewChild",void 0),x(this,"templates",void 0),x(this,"messageSubscription",void 0),x(this,"clearSubscription",void 0),x(this,"messages",void 0),x(this,"messagesArchieve",void 0),x(this,"template",void 0),x(this,"styleElement",void 0),x(this,"id",Us()),this.document=t,this.renderer=i,this.messageService=r,this.cd=s,this.config=u}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(Array.isArray(t)){const i=t.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let i=this.key===t.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,t)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,t)),i}containsMessage(t,i){return!!t&&null!=t.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates?.forEach(t=>{t.getType(),this.template=t.template})}onMessageClose(t){this.messages?.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){"void"===t.fromState&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&""===this.containerViewChild?.nativeElement.style.zIndex&&Hs.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(t){"void"===t.toState&&this.autoZIndex&&Vh.isEmpty(this.messages)&&Hs.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints){let r="";for(let s in this.breakpoints[i])r+=s+":"+this.breakpoints[i][s]+" !important;";t+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.renderer.setProperty(this.styleElement,"innerHTML",t)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Hs.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(ne),l.Y36(l.Qsj),l.Y36(Tc),l.Y36(l.sBO),l.Y36(Sc))}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-toast"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,Rs,4),2&t){let s;l.iGM(s=l.CRH())&&(i.templates=s)}},viewQuery:function(t,i){if(1&t&&l.Gf(WE,5),2&t){let r;l.iGM(r=l.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0,1),l.YNc(2,JD,1,8,"p-toastItem",2),l.qZA()),2&t&&(l.Tol(i.styleClass),l.Q6J("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),l.xp6(2),l.Q6J("ngForOf",i.messages))},dependencies:[Ni,ai,dr,XD],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[Pp("toastAnimation",[Rl(":enter, :leave",[CD("@*",SE())])])]},changeDetection:0})),n})(),CO=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn,Hh,Um,Hm,jm,Vc,Ga,xl]})),n})(),X_=(()=>{class n{constructor(){x(this,"styleClass",void 0),x(this,"style",void 0),x(this,"strokeWidth","2"),x(this,"fill","none"),x(this,"animationDuration","2s")}}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:10,consts:[["role","progressbar",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.O4$(),l.TgZ(1,"svg",1),l._UZ(2,"circle",2),l.qZA()()),2&t&&(l.Q6J("ngStyle",i.style)("ngClass",i.styleClass),l.uIk("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),l.xp6(1),l.Udp("animation-duration",i.animationDuration),l.uIk("data-pc-section","root"),l.xp6(1),l.uIk("fill",i.fill)("stroke-width",i.strokeWidth))},dependencies:[Ni,dr],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0})),n})(),eC=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn]})),n})();function tC(n,e){1&n&&l._UZ(0,"p-progressSpinner",6)}let zm=(()=>{class n{constructor(t,i){this.auth=t,this.messageService=i,this.email="",this.password="",this.logging=!1}onSubmit(){var t=this;return(0,Te.Z)(function*(){if(t.password.length<6)t.messageService.add({severity:"error",summary:"Invalid Password",detail:"Password should be at least 6 characters"});else try{t.logging=!0,yield t.auth.signup(t.email,t.password),t.logging=!1}catch(i){if(t.logging=!1,i instanceof Os.ZR)switch(i.code){case"auth/invalid-email":t.messageService.add({severity:"error",summary:"Invalid Email",detail:"Provide a valid email value"});break;case"auth/email-already-exists":t.messageService.add({severity:"error",summary:"Email Already Exists",detail:"The user with this email already exists"})}}})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Tw),l.Y36(Tc))},n.\u0275cmp=l.Xpm({type:n,selectors:[["signup-form"]],features:[l._Bn([Tc])],decls:7,vars:5,consts:[[1,"form"],["strokeWidth","3","class","spinner",4,"ngIf"],["position","top-center"],["type","text","pInputText","","placeholder","email",1,"row",3,"email","ngModel","ngModelChange"],["pPassword","","placeholder","password",1,"row",3,"feedback","ngModel","ngModelChange"],["label","Submit",1,"button",3,"onClick"],["strokeWidth","3",1,"spinner"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,tC,1,0,"p-progressSpinner",1),l._UZ(2,"p-toast",2),l.TgZ(3,"div")(4,"input",3),l.NdJ("ngModelChange",function(s){return i.email=s}),l.qZA(),l.TgZ(5,"input",4),l.NdJ("ngModelChange",function(s){return i.password=s}),l.qZA()(),l.TgZ(6,"p-button",5),l.NdJ("onClick",function(){return i.onSubmit()}),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("ngIf",i.logging),l.xp6(3),l.Q6J("email",!0)("ngModel",i.email),l.xp6(1),l.Q6J("feedback",!0)("ngModel",i.password))},dependencies:[Sh,pr,Lm,Oh,li,Z_,BD,hd,eA,X_],styles:[".row[_ngcontent-%COMP%]{display:block;margin-bottom:10px}.form[_ngcontent-%COMP%]{display:flex;flex-flow:column;align-items:center;position:relative}.spinner[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:-170px;margin:0 auto}"]}),n})();function tA(n,e){1&n&&l._UZ(0,"p-progressSpinner",6)}let nA=(()=>{class n{constructor(t,i){this.auth=t,this.messageService=i,this.email="",this.password="",this.logging=!1}onSubmit(){var t=this;return(0,Te.Z)(function*(){try{t.logging=!0,yield t.auth.login(t.email,t.password),t.logging=!1}catch(i){if(t.logging=!1,i instanceof Os.ZR)switch(i.code){case"auth/invalid-email":t.messageService.add({severity:"error",summary:"Invalid Email",detail:"Enter a valid email"});break;case"auth/user-not-found":t.messageService.add({severity:"error",summary:"User Not Found",detail:"It's seems you don't have an account\nPlease sign up"}),setTimeout(()=>{t.toggleForm()},1500);break;case"auth/wrong-password":t.messageService.add({severity:"error",summary:"Wrong Password",detail:"Enter a valid password"})}}})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Tw),l.Y36(Tc))},n.\u0275cmp=l.Xpm({type:n,selectors:[["login-form"]],inputs:{toggleForm:"toggleForm"},features:[l._Bn([Tc])],decls:7,vars:5,consts:[[1,"form"],["strokeWidth","3","class","spinner",4,"ngIf"],["position","top-center"],["type","text","pInputText","","placeholder","email",1,"row",3,"email","ngModel","ngModelChange"],["placeholder","password",1,"row",3,"ngModel","feedback","ngModelChange"],["type","button","label","Log In",1,"button",3,"onClick"],["strokeWidth","3",1,"spinner"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,tA,1,0,"p-progressSpinner",1),l._UZ(2,"p-toast",2),l.TgZ(3,"div")(4,"input",3),l.NdJ("ngModelChange",function(s){return i.email=s}),l.qZA(),l.TgZ(5,"p-password",4),l.NdJ("ngModelChange",function(s){return i.password=s}),l.qZA()(),l.TgZ(6,"p-button",5),l.NdJ("onClick",function(){return i.onSubmit()}),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("ngIf",i.logging),l.xp6(3),l.Q6J("email",!0)("ngModel",i.email),l.xp6(1),l.Q6J("ngModel",i.password)("feedback",!1))},dependencies:[Sh,pr,Lm,Oh,li,Z_,UD,hd,eA,X_],styles:[".row[_ngcontent-%COMP%]{display:block;margin-bottom:10px}.form[_ngcontent-%COMP%]{display:flex;flex-flow:column;align-items:center;position:relative}.spinner[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:-170px;margin:0 auto}"]}),n})();function nC(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"h1"),l._uU(2,"Log in to Diary"),l.qZA(),l._UZ(3,"login-form",2,3),l.TgZ(5,"p",4),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.toggleForm())}),l._uU(6," Don't have an account? Sign Up! "),l.qZA(),l.BQk()}if(2&n){const t=l.oxw();l.xp6(3),l.Q6J("toggleForm",t.toggleForm)}}function Bp(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"h1"),l._uU(2,"Sign up for Diary"),l.qZA(),l._UZ(3,"signup-form",null,5),l.TgZ(5,"p",4),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.toggleForm())}),l._uU(6," Already have an account? Log In! "),l.qZA(),l.BQk()}}let iA=(()=>{class n{constructor(){this.formType=!0,this.toggleForm=this.toggleForm.bind(this)}toggleForm(){this.formType=!this.formType}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["auth-form"]],decls:3,vars:3,consts:[[1,"auth-form",3,"ngSwitch"],[4,"ngSwitchCase"],[3,"toggleForm"],["login",""],[1,"signup-switch",3,"click"],["signup",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,nC,7,1,"ng-container",1),l.YNc(2,Bp,7,0,"ng-container",1),l.qZA()),2&t&&(l.Q6J("ngSwitch",i.formType),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1))},dependencies:[Ks,Gl,zm,nA],styles:[".signup-switch[_ngcontent-%COMP%]{margin-top:40px}.signup-switch[_ngcontent-%COMP%]:hover{cursor:pointer;color:#a28af5}.auth-form[_ngcontent-%COMP%]{position:relative;padding:100px 50px 60px;min-width:400px;background:white;border-radius:15px;text-align:center}"]}),n})(),rA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["auth-page"]],decls:2,vars:0,consts:[[1,"auth-page"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"auth-form"),l.qZA())},dependencies:[iA],styles:[".auth-page[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}"]}),n})();function Gm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function iC(){}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self,Object.assign(iC,{default:iC,register:iC,revert:function(){},__esModule:!0}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){const e=(this.document||this.ownerDocument).querySelectorAll(n);let t=e.length;for(;--t>=0&&e.item(t)!==this;);return t>-1}),Element.prototype.closest||(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(n){const e=document.createDocumentFragment();Array.isArray(n)||(n=[n]),n.forEach(t=>{const i=t instanceof Node;e.appendChild(i?t:document.createTextNode(t))}),this.insertBefore(e,this.firstChild)}),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(n){n=0===arguments.length||!!n;const e=this.parentNode,t=window.getComputedStyle(e,null),i=parseInt(t.getPropertyValue("border-top-width")),r=parseInt(t.getPropertyValue("border-left-width")),s=this.offsetTop-e.offsetTop<e.scrollTop,u=this.offsetTop-e.offsetTop+this.clientHeight-i>e.scrollTop+e.clientHeight,f=this.offsetLeft-e.offsetLeft<e.scrollLeft,m=this.offsetLeft-e.offsetLeft+this.clientWidth-r>e.scrollLeft+e.clientWidth,_=s&&!u;(s||u)&&n&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-i+this.clientHeight/2),(f||m)&&n&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-r+this.clientWidth/2),(s||u||f||m)&&!n&&this.scrollIntoView(_)});var e0=(n=>(n.VERBOSE="VERBOSE",n.INFO="INFO",n.WARN="WARN",n.ERROR="ERROR",n))(e0||{});function Ll(n,e,t="log",i,r="color: inherit"){if(!("console"in window)||!window.console[t])return;const s=["info","log","warn","error"].includes(t),u=[];switch(Ll.logLevel){case"ERROR":if("error"!==t)return;break;case"WARN":if(!["error","warn"].includes(t))return;break;case"INFO":if(!s||n)return}i&&u.push(i);const f="Editor.js 2.27.2";n&&(s?(u.unshift("line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;",r),e=`%c${f}%c ${e}`):e=`( ${f} )${e}`);try{s?i?console[t](`${e} %o`,...u):console[t](e,...u):console[t](e)}catch{}}Ll.logLevel="VERBOSE";const an=Ll.bind(window,!1),ga=Ll.bind(window,!0);function Uc(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function ei(n){return"function"===Uc(n)||"asyncfunction"===Uc(n)}function gr(n){return"object"===Uc(n)}function Hc(n){return"string"===Uc(n)}function rC(n){return"number"===Uc(n)}function n0(n){return"undefined"===Uc(n)}function js(n){return!n||0===Object.keys(n).length&&n.constructor===Object}function oC(n){return n>47&&n<58||32===n||13===n||229===n||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}function sC(n){return r0.apply(this,arguments)}function r0(){return r0=(0,Te.Z)(function*(n,e=(()=>{}),t=(()=>{})){function r(){return(r=(0,Te.Z)(function*(s,u,f){try{yield s.function(s.data),yield u(n0(s.data)?{}:s.data)}catch{f(n0(s.data)?{}:s.data)}})).apply(this,arguments)}return n.reduce(function(){var s=(0,Te.Z)(function*(u,f){return yield u,function i(s,u,f){return r.apply(this,arguments)}(f,e,t)});return function(u,f){return s.apply(this,arguments)}}(),Promise.resolve())}),r0.apply(this,arguments)}function Wm(n){return Array.prototype.slice.call(n)}function fd(n,e){return function(){const t=this,i=arguments;window.setTimeout(()=>n.apply(t,i),e)}}function o0(n,e,t=void 0){let i,r,s,u=null,f=0;t||(t={});const m=function(){f=!1===t.leading?0:Date.now(),u=null,s=n.apply(i,r),u||(i=r=null)};return function(){const _=Date.now();!f&&!1===t.leading&&(f=_);const I=e-(_-f);return i=this,r=arguments,I<=0||I>e?(u&&(clearTimeout(u),u=null),f=_,s=n.apply(i,r),u||(i=r=null)):!u&&!1!==t.trailing&&(u=setTimeout(m,I)),s}}function qm(n){return n[0].toUpperCase()+n.slice(1)}function s0(n,...e){if(!e.length)return n;const t=e.shift();if(gr(n)&&gr(t))for(const i in t)gr(t[i])?(n[i]||Object.assign(n,{[i]:{}}),s0(n[i],t[i])):Object.assign(n,{[i]:t[i]});return s0(n,...e)}function lC(n){const e=function dA(){const n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>-1!==window.navigator.appVersion.toLowerCase().indexOf(t));return e&&(n[e]=!0),n}();return n=n.replace(/shift/gi,"\u21e7").replace(/backspace/gi,"\u232b").replace(/enter/gi,"\u23ce").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238b").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi," + "),e.mac?n.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")}function cC(){return((n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),""))(10)}function a0(n,e,t){n&&ga(`\xab${e}\xbb is deprecated and will be removed in the next major release. Please use the \xab${t}\xbb instead.`,"warn")}function pd(n,e,t){const i=t.value?"value":"get",r=t[i],s=`#${e}Cache`;if(t[i]=function(...u){return void 0===this[s]&&(this[s]=r.apply(this,...u)),this[s]},"get"===i&&t.set){const u=t.set;t.set=function(f){delete n[s],u.apply(this,f)}}return t}function gd(){return window.matchMedia("(max-width: 650px)").matches}const hC=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);class pe{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,t=null,i={}){const r=document.createElement(e);Array.isArray(t)?r.classList.add(...t):t&&r.classList.add(t);for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}static text(e){return document.createTextNode(e)}static append(e,t){Array.isArray(t)?t.forEach(i=>e.appendChild(i)):e.appendChild(t)}static prepend(e,t){Array.isArray(t)?(t=t.reverse()).forEach(i=>e.prepend(i)):e.prepend(t)}static swap(e,t){const i=document.createElement("div"),r=e.parentNode;r.insertBefore(i,e),r.insertBefore(e,t),r.insertBefore(t,i),r.removeChild(i)}static find(e=document,t){return e.querySelector(t)}static get(e){return document.getElementById(e)}static findAll(e=document,t){return e.querySelectorAll(t)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return Wm(e.querySelectorAll(pe.allInputsSelector)).reduce((t,i)=>pe.isNativeInput(i)||pe.containsOnlyInlineElements(i)?[...t,i]:[...t,...pe.getDeepestBlockElements(i)],[])}static getDeepestNode(e,t=!1){const i=t?"lastChild":"firstChild",r=t?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[i]){let s=e[i];if(pe.isSingleTag(s)&&!pe.isNativeInput(s)&&!pe.isLineBreakTag(s))if(s[r])s=s[r];else{if(!s.parentNode[r])return s.parentNode;s=s.parentNode[r]}return this.getDeepestNode(s,t)}return e}static isElement(e){return!rC(e)&&e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return!rC(e)&&e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return"true"===e.contentEditable}static isNativeInput(e){return!(!e||!e.tagName)&&["INPUT","TEXTAREA"].includes(e.tagName)}static canSetCaret(e){let t=!0;if(pe.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1}else t=pe.isContentEditable(e);return t}static isNodeEmpty(e){let t;return!(this.isSingleTag(e)&&!this.isLineBreakTag(e))&&(t=this.isElement(e)&&this.isNativeInput(e)?e.value:e.textContent.replace("\u200b",""),0===t.trim().length)}static isLeaf(e){return!!e&&0===e.childNodes.length}static isEmpty(e){e.normalize();const t=[e];for(;t.length>0;)if(e=t.shift()){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&t.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const t=pe.make("div");return t.innerHTML=e,t.childElementCount>0}static getContentLength(e){return pe.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let t;Hc(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;const i=r=>!pe.blockElements.includes(r.tagName.toLowerCase())&&Array.from(r.children).every(i);return Array.from(t.children).every(i)}static getDeepestBlockElements(e){return pe.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((t,i)=>[...t,...pe.getDeepestBlockElements(i)],[])}static getHolder(e){return Hc(e)?document.getElementById(e):e}static isAnchor(e){return"a"===e.tagName.toLowerCase()}static offset(e){const t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,s=t.top+r,u=t.left+i;return{top:s,left:u,bottom:s+t.height,right:u+t.width}}}const Zm={ui:{blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},toolNames:{Text:"",Link:"",Bold:"",Italic:""},tools:{link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},blockTunes:{delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}}},zh=class{static ui(n,e){return zh._t(n,e)}static t(n,e){return zh._t(n,e)}static setDictionary(n){zh.currentDictionary=n}static _t(n,e){const t=zh.getNamespace(n);return t&&t[e]?t[e]:e}static getNamespace(n){return n.split(".").reduce((e,t)=>e&&Object.keys(e).length?e[t]:{},zh.currentDictionary)}};let _o=zh;_o.currentDictionary=Zm;class md extends Error{}class Vp{constructor(){this.subscribers={}}on(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}once(e,t){e in this.subscribers||(this.subscribers[e]=[]);const i=r=>{const s=t(r),u=this.subscribers[e].indexOf(i);return-1!==u&&this.subscribers[e].splice(u,1),s};this.subscribers[e].push(i)}emit(e,t){js(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((i,r)=>{const s=r(i);return void 0!==s?s:i},t)}off(e,t){for(let i=0;i<this.subscribers[e].length;i++)if(this.subscribers[e][i]===t){delete this.subscribers[e][i];break}}destroy(){this.subscribers=null}}function Up(n){Object.setPrototypeOf(this,{get id(){return n.id},get name(){return n.name},get config(){return n.config},get holder(){return n.holder},get isEmpty(){return n.isEmpty},get selected(){return n.selected},set stretched(e){n.stretched=e},get stretched(){return n.stretched},call:(e,t)=>n.call(e,t),save:()=>n.save(),validate:e=>n.validate(e),dispatchChange(){n.dispatchChange()}})}class pC{constructor(){this.allListeners=[]}on(e,t,i,r=!1){const s=function fA(n=""){return`${n}${Math.floor(1e8*Math.random()).toString(16)}`}("l"),u={id:s,element:e,eventType:t,handler:i,options:r};if(!this.findOne(e,t,i))return this.allListeners.push(u),e.addEventListener(t,i,r),s}off(e,t,i,r){const s=this.findAll(e,t,i);s.forEach((u,f)=>{const m=this.allListeners.indexOf(s[f]);m>-1&&(this.allListeners.splice(m,1),u.element.removeEventListener(u.eventType,u.handler,u.options))})}offById(e){const t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}findOne(e,t,i){const r=this.findAll(e,t,i);return r.length>0?r[0]:null}findAll(e,t,i){let r;const s=e?this.findByEventTarget(e):[];return r=e&&t&&i?s.filter(u=>u.eventType===t&&u.handler===i):e&&t?s.filter(u=>u.eventType===t):s,r}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(t=>{if(t.element===e)return t})}findByType(e){return this.allListeners.filter(t=>{if(t.eventType===e)return t})}findByHandler(e){return this.allListeners.filter(t=>{if(t.handler===e)return t})}findById(e){return this.allListeners.find(t=>t.id===e)}}class ln{constructor({config:e,eventsDispatcher:t}){if(this.nodes={},this.listeners=new pC,this.readOnlyMutableListeners={on:(i,r,s,u=!1)=>{this.mutableListenerIds.push(this.listeners.on(i,r,s,u))},clearAll:()=>{for(const i of this.mutableListenerIds)this.listeners.offById(i);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===ln)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=t}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}get isRtl(){return"rtl"===this.config.i18n.direction}}class bt{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const t=e.anchorNode;return t?pe.isElement(t)?t:t.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(bt.get())}static isSelectionAtEditor(e){if(!e)return!1;let t=e.anchorNode||e.focusNode;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let i=null;return t&&t instanceof Element&&(i=t.closest(`.${bt.CSS.editorZone}`)),!!i&&i.nodeType===Node.ELEMENT_NODE}static isRangeAtEditor(e){if(!e)return;let t=e.startContainer;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let i=null;return t&&t instanceof Element&&(i=t.closest(`.${bt.CSS.editorZone}`)),!!i&&i.nodeType===Node.ELEMENT_NODE}static get isSelectionExists(){return!!bt.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let t,e=document.selection,i={x:0,y:0,width:0,height:0};if(e&&"Control"!==e.type)return t=e.createRange(),i.x=t.boundingLeft,i.y=t.boundingTop,i.width=t.boundingWidth,i.height=t.boundingHeight,i;if(!window.getSelection)return an("Method window.getSelection is not supported","warn"),i;if(e=window.getSelection(),null===e.rangeCount||isNaN(e.rangeCount))return an("Method SelectionUtils.rangeCount is not supported","warn"),i;if(0===e.rangeCount)return i;if(t=e.getRangeAt(0).cloneRange(),t.getBoundingClientRect&&(i=t.getBoundingClientRect()),0===i.x&&0===i.y){const r=document.createElement("span");if(r.getBoundingClientRect){r.appendChild(document.createTextNode("\u200b")),t.insertNode(r),i=r.getBoundingClientRect();const s=r.parentNode;s.removeChild(r),s.normalize()}}return i}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,t=0){const i=document.createRange(),r=window.getSelection();return pe.isNativeInput(e)?pe.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()):void 0:(i.setStart(e,t),i.setEnd(e,t),r.removeAllRanges(),r.addRange(i),i.getBoundingClientRect())}static isRangeInsideContainer(e){const t=bt.range;return null!==t&&e.contains(t.startContainer)}static addFakeCursor(){const e=bt.range;if(null===e)return;const t=pe.make("span","codex-editor__fake-cursor");t.dataset.mutationFree="true",e.collapse(),e.insertNode(t)}static isFakeCursorInsideContainer(e){return null!==pe.find(e,".codex-editor__fake-cursor")}static removeFakeCursor(e=document.body){const t=pe.find(e,".codex-editor__fake-cursor");t&&t.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=bt.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t,i=10){const r=window.getSelection();let s=null;return r&&r.anchorNode&&r.focusNode?([r.anchorNode,r.focusNode].forEach(u=>{let f=i;for(;f>0&&u.parentNode&&(u.tagName!==e||(s=u,t&&u.classList&&!u.classList.contains(t)&&(s=null),!s));)u=u.parentNode,f--}),s):null}expandToTag(e){const t=window.getSelection();t.removeAllRanges();const i=document.createRange();i.selectNodeContents(e),t.addRange(i)}}const Km="redactor dom changed",u0="block changed",gC="fake cursor is about to be toggled",d0="fake cursor have been set";var Wa=(n=>(n.APPEND_CALLBACK="appendCallback",n.RENDERED="rendered",n.MOVED="moved",n.UPDATED="updated",n.REMOVED="removed",n.ON_PASTE="onPaste",n))(Wa||{});class Hi extends Vp{constructor({id:e=cC(),data:t,tool:i,api:r,readOnly:s,tunesData:u},f){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(m=void 0)=>{const _=void 0===m,I=m instanceof InputEvent;let D;!_&&!I&&this.detectToolRootChange(m),D=!(!_&&!I&&m.length>0&&m.every(N=>{const{addedNodes:U,removedNodes:B,target:q}=N;return[...Array.from(U),...Array.from(B),q].some(ie=>!!pe.isElement(ie)&&"true"===ie.dataset.mutationFree)})),D&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=i.name,this.id=e,this.settings=i.settings,this.config=i.settings.config||{},this.api=r,this.editorEventBus=f||null,this.blockAPI=new Up(this),this.tool=i,this.toolInstance=i.create(t,this.blockAPI,s),this.tunes=i.tunes,this.composeTunes(u),this.holder=this.compose(),this.watchBlockMutations(),this.addInputEvents()}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(0!==this.cachedInputs.length)return this.cachedInputs;const e=pe.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const t=this.inputs.findIndex(i=>i===e||i.contains(e));-1!==t&&(this.inputIndex=t)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!js(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return ei(this.toolInstance.merge)}get isEmpty(){return pe.isEmpty(this.pluginsContent)&&!this.hasMedia}get hasMedia(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}set focused(e){this.holder.classList.toggle(Hi.CSS.focused,e)}get focused(){return this.holder.classList.contains(Hi.CSS.focused)}set selected(e){var t,i;this.holder.classList.toggle(Hi.CSS.selected,e);const r=!0===e&&bt.isRangeInsideContainer(this.holder),s=!1===e&&bt.isFakeCursorInsideContainer(this.holder);(r||s)&&(null==(t=this.editorEventBus)||t.emit(gC,{state:e}),r?bt.addFakeCursor():bt.removeFakeCursor(this.holder),null==(i=this.editorEventBus)||i.emit(d0,{state:e}))}get selected(){return this.holder.classList.contains(Hi.CSS.selected)}set stretched(e){this.holder.classList.toggle(Hi.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Hi.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Hi.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,t){if(ei(this.toolInstance[e])){"appendCallback"===e&&an("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(i){an(`Error during '${e}' call: ${i.message}`,"error")}}}mergeWith(e){var t=this;return(0,Te.Z)(function*(){yield t.toolInstance.merge(e)})()}save(){var e=this;return(0,Te.Z)(function*(){const t=yield e.toolInstance.save(e.pluginsContent),i=e.unavailableTunesData;[...e.tunesInstances.entries(),...e.defaultTunesInstances.entries()].forEach(([u,f])=>{if(ei(f.save))try{i[u]=f.save()}catch(m){an(`Tune ${f.constructor.name} save method throws an Error %o`,"warn",m)}});const r=window.performance.now();let s;return Promise.resolve(t).then(u=>(s=window.performance.now(),{id:e.id,tool:e.name,data:u,tunes:i,time:s-r})).catch(u=>{an(`Saving process for ${e.name} tool failed due to the ${u}`,"log","red")})})()}validate(e){var t=this;return(0,Te.Z)(function*(){let i=!0;return t.toolInstance.validate instanceof Function&&(i=yield t.toolInstance.validate(e)),i})()}getTunes(){const e=document.createElement("div"),t=[];return["function"==typeof this.toolInstance.renderSettings?this.toolInstance.renderSettings():[],[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(s=>s.render())].flat().forEach(s=>{pe.isElement(s)?e.appendChild(s):Array.isArray(s)?t.push(...s):t.push(s)}),[t,e]}updateCurrentInput(){this.currentInput=pe.isNativeInput(document.activeElement)||!bt.anchorNode?document.activeElement:bt.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),ei(this.toolInstance.destroy)&&this.toolInstance.destroy()}getActiveToolboxEntry(){var e=this;return(0,Te.Z)(function*(){const t=e.tool.toolbox;if(1===t.length)return Promise.resolve(e.tool.toolbox[0]);const i=yield e.data;return t.find(r=>Object.entries(r.data).some(([s,u])=>i[s]&&function l0(n,e){const t=Array.isArray(n)||gr(n),i=Array.isArray(e)||gr(e);return t||i?JSON.stringify(n)===JSON.stringify(e):n===e}(i[s],u)))})()}compose(){const e=pe.make("div",Hi.CSS.wrapper),t=pe.make("div",Hi.CSS.content),i=this.toolInstance.render();this.toolRenderedElement=i,t.appendChild(this.toolRenderedElement);let r=t;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(s=>{if(ei(s.wrap))try{r=s.wrap(r)}catch(u){an(`Tune ${s.constructor.name} wrap method throws an Error %o`,"warn",u)}}),e.appendChild(r),e}composeTunes(e){Array.from(this.tunes.values()).forEach(t=>{(t.isInternal?this.defaultTunesInstances:this.tunesInstances).set(t.name,t.create(e[t.name],this.blockAPI))}),Object.entries(e).forEach(([t,i])=>{this.tunesInstances.has(t)||(this.unavailableTunesData[t]=i)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),pe.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),pe.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=t=>{const{mutations:i}=t;i.some(r=>function mA(n,e){const{type:t,target:i,addedNodes:r,removedNodes:s}=n;if(i===e)return!0;if(["characterData","attributes"].includes(t)){const m=i.nodeType===Node.TEXT_NODE?i.parentNode:i;return e.contains(m)}const u=Array.from(r).some(m=>e.contains(m)),f=Array.from(s).some(m=>e.contains(m));return u||f}(r,this.toolRenderedElement))&&this.didMutated(i)},null==(e=this.editorEventBus)||e.on(Km,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;null==(e=this.editorEventBus)||e.off(Km,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(t=>{Array.from(t.removedNodes).includes(this.toolRenderedElement)&&(this.toolRenderedElement=t.addedNodes[t.addedNodes.length-1])})}dropInputsCache(){this.cachedInputs=[]}}class h0 extends ln{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{ga("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:t=>_o.t(h0.getNamespace(e),t)})}}var Ym={},IO={get exports(){return Ym},set exports(n){Ym=n}};window,IO.exports=function(t){var i={};function r(s){if(i[s])return i[s].exports;var u=i[s]={i:s,l:!1,exports:{}};return t[s].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=t,r.c=i,r.d=function(s,u,f){r.o(s,u)||Object.defineProperty(s,u,{enumerable:!0,get:f})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,u){if(1&u&&(s=r(s)),8&u||4&u&&"object"==typeof s&&s&&s.__esModule)return s;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:s}),2&u&&"string"!=typeof s)for(var m in s)r.d(f,m,function(_){return s[_]}.bind(null,m));return f},r.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(u,"a",u),u},r.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},r.p="/",r(r.s=0)}([function(t,i,r){var s,f;r(1),
/*!
              * Codex JavaScript Notification module
              * https://github.com/codex-team/js-notifier
              */
t.exports=(s=r(6),"cdx-notify--bounce-in",f=null,{show:function(m){if(m.message){!function(){if(f)return!0;f=s.getWrapper(),document.body.appendChild(f)}();var _=null,I=m.time||8e3;switch(m.type){case"confirm":_=s.confirm(m);break;case"prompt":_=s.prompt(m);break;default:_=s.alert(m),window.setTimeout(function(){_.remove()},I)}f.appendChild(_),_.classList.add("cdx-notify--bounce-in")}}})},function(t,i,r){var s=r(2);"string"==typeof s&&(s=[[t.i,s,""]]);r(4)(s,{hmr:!0,transform:void 0,insertInto:void 0}),s.locals&&(t.exports=s.locals)},function(t,i,r){(t.exports=r(3)(!1)).push([t.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(t,i){t.exports=function(r){var s=[];return s.toString=function(){return this.map(function(u){var f=function(m,_){var I=m[1]||"",D=m[3];if(!D)return I;if(_&&"function"==typeof btoa){var N="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(D))))+" */",U=D.sources.map(function(q){return"/*# sourceURL="+D.sourceRoot+q+" */"});return[I].concat(U).concat([N]).join("\n")}return[I].join("\n")}(u,r);return u[2]?"@media "+u[2]+"{"+f+"}":f}).join("")},s.i=function(u,f){"string"==typeof u&&(u=[[null,u,""]]);for(var m={},_=0;_<this.length;_++){var I=this[_][0];"number"==typeof I&&(m[I]=!0)}for(_=0;_<u.length;_++){var D=u[_];"number"==typeof D[0]&&m[D[0]]||(f&&!D[2]?D[2]=f:f&&(D[2]="("+D[2]+") and ("+f+")"),s.push(D))}},s}},function(t,i,r){var s,u,Qe,f={},m=(s=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===u&&(u=s.apply(this,arguments)),u}),_=(Qe={},function(St){if("function"==typeof St)return St();if(void 0===Qe[St]){var Xt=function(En){return document.querySelector(En)}.call(this,St);if(window.HTMLIFrameElement&&Xt instanceof window.HTMLIFrameElement)try{Xt=Xt.contentDocument.head}catch{Xt=null}Qe[St]=Xt}return Qe[St]}),I=null,D=0,N=[],U=r(5);function B(nt,Qe){for(var St=0;St<nt.length;St++){var Xt=nt[St],En=f[Xt.id];if(En){En.refs++;for(var rn=0;rn<En.parts.length;rn++)En.parts[rn](Xt.parts[rn]);for(;rn<Xt.parts.length;rn++)En.parts.push(Oe(Xt.parts[rn],Qe))}else{var vr=[];for(rn=0;rn<Xt.parts.length;rn++)vr.push(Oe(Xt.parts[rn],Qe));f[Xt.id]={id:Xt.id,refs:1,parts:vr}}}}function q(nt,Qe){for(var St=[],Xt={},En=0;En<nt.length;En++){var rn=nt[En],vr=Qe.base?rn[0]+Qe.base:rn[0],Cn={css:rn[1],media:rn[2],sourceMap:rn[3]};Xt[vr]?Xt[vr].parts.push(Cn):St.push(Xt[vr]={id:vr,parts:[Cn]})}return St}function ie(nt,Qe){var St=_(nt.insertInto);if(!St)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var Xt=N[N.length-1];if("top"===nt.insertAt)Xt?Xt.nextSibling?St.insertBefore(Qe,Xt.nextSibling):St.appendChild(Qe):St.insertBefore(Qe,St.firstChild),N.push(Qe);else if("bottom"===nt.insertAt)St.appendChild(Qe);else{if("object"!=typeof nt.insertAt||!nt.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var En=_(nt.insertInto+" "+nt.insertAt.before);St.insertBefore(Qe,En)}}function Re(nt){if(null===nt.parentNode)return!1;nt.parentNode.removeChild(nt);var Qe=N.indexOf(nt);Qe>=0&&N.splice(Qe,1)}function qe(nt){var Qe=document.createElement("style");return void 0===nt.attrs.type&&(nt.attrs.type="text/css"),Se(Qe,nt.attrs),ie(nt,Qe),Qe}function Se(nt,Qe){Object.keys(Qe).forEach(function(St){nt.setAttribute(St,Qe[St])})}function Oe(nt,Qe){var St,Xt,En,rn,Cn,lt;if(Qe.transform&&nt.css){if(!(rn=Qe.transform(nt.css)))return function(){};nt.css=rn}if(Qe.singleton){var vr=D++;St=I||(I=qe(Qe)),Xt=Dt.bind(null,St,vr,!1),En=Dt.bind(null,St,vr,!0)}else nt.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(Cn=Qe,lt=document.createElement("link"),void 0===Cn.attrs.type&&(Cn.attrs.type="text/css"),Cn.attrs.rel="stylesheet",Se(lt,Cn.attrs),ie(Cn,lt),Xt=function(Cn,lt,xt){var Mt=xt.css,gn=xt.sourceMap;(lt.convertToAbsoluteUrls||void 0===lt.convertToAbsoluteUrls&&gn)&&(Mt=U(Mt)),gn&&(Mt+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(gn))))+" */");var Xa=new Blob([Mt],{type:"text/css"}),Qo=Cn.href;Cn.href=URL.createObjectURL(Xa),Qo&&URL.revokeObjectURL(Qo)}.bind(null,St=lt,Qe),En=function(){Re(St),St.href&&URL.revokeObjectURL(St.href)}):(St=qe(Qe),Xt=function(Cn,lt){var xt=lt.css,Mt=lt.media;if(Mt&&Cn.setAttribute("media",Mt),Cn.styleSheet)Cn.styleSheet.cssText=xt;else{for(;Cn.firstChild;)Cn.removeChild(Cn.firstChild);Cn.appendChild(document.createTextNode(xt))}}.bind(null,St),En=function(){Re(St)});return Xt(nt),function(Cn){if(Cn){if(Cn.css===nt.css&&Cn.media===nt.media&&Cn.sourceMap===nt.sourceMap)return;Xt(nt=Cn)}else En()}}t.exports=function(nt,Qe){if(typeof DEBUG<"u"&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(Qe=Qe||{}).attrs="object"==typeof Qe.attrs?Qe.attrs:{},Qe.singleton||"boolean"==typeof Qe.singleton||(Qe.singleton=m()),Qe.insertInto||(Qe.insertInto="head"),Qe.insertAt||(Qe.insertAt="bottom");var St=q(nt,Qe);return B(St,Qe),function(Xt){for(var En=[],rn=0;rn<St.length;rn++)(Cn=f[St[rn].id]).refs--,En.push(Cn);for(Xt&&B(q(Xt,Qe),Qe),rn=0;rn<En.length;rn++){var Cn;if(0===(Cn=En[rn]).refs){for(var lt=0;lt<Cn.parts.length;lt++)Cn.parts[lt]();delete f[Cn.id]}}}};var Ze,it=(Ze=[],function(nt,Qe){return Ze[nt]=Qe,Ze.filter(Boolean).join("\n")});function Dt(nt,Qe,St,Xt){var En=St?"":Xt.css;if(nt.styleSheet)nt.styleSheet.cssText=it(Qe,En);else{var rn=document.createTextNode(En),vr=nt.childNodes;vr[Qe]&&nt.removeChild(vr[Qe]),vr.length?nt.insertBefore(rn,vr[Qe]):nt.appendChild(rn)}}},function(t,i){t.exports=function(r){var s=typeof window<"u"&&window.location;if(!s)throw new Error("fixUrls requires window.location");if(!r||"string"!=typeof r)return r;var u=s.protocol+"//"+s.host,f=u+s.pathname.replace(/\/[^\/]*$/,"/");return r.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(m,_){var I,D=_.trim().replace(/^"(.*)"$/,function(N,U){return U}).replace(/^'(.*)'$/,function(N,U){return U});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(D)?m:(I=0===D.indexOf("//")?D:0===D.indexOf("/")?u+D:f+D.replace(/^\.\//,""),"url("+JSON.stringify(I)+")")})}},function(t,i,r){var u,f,m,D,N,U;t.exports=("cdx-notifies",u="cdx-notify",f="cdx-notify__cross",m="cdx-notify__button--confirm","cdx-notify__button--cancel","cdx-notify__input",D="cdx-notify__button",N="cdx-notify__btns-wrapper",{alert:U=function(B){var q=document.createElement("DIV"),ie=document.createElement("DIV"),Re=B.message,qe=B.style;return q.classList.add(u),qe&&q.classList.add(u+"--"+qe),q.innerHTML=Re,ie.classList.add(f),ie.addEventListener("click",q.remove.bind(q)),q.appendChild(ie),q},confirm:function(B){var q=U(B),ie=document.createElement("div"),Re=document.createElement("button"),qe=document.createElement("button"),Se=q.querySelector("."+f),Oe=B.cancelHandler,Ze=B.okHandler;return ie.classList.add(N),Re.innerHTML=B.okText||"Confirm",qe.innerHTML=B.cancelText||"Cancel",Re.classList.add(D),qe.classList.add(D),Re.classList.add(m),qe.classList.add("cdx-notify__button--cancel"),Oe&&"function"==typeof Oe&&(qe.addEventListener("click",Oe),Se.addEventListener("click",Oe)),Ze&&"function"==typeof Ze&&Re.addEventListener("click",Ze),Re.addEventListener("click",q.remove.bind(q)),qe.addEventListener("click",q.remove.bind(q)),ie.appendChild(Re),ie.appendChild(qe),q.appendChild(ie),q},prompt:function(B){var q=U(B),ie=document.createElement("div"),Re=document.createElement("button"),qe=document.createElement("input"),Se=q.querySelector("."+f),Oe=B.cancelHandler,Ze=B.okHandler;return ie.classList.add(N),Re.innerHTML=B.okText||"Ok",Re.classList.add(D),Re.classList.add(m),qe.classList.add("cdx-notify__input"),B.placeholder&&qe.setAttribute("placeholder",B.placeholder),B.default&&(qe.value=B.default),B.inputType&&(qe.type=B.inputType),Oe&&"function"==typeof Oe&&Se.addEventListener("click",Oe),Ze&&"function"==typeof Ze&&Re.addEventListener("click",function(){Ze(qe.value)}),Re.addEventListener("click",q.remove.bind(q)),ie.appendChild(qe),ie.appendChild(Re),q.appendChild(ie),q},getWrapper:function(){var B=document.createElement("DIV");return B.classList.add("cdx-notifies"),B}})}]);const _C=Gm(Ym);class bA{show(e){_C.show(e)}}var f0={},EA={get exports(){return f0},set exports(n){f0=n}};EA.exports=function(){function t(D){var N=D.tags;if(!Object.keys(N).map(function(q){return typeof N[q]}).every(function(q){return"object"===q||"boolean"===q||"function"===q}))throw new Error("The configuration was invalid");this.config=D}var i=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function r(D){return-1!==i.indexOf(D.nodeName)}var s=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function u(D){return-1!==s.indexOf(D.nodeName)}function m(D,N,U){return"function"==typeof D.tags[N]?D.tags[N](U):D.tags[N]}function _(D,N){return typeof N>"u"||"boolean"==typeof N&&!N}function I(D,N,U){var B=D.name.toLowerCase();return!0!==N&&("function"==typeof N[B]?!N[B](D.value,U):typeof N[B]>"u"||!1===N[B]||"string"==typeof N[B]&&N[B]!==D.value)}return t.prototype.clean=function(D){const N=document.implementation.createHTMLDocument(),U=N.createElement("div");return U.innerHTML=D,this._sanitize(N,U),U.innerHTML},t.prototype._sanitize=function(D,N){var U=function f(D,N){return D.createTreeWalker(N,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(D,N),B=U.firstChild();if(B)do{if(B.nodeType!==Node.TEXT_NODE){if(B.nodeType===Node.COMMENT_NODE){N.removeChild(B),this._sanitize(D,N);break}var ie,q=u(B);q&&(ie=Array.prototype.some.call(B.childNodes,r));var Re=!!N.parentNode,qe=r(N)&&r(B)&&Re,Se=B.nodeName.toLowerCase(),Oe=m(this.config,Se,B);if(q&&ie||_(0,Oe)||!this.config.keepNestedBlockElements&&qe){if("SCRIPT"!==B.nodeName&&"STYLE"!==B.nodeName)for(;B.childNodes.length>0;)N.insertBefore(B.childNodes[0],B);N.removeChild(B),this._sanitize(D,N);break}for(var it=0;it<B.attributes.length;it+=1){var Dt=B.attributes[it];I(Dt,Oe,B)&&(B.removeAttribute(Dt.name),it-=1)}this._sanitize(D,B)}else if(""===B.data.trim()&&(B.previousElementSibling&&r(B.previousElementSibling)||B.nextElementSibling&&r(B.nextElementSibling))){N.removeChild(B),this._sanitize(D,N);break}}while(B=U.nextSibling())},t}();const bC=f0;function p0(n,e){return n.map(t=>{const i=ei(e)?e(t.tool):e;return js(i)||(t.data=Qm(t.data,i)),t})}function qa(n,e={}){return new bC({tags:e}).clean(n)}function Qm(n,e){return Array.isArray(n)?function wC(n,e){return n.map(t=>Qm(t,e))}(n,e):gr(n)?function CA(n,e){const t={};for(const i in n){if(!Object.prototype.hasOwnProperty.call(n,i))continue;const r=n[i],s=TA(e[i])?e[i]:e;t[i]=Qm(r,s)}return t}(n,e):Hc(n)?function IA(n,e){return gr(e)?qa(n,e):!1===e?qa(n,{}):n}(n,e):n}function TA(n){return gr(n)||function t0(n){return"boolean"===Uc(n)}(n)||ei(n)}var Jm={},IC={get exports(){return Jm},set exports(n){Jm=n}};!function(n,e){window,n.exports=function(t){var i={};function r(s){if(i[s])return i[s].exports;var u=i[s]={i:s,l:!1,exports:{}};return t[s].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=t,r.c=i,r.d=function(s,u,f){r.o(s,u)||Object.defineProperty(s,u,{enumerable:!0,get:f})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,u){if(1&u&&(s=r(s)),8&u||4&u&&"object"==typeof s&&s&&s.__esModule)return s;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:s}),2&u&&"string"!=typeof s)for(var m in s)r.d(f,m,function(_){return s[_]}.bind(null,m));return f},r.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(u,"a",u),u},r.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},r.p="",r(r.s=0)}([function(t,i,r){t.exports=r(1)},function(t,i,r){r.r(i),r.d(i,"default",function(){return s});class s{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(f,m,_){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const I=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},_);if(I.hidingDelay&&(this.hidingDelay=I.hidingDelay),this.nodes.content.innerHTML="","string"==typeof m)this.nodes.content.appendChild(document.createTextNode(m));else{if(!(m instanceof Node))throw Error("[CodeX Tooltip] Wrong type of \xabcontent\xbb passed. It should be an instance of Node or String. But "+typeof m+" given.");this.nodes.content.appendChild(m)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),I.placement){case"top":this.placeTop(f,I);break;case"left":this.placeLeft(f,I);break;case"right":this.placeRight(f,I);break;default:this.placeBottom(f,I)}I&&I.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},I.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(f=!1){if(this.hidingDelay&&!f)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(f,m,_){f.addEventListener("mouseenter",()=>{this.show(f,m,_)}),f.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const f="codex-tooltips-style";if(document.getElementById(f))return;const m=r(2),_=this.make("style",null,{textContent:m.toString(),id:f});this.prepend(document.head,_)}placeBottom(f,m){const _=f.getBoundingClientRect(),D=_.bottom+window.pageYOffset+this.offsetTop+m.marginTop;this.applyPlacement("bottom",_.left+f.clientWidth/2-this.nodes.wrapper.offsetWidth/2,D)}placeTop(f,m){const _=f.getBoundingClientRect(),D=_.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",_.left+f.clientWidth/2-this.nodes.wrapper.offsetWidth/2,D)}placeLeft(f,m){const _=f.getBoundingClientRect(),D=_.top+window.pageYOffset+f.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",_.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-m.marginLeft,D)}placeRight(f,m){const _=f.getBoundingClientRect(),D=_.top+window.pageYOffset+f.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",_.right+this.offsetRight+m.marginRight,D)}applyPlacement(f,m,_){this.nodes.wrapper.classList.add(this.CSS.placement[f]),this.nodes.wrapper.style.left=m+"px",this.nodes.wrapper.style.top=_+"px"}make(f,m=null,_={}){const I=document.createElement(f);Array.isArray(m)?I.classList.add(...m):m&&I.classList.add(m);for(const D in _)_.hasOwnProperty(D)&&(I[D]=_[D]);return I}append(f,m){Array.isArray(m)?m.forEach(_=>f.appendChild(_)):f.appendChild(m)}prepend(f,m){Array.isArray(m)?(m=m.reverse()).forEach(_=>f.prepend(_)):f.prepend(m)}}},function(t,i){t.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default}(IC);const TC=Gm(Jm);class Xm{constructor(){this.lib=new TC}destroy(){this.lib.destroy()}show(e,t,i){this.lib.show(e,t,i)}hide(e=!1){this.lib.hide(e)}onHover(e,t,i){this.lib.onHover(e,t,i)}}const ma=function AA(n,e){const t={};return Object.entries(n).forEach(([i,r])=>{if(gr(r)){const s=e?`${e}.${i}`:i;t[i]=Object.values(r).every(u=>Hc(u))?s:AA(r,s)}else t[i]=r}),t}(Zm),xC='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',ya='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>';class ki{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(ki.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(ki.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(ki.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return null!==this.confirmationState}get isFocused(){return this.nodes.root.classList.contains(ki.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){this.activateOrEnableConfirmationMode(this.isConfirmationStateEnabled?this.confirmationState:this.params)}toggleActive(e){this.nodes.root.classList.toggle(ki.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(ki.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const t=pe.make("div",ki.CSS.container);return e.name&&(t.dataset.itemName=e.name),this.nodes.icon=pe.make("div",ki.CSS.icon,{innerHTML:e.icon||'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>'}),t.appendChild(this.nodes.icon),t.appendChild(pe.make("div",ki.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&t.appendChild(pe.make("div",ki.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&t.classList.add(ki.CSS.active),e.isDisabled&&t.classList.add(ki.CSS.disabled),t}enableConfirmationMode(e){const t={...this.params,...e,confirmation:e.confirmation},i=this.make(t);this.nodes.root.innerHTML=i.innerHTML,this.nodes.root.classList.add(ki.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(ki.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(ki.CSS.noHover),this.nodes.root.classList.add(ki.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(void 0===e.confirmation)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(ki.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(ki.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const zp=class{constructor(n,e){this.cursor=-1,this.items=[],this.items=n||[],this.focusedCssClass=e}get currentItem(){return-1===this.cursor?null:this.items[this.cursor]}setCursor(n){n<this.items.length&&n>=-1&&(this.dropCursor(),this.cursor=n,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(n){this.items=n}next(){this.cursor=this.leafNodesAndReturnIndex(zp.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(zp.directions.LEFT)}dropCursor(){-1!==this.cursor&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(n){if(0===this.items.length)return this.cursor;let e=this.cursor;return-1===e?e=n===zp.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),e=n===zp.directions.RIGHT?(e+1)%this.items.length:(this.items.length+e-1)%this.items.length,pe.canSetCaret(this.items[e])&&fd(()=>bt.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let Fl=zp;Fl.directions={RIGHT:"right",LEFT:"left"};class Za{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=t=>{if(this.isEventReadyForHandling(t))switch(Za.usedKeys.includes(t.keyCode)&&t.preventDefault(),t.keyCode){case 9:this.handleTabPress(t);break;case 37:case 38:this.flipLeft();break;case 39:case 40:this.flipRight();break;case 13:this.handleEnterPress(t)}},this.iterator=new Fl(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||Za.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[9,37,39,13,38,40]}activate(e,t){this.activated=!0,e&&this.iterator.setItems(e),void 0!==t&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(t=>t!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?Fl.directions.LEFT:Fl.directions.RIGHT){case Fl.directions.RIGHT:this.flipRight();break;case Fl.directions.LEFT:this.flipLeft()}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),ei(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class Gp{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:t,placeholder:i}){this.listeners=new pC,this.items=e,this.onSearch=t,this.render(i)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=pe.make("div",Gp.CSS.wrapper);const t=pe.make("div",Gp.CSS.icon,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'});this.input=pe.make("input",Gp.CSS.input,{placeholder:e}),this.wrapper.appendChild(t),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var t;const i=(null==(t=e.title)?void 0:t.toLowerCase())||"",r=this.searchQuery.toLowerCase();return i.includes(r)}}const Wp=class{lock(){hC?this.lockHard():document.body.classList.add(Wp.CSS.scrollLocked)}unlock(){hC?this.unlockHard():document.body.classList.remove(Wp.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Wp.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Wp.CSS.scrollLockedHard),null!==this.scrollPosition&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let ey=Wp;ey.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var RA=Object.defineProperty,LA=Object.getOwnPropertyDescriptor,qp=(n=>(n.Close="close",n))(qp||{});const Pr=class extends Vp{constructor(n){super(),this.scopeElement=document.body,this.listeners=new pC,this.scrollLocker=new ey,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(e=>e.isFocused).onFocus()},this.items=n.items.map(e=>new ki(e)),void 0!==n.scopeElement&&(this.scopeElement=n.scopeElement),n.messages&&(this.messages={...this.messages,...n.messages}),n.customContentFlippableItems&&(this.customContentFlippableItems=n.customContentFlippableItems),this.make(),n.customContent&&this.addCustomContent(n.customContent),n.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Pr.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Pr.CSS.overlayHidden),this.nodes.popover.classList.add(Pr.CSS.popoverOpened),this.flipper.activate(this.flippableElements),void 0!==this.search&&setTimeout(()=>{this.search.focus()},100),gd()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Pr.CSS.popoverOpened),this.nodes.popover.classList.remove(Pr.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Pr.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(n=>n.reset()),void 0!==this.search&&this.search.clear(),gd()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),gd()&&this.scrollLocker.unlock()}make(){this.nodes.popover=pe.make("div",[Pr.CSS.popover]),this.nodes.nothingFoundMessage=pe.make("div",[Pr.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=pe.make("div",[Pr.CSS.items]),this.items.forEach(n=>{this.nodes.items.appendChild(n.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",n=>{const e=this.getTargetItem(n);void 0!==e&&this.handleItemClick(e)}),this.nodes.wrapper=pe.make("div"),this.nodes.overlay=pe.make("div",[Pr.CSS.overlay,Pr.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new Gp({items:this.items,placeholder:this.messages.search,onSearch:(e,t)=>{this.items.forEach(r=>{const s=!t.includes(r);r.toggleHidden(s)}),this.toggleNothingFoundMessage(0===t.length),this.toggleCustomContent(""!==e);const i=""===e?this.flippableElements:t.map(r=>r.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(i))}});const n=this.search.getElement();n.classList.add(Pr.CSS.search),this.nodes.popover.insertBefore(n,this.nodes.popover.firstChild)}addCustomContent(n){this.nodes.customContent=n,this.nodes.customContent.classList.add(Pr.CSS.customContent),this.nodes.popover.insertBefore(n,this.nodes.popover.firstChild)}getTargetItem(n){return this.items.find(e=>n.composedPath().includes(e.getElement()))}handleItemClick(n){n.isDisabled||(this.items.filter(e=>e!==n).forEach(e=>e.reset()),n.handleClick(),this.toggleItemActivenessIfNeeded(n),n.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new Za({items:this.flippableElements,focusedItemClass:ki.CSS.focused,allowedKeys:[9,38,40,13]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const n=this.items.map(e=>e.getElement());return(this.customContentFlippableItems||[]).concat(n)}get height(){let n=0;if(null===this.nodes.popover)return n;const e=this.nodes.popover.cloneNode(!0);return e.style.visibility="hidden",e.style.position="absolute",e.style.top="-1000px",e.classList.add(Pr.CSS.popoverOpened),document.body.appendChild(e),n=e.offsetHeight,e.remove(),n}get shouldOpenBottom(){const n=this.nodes.popover.getBoundingClientRect(),e=this.scopeElement.getBoundingClientRect(),t=this.height,i=n.top+t,r=n.top-t,s=Math.min(window.innerHeight,e.bottom);return r<e.top||i<=s}toggleNothingFoundMessage(n){this.nodes.nothingFoundMessage.classList.toggle(Pr.CSS.nothingFoundMessageDisplayed,n)}toggleCustomContent(n){var e;null==(e=this.nodes.customContent)||e.classList.toggle(Pr.CSS.customContentHidden,n)}toggleItemActivenessIfNeeded(n){if(!0===n.toggle&&n.toggleActive(),"string"==typeof n.toggle){const e=this.items.filter(t=>t.toggle===n.toggle);if(1===e.length)return void n.toggleActive();e.forEach(t=>{t.toggleActive(t===n)})}}};let ty=Pr;((n,e,t,i)=>{for(var u,r=LA(e,t),s=n.length-1;s>=0;s--)(u=n[s])&&(r=u(e,t,r)||r);r&&RA(e,t,r)})([pd],ty.prototype,"height");class $s extends ln{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=pe.make("div",[$s.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=pe.make("div",$s.CSS.conversionToolbarTools);const e=pe.make("div",$s.CSS.conversionToolbarLabel,{textContent:_o.ui(ma.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),pe.append(this.nodes.wrapper,e),pe.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),ei(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add($s.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains($s.CSS.conversionToolHidden))),this.flipper.focusFirst(),ei(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove($s.CSS.conversionToolbarShowed),ei(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return 1!==this.tools.length||this.tools[0].name!==this.config.defaultBlock}replaceWithBlock(e,t){var i=this;return(0,Te.Z)(function*(){const r=i.Editor.BlockManager.currentBlock.tool,s=(yield i.Editor.BlockManager.currentBlock.save()).data,u=i.Editor.Tools.blockTools.get(e);let f="";const m=r.conversionConfig.export;if(ei(m))f=m(s);else{if(!Hc(m))return void an("Conversion \xabexport\xbb property must be a string or function. String means key of saved data object to export. Function should export processed string to export.");f=s[m]}const _=qa(f,u.sanitizeConfig);let I={};const D=u.conversionConfig.import;if(ei(D))I=D(_);else{if(!Hc(D))return void an("Conversion \xabimport\xbb property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data.");I[D]=_}t&&(I=Object.assign(I,t)),i.Editor.BlockManager.replace({tool:e,data:I}),i.Editor.BlockSelection.clearSelection(),i.close(),i.Editor.InlineToolbar.close(),fd(()=>{i.Editor.Caret.setToBlock(i.Editor.BlockManager.currentBlock)},10)()})()}addTools(){Array.from(this.Editor.Tools.blockTools.entries()).forEach(([t,i])=>{const r=i.conversionConfig;!r||!r.import||i.toolbox.forEach(s=>this.addToolIfValid(t,s))})}addToolIfValid(e,t){js(t)||!t.icon||this.addTool(e,t)}addTool(e,t){var i=this;const r=pe.make("div",[$s.CSS.conversionTool]),s=pe.make("div",[$s.CSS.conversionToolIcon]);r.dataset.tool=e,s.innerHTML=t.icon,pe.append(r,s),pe.append(r,pe.text(_o.t(ma.toolNames,t.title||qm(e)))),pe.append(this.nodes.tools,r),this.tools.push({name:e,button:r,toolboxItem:t}),this.listeners.on(r,"click",(0,Te.Z)(function*(){yield i.replaceWithBlock(e,t.data)}))}filterTools(){var e=this;return(0,Te.Z)(function*(){const{currentBlock:t}=e.Editor.BlockManager,i=yield t.getActiveToolboxEntry();e.tools.forEach(s=>{let u=!1;if(i){const f=function r(s,u){return s.icon===u.icon&&s.title===u.title}(i,s.toolboxItem);u=s.button.dataset.tool===t.name&&f}s.button.hidden=u,s.button.classList.toggle($s.CSS.conversionToolHidden,u)})})()}enableFlipper(){this.flipper=new Za({focusedItemClass:$s.CSS.conversionToolFocused})}}var y0={},AC={get exports(){return y0},set exports(n){y0=n}};!function(n,e){window,n.exports=function(t){var i={};function r(s){if(i[s])return i[s].exports;var u=i[s]={i:s,l:!1,exports:{}};return t[s].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=t,r.c=i,r.d=function(s,u,f){r.o(s,u)||Object.defineProperty(s,u,{enumerable:!0,get:f})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,u){if(1&u&&(s=r(s)),8&u||4&u&&"object"==typeof s&&s&&s.__esModule)return s;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:s}),2&u&&"string"!=typeof s)for(var m in s)r.d(f,m,function(_){return s[_]}.bind(null,m));return f},r.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(u,"a",u),u},r.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},r.p="",r(r.s=0)}([function(t,i,r){function s(m,_){for(var I=0;I<_.length;I++){var D=_[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(m,D.key,D)}}function u(m,_,I){return _&&s(m.prototype,_),I&&s(m,I),m}r.r(i);var f=function(){function m(_){var I=this;(function(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")})(this,m),this.commands={},this.keys={},this.name=_.name,this.parseShortcutName(_.name),this.element=_.on,this.callback=_.callback,this.executeShortcut=function(D){I.execute(D)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return u(m,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),u(m,[{key:"parseShortcutName",value:function(_){_=_.split("+");for(var I=0;I<_.length;I++){_[I]=_[I].toUpperCase();var D=!1;for(var N in m.supportedCommands)if(m.supportedCommands[N].includes(_[I])){D=this.commands[N]=!0;break}D||(this.keys[_[I]]=!0)}for(var U in m.supportedCommands)this.commands[U]||(this.commands[U]=!1)}},{key:"execute",value:function(_){var I,D={CMD:_.ctrlKey||_.metaKey,SHIFT:_.shiftKey,ALT:_.altKey},N=!0;for(I in this.commands)this.commands[I]!==D[I]&&(N=!1);var U,B=!0;for(U in this.keys)B=B&&_.keyCode===m.keyCodes[U];N&&B&&this.callback(_)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),m}();i.default=f}]).default}(AC);const kC=Gm(y0),yd=new class v0{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const t=new kC({name:e.name,on:e.on,callback:e.handler}),i=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...i,t])}remove(e,t){const i=this.findShortcut(e,t);if(!i)return;i.remove();const r=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,r.filter(s=>s!==i))}findShortcut(e,t){return(this.registeredShortcuts.get(e)||[]).find(({name:i})=>i===t)}};var FA=Object.defineProperty,MC=Object.getOwnPropertyDescriptor,_0=(n,e,t,i)=>{for(var u,r=i>1?void 0:i?MC(e,t):e,s=n.length-1;s>=0;s--)(u=n[s])&&(r=(i?u(e,t,r):u(r))||r);return i&&r&&FA(e,t,r),r},iy=(n=>(n.Opened="toolbox-opened",n.Closed="toolbox-closed",n.BlockAdded="toolbox-block-added",n))(iy||{});const PC=class extends Vp{constructor({api:n,tools:e,i18nLabels:t}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=n,this.tools=e,this.i18nLabels=t}get isEmpty(){return 0===this.toolsToBeDisplayed.length}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new ty({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(qp.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(PC.CSS.toolbox),this.nodes.toolbox}hasFocus(){var n;return null==(n=this.popover)?void 0:n.hasFocus()}destroy(){var n;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),null==(n=this.popover)||n.off(qp.Close,this.onPopoverClose)}toolButtonActivated(n,e){this.insertNewBlock(n,e)}open(){var n;this.isEmpty||(null==(n=this.popover)||n.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var n;null==(n=this.popover)||n.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const n=[];return this.tools.forEach(e=>{e.toolbox&&n.push(e)}),n}get toolboxItemsToBeDisplayed(){const n=(e,t)=>({icon:e.icon,title:_o.t(ma.toolNames,e.title||qm(t.name)),name:t.name,onActivate:()=>{this.toolButtonActivated(t.name,e.data)},secondaryLabel:t.shortcut?lC(t.shortcut):""});return this.toolsToBeDisplayed.reduce((e,t)=>(Array.isArray(t.toolbox)?t.toolbox.forEach(i=>{e.push(n(i,t))}):void 0!==t.toolbox&&e.push(n(t.toolbox,t)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(n=>{const e=n.shortcut;e&&this.enableShortcutForTool(n.name,e)})}enableShortcutForTool(n,e){yd.add({name:e,on:this.api.ui.nodes.redactor,handler:t=>{t.preventDefault(),this.insertNewBlock(n)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(n=>{const e=n.shortcut;e&&yd.remove(this.api.ui.nodes.redactor,e)})}insertNewBlock(n,e){var t=this;return(0,Te.Z)(function*(){const i=t.api.blocks.getCurrentBlockIndex(),r=t.api.blocks.getBlockByIndex(i);if(!r)return;const s=r.isEmpty?i:i+1;let u;if(e){const m=yield t.api.blocks.composeBlockData(n);u=Object.assign(m,e)}const f=t.api.blocks.insert(n,u,void 0,s,void 0,r.isEmpty);f.call(Wa.APPEND_CALLBACK),t.api.caret.setToBlock(s),t.emit("toolbox-block-added",{block:f}),t.api.toolbar.close()})()}};let Zp=PC;_0([pd],Zp.prototype,"toolsToBeDisplayed",1),_0([pd],Zp.prototype,"toolboxItemsToBeDisplayed",1);const ry="block hovered";var Gh=(n=>(n[n.Block=0]="Block",n[n.Inline=1]="Inline",n[n.Tune=2]="Tune",n))(Gh||{}),Wh=(n=>(n.Shortcut="shortcut",n.Toolbox="toolbox",n.EnabledInlineTools="inlineToolbar",n.EnabledBlockTunes="tunes",n.Config="config",n))(Wh||{}),OC=(n=>(n.Shortcut="shortcut",n.SanitizeConfig="sanitize",n))(OC||{}),qh=(n=>(n.IsEnabledLineBreaks="enableLineBreaks",n.Toolbox="toolbox",n.ConversionConfig="conversionConfig",n.IsReadOnlySupported="isReadOnlySupported",n.PasteConfig="pasteConfig",n))(qh||{}),b0=(n=>(n.IsInline="isInline",n.Title="title",n))(b0||{}),RC=(n=>(n.IsTune="isTune",n))(RC||{});class oy{constructor({name:e,constructable:t,config:i,api:r,isDefault:s,isInternal:u=!1,defaultPlaceholder:f}){this.api=r,this.name=e,this.constructable=t,this.config=i,this.isDefault=s,this.isInternal=u,this.defaultPlaceholder=f}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(ei(this.constructable.reset))return this.constructable.reset()}prepare(){if(ei(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){return this.config.shortcut||this.constructable.shortcut}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return 1===this.type}isBlock(){return 0===this.type}isTune(){return 2===this.type}}class sy{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return Wm(this.workingArea.children)}static set(e,t,i){return isNaN(Number(t))?(Reflect.set(e,t,i),!0):(e.insert(+t,i),!0)}static get(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,t){const i=this.blocks[t];pe.swap(this.blocks[e].holder,i.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=i}move(e,t){const i=this.blocks.splice(t,1)[0],s=Math.max(0,e-1);this.insertToDOM(i,e>0?"afterend":"beforebegin",this.blocks[s]),this.blocks.splice(e,0,i);const f=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});i.call(Wa.MOVED,f)}insert(e,t,i=!1){if(this.length)if(e>this.length&&(e=this.length),i&&(this.blocks[e].holder.remove(),this.blocks[e].call(Wa.REMOVED)),this.blocks.splice(e,i?1:0,t),e>0)this.insertToDOM(t,"afterend",this.blocks[e-1]);else{const s=this.blocks[e+1];s?this.insertToDOM(t,"beforebegin",s):this.insertToDOM(t)}else this.push(t)}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Wa.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Wa.REMOVED)),this.blocks.length=0}insertAfter(e,t){const i=this.blocks.indexOf(e);this.insert(i+1,t)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,t,i){t?i.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(Wa.RENDERED)}composeBlockEvent(e,t){return new CustomEvent(e,{detail:t})}}const E0="block-removed",C0="block-added";class Kp extends ln{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=bt.get(),t=pe.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let i=e.focusNode;if(pe.isNativeInput(t))return 0===t.selectionEnd;if(!e.anchorNode)return!1;let r=i.textContent.search(/\S/);-1===r&&(r=0);let s=e.focusOffset;return i.nodeType!==Node.TEXT_NODE&&i.childNodes.length&&(i.childNodes[s]?(i=i.childNodes[s],s=0):(i=i.childNodes[s-1],s=i.textContent.length)),!(!pe.isLineBreakTag(t)&&!pe.isEmpty(t)||!this.getHigherLevelSiblings(i,"left").every(u=>{const f=pe.isLineBreakTag(u),m=1===u.children.length&&pe.isLineBreakTag(u.children[0]),_=f||m;return pe.isEmpty(u)&&!_})||s!==r)||null===t||i===t&&s<=r}get isAtEnd(){const e=bt.get();let t=e.focusNode;const i=pe.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(pe.isNativeInput(i))return i.selectionEnd===i.value.length;if(!e.focusNode)return!1;let r=e.focusOffset;if(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length&&(t.childNodes[r-1]?(t=t.childNodes[r-1],r=t.textContent.length):(t=t.childNodes[0],r=0)),pe.isLineBreakTag(i)||pe.isEmpty(i)){const u=this.getHigherLevelSiblings(t,"right");if(u.every((f,m)=>m===u.length-1&&pe.isLineBreakTag(f)||pe.isEmpty(f)&&!pe.isLineBreakTag(f))&&r===t.textContent.length)return!0}const s=i.textContent.replace(/\s+$/,"");return t===i&&r>=s.length}setToBlock(e,t=this.positions.DEFAULT,i=0){const{BlockManager:r}=this.Editor;let s;switch(t){case this.positions.START:s=e.firstInput;break;case this.positions.END:s=e.lastInput;break;default:s=e.currentInput}if(!s)return;const u=pe.getDeepestNode(s,t===this.positions.END),f=pe.getContentLength(u);switch(!0){case t===this.positions.START:i=0;break;case t===this.positions.END:case i>f:i=f}fd(()=>{this.set(u,i)},20)(),r.setCurrentBlockByChildNode(e.holder),r.currentBlock.currentInput=s}setToInput(e,t=this.positions.DEFAULT,i=0){const{currentBlock:r}=this.Editor.BlockManager,s=pe.getDeepestNode(e);switch(t){case this.positions.START:this.set(s,0);break;case this.positions.END:this.set(s,pe.getContentLength(s));break;default:i&&this.set(s,i)}r.currentInput=e}set(e,t=0){const{top:i,bottom:r}=bt.setCursor(e,t),{innerHeight:s}=window;i<0&&window.scrollBy(0,i),r>s&&window.scrollBy(0,r-s)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const t=this.Editor.BlockManager.insertAtEnd();this.setToBlock(t)}}extractFragmentFromCaretPosition(){const e=bt.get();if(e.rangeCount){const t=e.getRangeAt(0),i=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),i){if(pe.isNativeInput(i)){const r=i,s=document.createDocumentFragment(),u=r.value.substring(0,r.selectionStart),f=r.value.substring(r.selectionStart);return s.textContent=f,r.value=u,s}{const r=t.cloneRange();return r.selectNodeContents(i),r.setStart(t.endContainer,t.endOffset),r.extractContents()}}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:t,nextContentfulBlock:i}=e,{nextInput:r}=t,s=this.isAtEnd;let u=i;if(!u&&!r){if(t.tool.isDefault||!s)return!1;u=e.insertAtEnd()}return!!s&&(r?this.setToInput(r,this.positions.START):this.setToBlock(u,this.positions.START),!0)}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:t}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:i}=e;return!(!t&&!i||!this.isAtStart||(i?this.setToInput(i,this.positions.END):this.setToBlock(t,this.positions.END),0))}createShadow(e){const t=document.createElement("span");t.classList.add(Kp.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}restoreCaret(e){const t=e.querySelector(`.${Kp.CSS.shadowCaret}`);t&&((new bt).expandToTag(t),setTimeout(()=>{const i=document.createRange();i.selectNode(t),i.extractContents()},50))}insertContentAtCaretPosition(e){const t=document.createDocumentFragment(),i=document.createElement("div"),r=bt.get(),s=bt.range;i.innerHTML=e,Array.from(i.childNodes).forEach(m=>t.appendChild(m)),0===t.childNodes.length&&t.appendChild(new Text);const u=t.lastChild;s.deleteContents(),s.insertNode(t);const f=document.createRange();f.setStart(u,u.textContent.length),r.removeAllRanges(),r.addRange(f)}getHigherLevelSiblings(e,t){let i=e;const r=[];for(;i.parentNode&&"true"!==i.parentNode.contentEditable;)i=i.parentNode;const s="left"===t?"previousSibling":"nextSibling";for(;i[s];)i=i[s],r.push(i);return r}}const UC=class extends ln{constructor(){var n;super(...arguments),n=this,this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const t=e.create({},{},!1);if(!1===e.pasteConfig)return void this.exceptionList.push(e.name);if(!ei(t.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(t){an(`Paste handling for \xab${e.name}\xbb Tool hasn't been set up because of the error`,"warn",t)}},this.handlePasteEvent=function(){var e=(0,Te.Z)(function*(t){const{BlockManager:i,Toolbar:r}=n.Editor;!i.currentBlock||n.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||i.currentBlock&&n.exceptionList.includes(i.currentBlock.name)||(t.preventDefault(),n.processDataTransfer(t.clipboardData),i.clearFocused(),r.close())});return function(t){return e.apply(this,arguments)}}()}prepare(){var n=this;return(0,Te.Z)(function*(){n.processTools()})()}toggleReadOnly(n){n?this.unsetCallback():this.setCallback()}processDataTransfer(n,e=!1){var t=this;return(0,Te.Z)(function*(){const{Tools:i}=t.Editor,r=n.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!js(t.toolsFiles))return void(yield t.processFiles(n.files));const s=n.getData(t.MIME_TYPE),u=n.getData("text/plain");let f=n.getData("text/html");if(s)try{return void t.insertEditorJSData(JSON.parse(s))}catch{}e&&u.trim()&&f.trim()&&(f="<p>"+(f.trim()?f:u)+"</p>");const m=Object.keys(t.toolsTags).reduce((D,N)=>(D[N.toLowerCase()]=t.toolsTags[N].sanitizationConfig??{},D),{}),I=qa(f,Object.assign({},m,i.getAllInlineToolsSanitizeConfig(),{br:{}}));I.trim()&&I.trim()!==u&&pe.isHTMLString(I)?yield t.processText(I,!0):yield t.processText(u)})()}processText(n,e=!1){var t=this;return(0,Te.Z)(function*(){const{Caret:i,BlockManager:r}=t.Editor,s=e?t.processHTML(n):t.processPlain(n);if(!s.length)return;if(1===s.length)return void(s[0].isBlock?t.processSingleBlock(s.pop()):t.processInlinePaste(s.pop()));const u=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;s.map(function(){var f=(0,Te.Z)(function*(m,_){return t.insertBlock(m,0===_&&u)});return function(m,_){return f.apply(this,arguments)}}()),r.currentBlock&&i.setToBlock(r.currentBlock,i.positions.END)})()}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){Array.from(this.Editor.Tools.blockTools.values()).forEach(this.processTool)}collectTagNames(n){return Hc(n)?[n]:gr(n)?Object.keys(n):[]}getTagsConfig(n){if(!1===n.pasteConfig)return;const t=[];(n.pasteConfig.tags||[]).forEach(i=>{const r=this.collectTagNames(i);t.push(...r),r.forEach(s=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,s))return void an(`Paste handler for \xab${n.name}\xbb Tool on \xab${s}\xbb tag is skipped because it is already used by \xab${this.toolsTags[s].tool.name}\xbb Tool.`,"warn");const u=gr(i)?i[s]:null;this.toolsTags[s.toUpperCase()]={tool:n,sanitizationConfig:u}})}),this.tagsByTool[n.name]=t.map(i=>i.toUpperCase())}getFilesConfig(n){if(!1===n.pasteConfig)return;const{files:e={}}=n.pasteConfig;let{extensions:t,mimeTypes:i}=e;!t&&!i||(t&&!Array.isArray(t)&&(an(`\xabextensions\xbb property of the onDrop config for \xab${n.name}\xbb Tool should be an array`),t=[]),i&&!Array.isArray(i)&&(an(`\xabmimeTypes\xbb property of the onDrop config for \xab${n.name}\xbb Tool should be an array`),i=[]),i&&(i=i.filter(r=>!!function cA(n){return/^[-\w]+\/([-+\w]+|\*)$/.test(n)}(r)||(an(`MIME type value \xab${r}\xbb for the \xab${n.name}\xbb Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[n.name]={extensions:t||[],mimeTypes:i||[]})}getPatternsConfig(n){!1===n.pasteConfig||!n.pasteConfig.patterns||js(n.pasteConfig.patterns)||Object.entries(n.pasteConfig.patterns).forEach(([e,t])=>{t instanceof RegExp||an(`Pattern ${t} for \xab${n.name}\xbb Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:t,tool:n})})}isNativeBehaviour(n){return pe.isNativeInput(n)}processFiles(n){var e=this;return(0,Te.Z)(function*(){const{BlockManager:t}=e.Editor;let i;i=yield Promise.all(Array.from(n).map(s=>e.processFile(s))),i=i.filter(s=>!!s);const r=t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty;i.forEach((s,u)=>{t.paste(s.type,s.event,0===u&&r)})})()}processFile(n){var e=this;return(0,Te.Z)(function*(){const t=function aC(n){return n.name.split(".").pop()}(n),i=Object.entries(e.toolsFiles).find(([s,{mimeTypes:u,extensions:f}])=>{const[m,_]=n.type.split("/"),I=f.find(N=>N.toLowerCase()===t.toLowerCase()),D=u.find(N=>{const[U,B]=N.split("/");return U===m&&(B===_||"*"===B)});return!!I||!!D});if(!i)return;const[r]=i;return{event:e.composePasteEvent("file",{file:n}),type:r}})()}processHTML(n){const{Tools:e}=this.Editor,t=pe.make("DIV");return t.innerHTML=n,this.getNodes(t).map(i=>{let r,s=e.defaultTool,u=!1;switch(i.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:r=pe.make("div"),r.appendChild(i);break;case Node.ELEMENT_NODE:r=i,u=!0,this.toolsTags[r.tagName]&&(s=this.toolsTags[r.tagName].tool)}const{tags:f}=s.pasteConfig||{tags:[]},m=f.reduce((D,N)=>(this.collectTagNames(N).forEach(U=>{const B=gr(N)?N[U]:null;D[U.toLowerCase()]=B||{}}),D),{}),_=Object.assign({},m,s.baseSanitizeConfig);if("table"===r.tagName.toLowerCase()){const D=qa(r.outerHTML,_);r=pe.make("div",void 0,{innerHTML:D}).firstChild}else r.innerHTML=qa(r.innerHTML,_);const I=this.composePasteEvent("tag",{data:r});return{content:r,isBlock:u,tool:s.name,event:I}}).filter(i=>{const r=pe.isEmpty(i.content),s=pe.isSingleTag(i.content);return!r||s})}processPlain(n){const{defaultBlock:e}=this.config;if(!n)return[];const t=e;return n.split(/\r?\n/).filter(i=>i.trim()).map(i=>{const r=pe.make("div");r.textContent=i;const s=this.composePasteEvent("tag",{data:r});return{content:r,tool:t,isBlock:!1,event:s}})}processSingleBlock(n){var e=this;return(0,Te.Z)(function*(){const{Caret:t,BlockManager:i}=e.Editor,{currentBlock:r}=i;r&&n.tool===r.name&&pe.containsOnlyInlineElements(n.content.innerHTML)?t.insertContentAtCaretPosition(n.content.innerHTML):e.insertBlock(n,r?.tool.isDefault&&r.isEmpty)})()}processInlinePaste(n){var e=this;return(0,Te.Z)(function*(){const{BlockManager:t,Caret:i}=e.Editor,{content:r}=n;if(t.currentBlock&&t.currentBlock.tool.isDefault&&r.textContent.length<UC.PATTERN_PROCESSING_MAX_LENGTH){const s=yield e.processPattern(r.textContent);if(s){const f=t.paste(s.tool,s.event,t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty);return void i.setToBlock(f,i.positions.END)}}t.currentBlock&&t.currentBlock.currentInput?document.execCommand("insertHTML",!1,qa(r.innerHTML,t.currentBlock.tool.baseSanitizeConfig)):e.insertBlock(n)})()}processPattern(n){var e=this;return(0,Te.Z)(function*(){const t=e.toolsPatterns.find(i=>{const r=i.pattern.exec(n);return!!r&&n===r.shift()});return t?{event:e.composePasteEvent("pattern",{key:t.key,data:n}),tool:t.tool.name}:void 0})()}insertBlock(n,e=!1){const{BlockManager:t,Caret:i}=this.Editor,{currentBlock:r}=t;let s;if(e&&r&&r.isEmpty)return s=t.paste(n.tool,n.event,!0),void i.setToBlock(s,i.positions.END);s=t.paste(n.tool,n.event),i.setToBlock(s,i.positions.END)}insertEditorJSData(n){const{BlockManager:e,Caret:t,Tools:i}=this.Editor;p0(n,r=>i.blockTools.get(r).sanitizeConfig).forEach(({tool:r,data:s},u)=>{let f=!1;0===u&&(f=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const m=e.insert({tool:r,data:s,replace:f});t.setToBlock(m,t.positions.END)})}processElementNode(n,e,t){const i=Object.keys(this.toolsTags),r=n,{tool:s}=this.toolsTags[r.tagName]||{},u=this.tagsByTool[s?.name]||[],f=i.includes(r.tagName),m=pe.blockElements.includes(r.tagName.toLowerCase()),_=Array.from(r.children).some(({tagName:D})=>i.includes(D)&&!u.includes(D)),I=Array.from(r.children).some(({tagName:D})=>pe.blockElements.includes(D.toLowerCase()));return m||f||_?f&&!_||m&&!I&&!_?[...e,t,r]:void 0:(t.appendChild(r),[...e,t])}getNodes(n){const e=Array.from(n.childNodes);let t;const i=(r,s)=>{if(pe.isEmpty(s)&&!pe.isSingleTag(s))return r;const u=r[r.length-1];let f=new DocumentFragment;switch(u&&pe.isFragment(u)&&(f=r.pop()),s.nodeType){case Node.ELEMENT_NODE:if(t=this.processElementNode(s,r,f),t)return t;break;case Node.TEXT_NODE:return f.appendChild(s),[...r,f];default:return[...r,f]}return[...r,...Array.from(s.childNodes).reduce(i,[])]};return e.reduce(i,[])}composePasteEvent(n,e){return new CustomEvent(n,{detail:e})}};let HC=UC;HC.PATTERN_PROCESSING_MAX_LENGTH=450;class ay extends ln{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,t){const i=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);i.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const r=[`.${Hi.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],s=i.closest("."+this.Editor.UI.CSS.editorWrapper),u=r.some(f=>!!i.closest(f));!s||u||(this.mousedown=!0,this.startX=e,this.startY=t)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",t=>{this.processMouseDown(t)},!1),this.listeners.on(document.body,"mousemove",o0(t=>{this.processMouseMove(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",o0(t=>{this.processScroll(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(null!==e.target.closest(pe.allInputsSelector)||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}genHTML(){const{UI:e}=this.Editor,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),i=pe.make("div",ay.CSS.overlay,{}),r=pe.make("div",ay.CSS.overlayContainer,{}),s=pe.make("div",ay.CSS.rect,{});return r.appendChild(s),i.appendChild(r),t.appendChild(i),this.overlayRectangle=s,{container:t,overlay:i}}scrollVertical(e){if(!this.inScrollZone||!this.mousedown)return;const t=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-t,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;void 0!==e.pageY&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:t,leftPos:i,index:r}=this.genInfoForMouseSelection();this.rectCrossesBlocks=!(this.startX>t&&this.mouseX>t||this.startX<i&&this.mouseX<i),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),void 0!==r&&(this.trySelectNextBlock(r),this.inverseSelection(),bt.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=this.startX-window.pageXOffset+"px",this.overlayRectangle.style.top=this.startY-window.pageYOffset+"px",this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(t);if(!this.rectCrossesBlocks&&e)for(const t of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(t)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=this.startY-window.pageYOffset+"px",this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=this.mouseY-window.pageYOffset+"px"),this.mouseX>=this.startX?(this.overlayRectangle.style.left=this.startX-window.pageXOffset+"px",this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=this.mouseX-window.pageXOffset+"px")}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,t=this.mouseY-window.pageYOffset,i=document.elementFromPoint(e,t),r=this.Editor.BlockManager.getBlockByChildNode(i);let s;void 0!==r&&(s=this.Editor.BlockManager.blocks.findIndex(I=>I.holder===r.holder));const u=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Hi.CSS.content),f=Number.parseInt(window.getComputedStyle(u).width,10)/2;return{index:s,leftPos:e-f,rightPos:e+f}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const i=this.stackOfSelected.length;if(this.stackOfSelected[this.stackOfSelected.length-1]===e)return;let m=0;i>1&&(m=this.stackOfSelected[i-1]-this.stackOfSelected[i-2]>0?1:-1);const D=!(e>this.stackOfSelected[i-1]&&1===m||e<this.stackOfSelected[i-1]&&-1===m||0===m);if(!D&&(e>this.stackOfSelected[i-1]||void 0===this.stackOfSelected[i-1])){let B=this.stackOfSelected[i-1]+1||e;for(;B<=e;B++)this.addBlockInSelection(B);return}if(!D&&e<this.stackOfSelected[i-1]){for(let B=this.stackOfSelected[i-1]-1;B>=e;B--)this.addBlockInSelection(B);return}if(!D)return;let U,N=i-1;for(U=e>this.stackOfSelected[i-1]?()=>e>this.stackOfSelected[N]:()=>e<this.stackOfSelected[N];U();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[N]),this.stackOfSelected.pop(),N--}}var vd={},UA={get exports(){return vd},set exports(n){vd=n}};!function(n,e){window,n.exports=function(t){var i={};function r(s){if(i[s])return i[s].exports;var u=i[s]={i:s,l:!1,exports:{}};return t[s].call(u.exports,u,u.exports,r),u.l=!0,u.exports}return r.m=t,r.c=i,r.d=function(s,u,f){r.o(s,u)||Object.defineProperty(s,u,{enumerable:!0,get:f})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,u){if(1&u&&(s=r(s)),8&u||4&u&&"object"==typeof s&&s&&s.__esModule)return s;var f=Object.create(null);if(r.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:s}),2&u&&"string"!=typeof s)for(var m in s)r.d(f,m,function(_){return s[_]}.bind(null,m));return f},r.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(u,"a",u),u},r.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},r.p="/",r(r.s=4)}([function(t,i,r){var s=r(1),u=r(2);"string"==typeof(u=u.__esModule?u.default:u)&&(u=[[t.i,u,""]]),s(u,{insert:"head",singleton:!1}),t.exports=u.locals||{}},function(t,i,r){var s,Se,f=(Se={},function(Oe){if(void 0===Se[Oe]){var Ze=document.querySelector(Oe);if(window.HTMLIFrameElement&&Ze instanceof window.HTMLIFrameElement)try{Ze=Ze.contentDocument.head}catch{Ze=null}Se[Oe]=Ze}return Se[Oe]}),m=[];function _(Se){for(var Oe=-1,Ze=0;Ze<m.length;Ze++)if(m[Ze].identifier===Se){Oe=Ze;break}return Oe}function I(Se,Oe){for(var Ze={},it=[],Dt=0;Dt<Se.length;Dt++){var nt=Se[Dt],Qe=Oe.base?nt[0]+Oe.base:nt[0],St=Ze[Qe]||0,Xt="".concat(Qe," ").concat(St);Ze[Qe]=St+1;var En=_(Xt),rn={css:nt[1],media:nt[2],sourceMap:nt[3]};-1!==En?(m[En].references++,m[En].updater(rn)):m.push({identifier:Xt,updater:qe(rn,Oe),references:1}),it.push(Xt)}return it}function D(Se){var Oe=document.createElement("style"),Ze=Se.attributes||{};if(void 0===Ze.nonce){var it=r.nc;it&&(Ze.nonce=it)}if(Object.keys(Ze).forEach(function(nt){Oe.setAttribute(nt,Ze[nt])}),"function"==typeof Se.insert)Se.insert(Oe);else{var Dt=f(Se.insert||"head");if(!Dt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Dt.appendChild(Oe)}return Oe}var N,U=(N=[],function(Se,Oe){return N[Se]=Oe,N.filter(Boolean).join("\n")});function B(Se,Oe,Ze,it){var Dt=Ze?"":it.media?"@media ".concat(it.media," {").concat(it.css,"}"):it.css;if(Se.styleSheet)Se.styleSheet.cssText=U(Oe,Dt);else{var nt=document.createTextNode(Dt),Qe=Se.childNodes;Qe[Oe]&&Se.removeChild(Qe[Oe]),Qe.length?Se.insertBefore(nt,Qe[Oe]):Se.appendChild(nt)}}function q(Se,Oe,Ze){var it=Ze.css,Dt=Ze.media,nt=Ze.sourceMap;if(Dt?Se.setAttribute("media",Dt):Se.removeAttribute("media"),nt&&btoa&&(it+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(nt))))," */")),Se.styleSheet)Se.styleSheet.cssText=it;else{for(;Se.firstChild;)Se.removeChild(Se.firstChild);Se.appendChild(document.createTextNode(it))}}var ie=null,Re=0;function qe(Se,Oe){var Ze,it,Dt;if(Oe.singleton){var nt=Re++;Ze=ie||(ie=D(Oe)),it=B.bind(null,Ze,nt,!1),Dt=B.bind(null,Ze,nt,!0)}else Ze=D(Oe),it=q.bind(null,Ze,Oe),Dt=function(){!function(Qe){if(null===Qe.parentNode)return!1;Qe.parentNode.removeChild(Qe)}(Ze)};return it(Se),function(Qe){if(Qe){if(Qe.css===Se.css&&Qe.media===Se.media&&Qe.sourceMap===Se.sourceMap)return;it(Se=Qe)}else Dt()}}t.exports=function(Se,Oe){(Oe=Oe||{}).singleton||"boolean"==typeof Oe.singleton||(Oe.singleton=(void 0===s&&(s=!(!(window&&document&&document.all)||window.atob)),s));var Ze=I(Se=Se||[],Oe);return function(it){if(it=it||[],"[object Array]"===Object.prototype.toString.call(it)){for(var Dt=0;Dt<Ze.length;Dt++){var nt=_(Ze[Dt]);m[nt].references--}for(var Qe=I(it,Oe),St=0;St<Ze.length;St++){var Xt=_(Ze[St]);0===m[Xt].references&&(m[Xt].updater(),m.splice(Xt,1))}Ze=Qe}}}},function(t,i,r){(i=r(3)(!1)).push([t.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n",""]),t.exports=i},function(t,i,r){t.exports=function(s){var u=[];return u.toString=function(){return this.map(function(f){var m=function(_,I){var ie,Re,D=_[1]||"",N=_[3];if(!N)return D;if(I&&"function"==typeof btoa){var U=(ie=btoa(unescape(encodeURIComponent(JSON.stringify(N)))),Re="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(ie),"/*# ".concat(Re," */")),B=N.sources.map(function(qe){return"/*# sourceURL=".concat(N.sourceRoot||"").concat(qe," */")});return[D].concat(B).concat([U]).join("\n")}return[D].join("\n")}(f,s);return f[2]?"@media ".concat(f[2]," {").concat(m,"}"):m}).join("")},u.i=function(f,m,_){"string"==typeof f&&(f=[[null,f,""]]);var I={};if(_)for(var D=0;D<this.length;D++){var N=this[D][0];null!=N&&(I[N]=!0)}for(var U=0;U<f.length;U++){var B=[].concat(f[U]);_&&I[B[0]]||(m&&(B[2]=B[2]?"".concat(m," and ").concat(B[2]):m),u.push(B))}},u}},function(t,i,r){function s(m,_){for(var I=0;I<_.length;I++){var D=_[I];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(m,D.key,D)}}function u(m,_,I){return _&&s(m.prototype,_),I&&s(m,I),m}r.r(i),r.d(i,"default",function(){return f}),r(0);var f=function(){function m(_){var I=_.data,D=_.config,N=_.api,U=_.readOnly;(function(B,q){if(!(B instanceof q))throw new TypeError("Cannot call a class as a function")})(this,m),this.api=N,this.readOnly=U,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=D.placeholder?D.placeholder:m.DEFAULT_PLACEHOLDER,this._data={},this._element=this.drawView(),this._preserveBlank=void 0!==D.preserveBlank&&D.preserveBlank,this.data=I}return u(m,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),u(m,[{key:"onKeyUp",value:function(_){"Backspace"!==_.code&&"Delete"!==_.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var _=document.createElement("DIV");return _.classList.add(this._CSS.wrapper,this._CSS.block),_.contentEditable=!1,_.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(_.contentEditable=!0,_.addEventListener("keyup",this.onKeyUp)),_}},{key:"render",value:function(){return this._element}},{key:"merge",value:function(_){this.data={text:this.data.text+_.text}}},{key:"validate",value:function(_){return!(""===_.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(_){return{text:_.innerHTML}}},{key:"onPaste",value:function(_){this.data={text:_.detail.data.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data},set:function(_){this._data=_||{},this._element.innerHTML=this._data.text||""}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),m}()}]).default}(UA);const T0=Gm(vd);let HA=(()=>{class n{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}get shortcut(){return"CMD+B"}}return n.isInline=!0,n.title="Bold",n})(),$C=(()=>{class n{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}get shortcut(){return"CMD+I"}}return n.isInline=!0,n.title="Italic",n})(),jA=(()=>{class n{constructor({api:t}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=t.toolbar,this.inlineToolbar=t.inlineToolbar,this.notifier=t.notifier,this.i18n=t.i18n,this.selection=new bt}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=ya,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",t=>{t.keyCode===this.ENTER_KEY&&this.enterPressed(t)}),this.nodes.input}surround(t){if(t){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const i=this.selection.findParentTag("A");if(i)return this.selection.expandToTag(i),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}checkState(){const t=this.selection.findParentTag("A");if(t){this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const i=t.getAttribute("href");this.nodes.input.value="null"!==i?i:"",this.selection.save()}else this.nodes.button.innerHTML=ya,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(t=!1){this.nodes.input.classList.add(this.CSS.inputShowed),t&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(t=!0){if(this.selection.isFakeBackgroundEnabled){const i=new bt;i.save(),this.selection.restore(),this.selection.removeFakeBackground(),i.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",t&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(t){let i=this.nodes.input.value||"";return i.trim()?this.validateURL(i)?(i=this.prepareLink(i),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(i),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void an("Incorrect Link pasted","warn",i)):(this.selection.restore(),this.unlink(),t.preventDefault(),void this.closeActions())}validateURL(t){return!/\s/.test(t)}prepareLink(t){return t=t.trim(),this.addProtocol(t)}addProtocol(t){if(/^(\w+):(\/\/)?/.test(t))return t;const i=/^\/[^/\s]/.test(t),r="#"===t.substring(0,1),s=/^\/\/[^/\s]/.test(t);return!i&&!r&&!s&&(t="http://"+t),t}insertLink(t){const i=this.selection.findParentTag("A");i&&this.selection.expandToTag(i),document.execCommand(this.commandLink,!1,t)}unlink(){document.execCommand(this.commandUnlink)}}return n.isInline=!0,n.title="Link",n})(),$A=(()=>{class n{constructor({data:t,api:i}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=i,this.title=t.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=t.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const t=pe.make("div",this.CSS.wrapper),r=pe.make("div",this.CSS.info),s=pe.make("div",this.CSS.title,{textContent:this.title}),u=pe.make("div",this.CSS.subtitle,{textContent:this.subtitle});return t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52"><path fill="#D76B6B" fill-rule="nonzero" d="M26 52C11.64 52 0 40.36 0 26S11.64 0 26 0s26 11.64 26 26-11.64 26-26 26zm0-3.25c12.564 0 22.75-10.186 22.75-22.75S38.564 3.25 26 3.25 3.25 13.436 3.25 26 13.436 48.75 26 48.75zM15.708 33.042a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm23.834 0a2.167 2.167 0 1 1 0-4.334 2.167 2.167 0 0 1 0 4.334zm-15.875 5.452a1.083 1.083 0 1 1-1.834-1.155c1.331-2.114 3.49-3.179 6.334-3.179 2.844 0 5.002 1.065 6.333 3.18a1.083 1.083 0 1 1-1.833 1.154c-.913-1.45-2.366-2.167-4.5-2.167s-3.587.717-4.5 2.167z"/></svg>',r.appendChild(s),r.appendChild(u),t.appendChild(r),t}}return n.isReadOnlySupported=!0,n})();class zA extends oy{constructor(){super(...arguments),this.type=Gh.Inline}get title(){return this.constructable[b0.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class S0 extends oy{constructor(){super(...arguments),this.type=Gh.Tune}create(e,t){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:t,data:e})}}class Nr extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isBlock());return new Nr(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInline());return new Nr(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,t])=>t.isTune());return new Nr(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,t])=>t.isInternal);return new Nr(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,t])=>!t.isInternal);return new Nr(e)}}var GA=Object.defineProperty,ly=Object.getOwnPropertyDescriptor,cy=(n,e,t,i)=>{for(var u,r=i>1?void 0:i?ly(e,t):e,s=n.length-1;s>=0;s--)(u=n[s])&&(r=(i?u(e,t,r):u(r))||r);return i&&r&&GA(e,t,r),r};class zC extends oy{constructor(){super(...arguments),this.type=Gh.Block,this.inlineTools=new Nr,this.tunes=new Nr}create(e,t,i){return new this.constructable({data:e,block:t,readOnly:i,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return!0===this.constructable[qh.IsReadOnlySupported]}get isLineBreaksEnabled(){return this.constructable[qh.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[qh.Toolbox],t=this.config[Wh.Toolbox];if(!js(e)&&!1!==t)return t?Array.isArray(e)?Array.isArray(t)?t.map((i,r)=>{const s=e[r];return s?{...s,...i}:i}):[t]:Array.isArray(t)?t:[{...e,...t}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[qh.ConversionConfig]}get enabledInlineTools(){return this.config[Wh.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Wh.EnabledBlockTunes]}get pasteConfig(){return this.constructable[qh.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,t=this.baseSanitizeConfig;if(js(e))return t;const i={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];i[r]=gr(s)?Object.assign({},t,s):s}return i}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),Array.from(this.tunes.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),e}}cy([pd],zC.prototype,"sanitizeConfig",1),cy([pd],zC.prototype,"baseSanitizeConfig",1);class GC{constructor(e,t,i){this.api=i,this.config=e,this.editorConfig=t}get(e){const{class:t,isInternal:i=!1,...r}=this.config[e];return new(this.getConstructor(t))({name:e,constructable:t,config:r,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:i})}getConstructor(e){switch(!0){case e[b0.IsInline]:return zA;case e[RC.IsTune]:return S0;default:return zC}}}let WA=(()=>{class n{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:xC,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const t=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(t+1);if(!i)throw new Error("Unable to move Block down since it is already the last");const r=i.holder,s=r.getBoundingClientRect();let u=Math.abs(window.innerHeight-r.offsetHeight);s.top<window.innerHeight&&(u=window.scrollY+r.offsetHeight),window.scrollTo(0,u),this.api.blocks.move(t+1),this.api.toolbar.toggleBlockSettings(!0)}}return n.isTune=!0,n})(),WC=(()=>{class n{constructor({api:t}){this.api=t}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}return n.isTune=!0,n})(),Kh=(()=>{class n{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const t=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(t),r=this.api.blocks.getBlockByIndex(t-1);if(0===t||!i||!r)throw new Error("Unable to move Block up since it is already the first");const u=r.holder,f=i.holder.getBoundingClientRect(),m=u.getBoundingClientRect();let _;_=m.top>0?Math.abs(f.top)-Math.abs(m.top):Math.abs(f.top)+m.height,window.scrollBy(0,-1*_),this.api.blocks.move(t-1),this.api.toolbar.toggleBlockSettings(!0)}}return n.isTune=!0,n})();var qA=Object.defineProperty,qC=Object.getOwnPropertyDescriptor;class ZA extends ln{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Nr,this.toolsUnavailable=new Nr}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}prepare(){var e=this;return(0,Te.Z)(function*(){if(e.validateTools(),e.config.tools=s0({},e.internalTools,e.config.tools),!Object.prototype.hasOwnProperty.call(e.config,"tools")||0===Object.keys(e.config.tools).length)throw Error("Can't start without tools");const t=e.prepareConfig();e.factory=new GC(t,e.config,e.Editor.API);const i=e.getListOfPrepareFunctions(t);if(0===i.length)return Promise.resolve();yield sC(i,r=>{e.toolPrepareMethodSuccess(r)},r=>{e.toolPrepareMethodFallback(r)}),e.prepareBlockTools()})()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(t=>{Object.assign(e,t.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(function(){var e=(0,Te.Z)(function*(t){ei(t.reset)&&(yield t.reset())});return function(t){return e.apply(this,arguments)}}())}get internalTools(){return{bold:{class:HA,isInternal:!0},italic:{class:$C,isInternal:!0},link:{class:jA,isInternal:!0},paragraph:{class:T0,inlineToolbar:!0,isInternal:!0},stub:{class:$A,isInternal:!0},moveUp:{class:Kh,isInternal:!0},delete:{class:WC,isInternal:!0},moveDown:{class:WA,isInternal:!0}}}toolPrepareMethodSuccess(e){const t=this.factory.get(e.toolName);if(t.isInline()){const i=["render","surround","checkState"].filter(r=>!t.create()[r]);if(i.length)return an(`Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,"warn",i),void this.toolsUnavailable.set(t.name,t)}this.toolsAvailable.set(t.name,t)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const t=[];return Object.entries(e).forEach(([i,r])=>{t.push({function:ei(r.class.prepare)?r.class.prepare:()=>{},data:{toolName:i,config:r.config}})}),t}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(!1!==this.config.inlineToolbar){if(!0===e.enabledInlineTools)return void(e.inlineTools=new Nr(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(t=>[t,this.inlineTools.get(t)]):Array.from(this.inlineTools.entries())));Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Nr(e.enabledInlineTools.map(t=>[t,this.inlineTools.get(t)])))}}assignBlockTunesToBlockTool(e){if(!1!==e.enabledBlockTunes){if(Array.isArray(e.enabledBlockTunes)){const t=new Nr(e.enabledBlockTunes.map(i=>[i,this.blockTunes.get(i)]));return void(e.tunes=new Nr([...t,...this.blockTunes.internalTools]))}if(Array.isArray(this.config.tunes)){const t=new Nr(this.config.tunes.map(i=>[i,this.blockTunes.get(i)]));return void(e.tunes=new Nr([...t,...this.blockTunes.internalTools]))}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const t=this.config.tools[e];if(!ei(t)&&!ei(t.class))throw Error(`Tool \xab${e}\xbb must be a constructor function or an object with function in the \xabclass\xbb property`)}}prepareConfig(){const e={};for(const t in this.config.tools)e[t]=gr(this.config.tools[t])?this.config.tools[t]:{class:this.config.tools[t]};return e}}((n,e,t,i)=>{for(var u,r=qC(e,t),s=n.length-1;s>=0;s--)(u=n[s])&&(r=u(e,t,r)||r);r&&qA(e,t,r)})([pd],ZA.prototype,"getAllInlineToolsSanitizeConfig");const YA={BlocksAPI:class mC extends ln{constructor(){var e;super(...arguments),e=this,this.insert=(t=this.config.defaultBlock,i={},r={},s,u,f,m)=>new Up(this.Editor.BlockManager.insert({id:m,tool:t,data:i,index:s,needToFocus:u,replace:f})),this.composeBlockData=function(){var t=(0,Te.Z)(function*(i){const r=e.Editor.Tools.blockTools.get(i);return new Hi({tool:r,api:e.Editor.API,readOnly:!0,data:{},tunesData:{}}).data});return function(i){return t.apply(this,arguments)}}(),this.update=(t,i)=>{const{BlockManager:r}=this.Editor,s=r.getBlockById(t);if(!s)return void an("blocks.update(): Block with passed id was not found","warn");const u=r.getBlockIndex(s);r.insert({id:s.id,tool:s.name,data:i,index:u,replace:!0,tunes:s.tunes})}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,t)=>this.swap(e,t),move:(e,t)=>this.move(e,t),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,t=!0)=>this.stretchBlock(e,t),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,update:this.update,composeBlockData:this.composeBlockData}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const t=this.Editor.BlockManager.getBlockById(e);if(t)return this.Editor.BlockManager.getBlockIndex(t);ga("There is no block with id `"+e+"`","warn")}getBlockByIndex(e){const t=this.Editor.BlockManager.getBlockByIndex(e);if(void 0!==t)return new Up(t);ga("There is no block at index `"+e+"`","warn")}getById(e){const t=this.Editor.BlockManager.getBlockById(e);return void 0===t?(ga("There is no block with id `"+e+"`","warn"),null):new Up(t)}swap(e,t){an("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}move(e,t){this.Editor.BlockManager.move(e,t)}delete(e){try{this.Editor.BlockManager.removeBlock(e)}catch(t){return void ga(t,"warn")}0===this.Editor.BlockManager.blocks.length&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}render(e){return this.Editor.BlockManager.clear(),this.Editor.Renderer.render(e.blocks)}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,t=!0){a0(!0,"blocks.stretchBlock()","BlockAPI");const i=this.Editor.BlockManager.getBlockByIndex(e);i&&(i.stretched=t)}insertNewBlock(){an("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}},CaretAPI:class yC extends ln{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.firstBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,t),!0),this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.lastBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,t),!0),this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.previousBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,t),!0),this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.nextBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,t),!0),this.setToBlock=(e,t=this.Editor.Caret.positions.DEFAULT,i=0)=>!!this.Editor.BlockManager.blocks[e]&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],t,i),!0),this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}},EventsAPI:class vC extends ln{get methods(){return{emit:(e,t)=>this.emit(e,t),off:(e,t)=>this.off(e,t),on:(e,t)=>this.on(e,t)}}on(e,t){this.eventsDispatcher.on(e,t)}emit(e,t){this.eventsDispatcher.emit(e,t)}off(e,t){this.eventsDispatcher.off(e,t)}},I18nAPI:h0,API:class yA extends ln{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}},InlineToolbarAPI:class vA extends ln{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}},ListenersAPI:class _A extends ln{get methods(){return{on:(e,t,i,r)=>this.on(e,t,i,r),off:(e,t,i,r)=>this.off(e,t,i,r),offById:e=>this.offById(e)}}on(e,t,i,r){return this.listeners.on(e,t,i,r)}off(e,t,i,r){this.listeners.off(e,t,i,r)}offById(e){this.listeners.offById(e)}},NotifierAPI:class wA extends ln{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.notifier=new bA}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}},ReadOnlyAPI:class TO extends ln{get methods(){const e=()=>this.isEnabled;return{toggle:t=>this.toggle(t),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}},SanitizerAPI:class SA extends ln{get methods(){return{clean:(e,t)=>this.clean(e,t)}}clean(e,t){return qa(e,t)}},SaverAPI:class xA extends ln{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(ga(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}},SelectionAPI:class Hp extends ln{get methods(){return{findParentTag:(e,t)=>this.findParentTag(e,t),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,t){return(new bt).findParentTag(e,t)}expandToTag(e){(new bt).expandToTag(e)}},StylesAPI:class EC extends ln{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}},ToolbarAPI:class CC extends ln{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){-1!==this.Editor.BlockManager.currentBlockIndex?e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close():ga("Could't toggle the Toolbar because there is no block selected ","warn")}toggleToolbox(e){-1!==this.Editor.BlockManager.currentBlockIndex?e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close():ga("Could't toggle the Toolbox because there is no block selected ","warn")}},TooltipAPI:class DA extends ln{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.tooltip=new Xm}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,t,i)=>this.show(e,t,i),hide:()=>this.hide(),onHover:(e,t,i)=>this.onHover(e,t,i)}}show(e,t,i){this.tooltip.show(e,t,i)}hide(){this.tooltip.hide()}onHover(e,t,i){this.tooltip.onHover(e,t,i)}},UiAPI:class SO extends ln{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}},BlockSettings:class ny extends ln{constructor(){super(...arguments),this.opened=!1,this.selection=new bt,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return null==(e=this.popover)?void 0:e.flipper}make(){this.nodes.wrapper=pe.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[t,i]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new ty({searchable:!0,items:t.map(r=>this.resolveTuneAliases(r)),customContent:i,customContentFlippableItems:this.getControls(i),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:_o.ui(ma.ui.popover,"Nothing found"),search:_o.ui(ma.ui.popover,"Filter")}}),this.popover.on(qp.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,bt.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(qp.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:t}=this.Editor,i=e.querySelectorAll(`.${t.classes.settingsButton}, ${pe.allInputsSelector}`);return Array.from(i)}resolveTuneAliases(e){const t=function SC(n,e){const t={};return Object.keys(n).forEach(i=>{const r=e[i];void 0!==r?t[r]=n[i]:t[i]=n[i]}),t}(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}},ConversionToolbar:$s,Toolbar:class NC extends ln{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.tooltip=new Xm}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){return{opened:this.toolboxInstance.opened,close:()=>{this.toolboxInstance.close()},open:()=>{this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>this.toolboxInstance.toggle(),hasFocus:()=>this.toolboxInstance.hasFocus()}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):(this.drawUI(),this.enableModuleBindings())}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const t=e.holder,{isMobile:i}=this.Editor.UI,s=window.getComputedStyle(e.pluginsContent),u=parseInt(s.paddingTop,10);let m;m=i?t.offsetTop+t.offsetHeight:t.offsetTop+u,this.nodes.wrapper.style.top=`${Math.floor(m)}px`,1===this.Editor.BlockManager.blocks.length&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),this.toolboxInstance.close(),this.Editor.BlockSettings.close())}open(e=!0){fd(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=pe.make("div",this.CSS.toolbar),["content","actions"].forEach(t=>{this.nodes[t]=pe.make("div",this.CSS[t])}),pe.append(this.nodes.wrapper,this.nodes.content),pe.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=pe.make("div",this.CSS.plusButton,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>'}),pe.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=pe.make("div");e.appendChild(document.createTextNode(_o.ui(ma.ui.toolbar.toolbox,"Add"))),e.appendChild(pe.make("div",this.CSS.plusButtonShortcut,{textContent:"\u21e5 Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=pe.make("span",this.CSS.settingsToggler,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>'}),pe.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,_o.ui(ma.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),pe.append(this.nodes.actions,this.makeToolbox()),pe.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),pe.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new Zp({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:_o.ui(ma.ui.popover,"Filter"),nothingFound:_o.ui(ma.ui.popover,"Nothing found")}}),this.toolboxInstance.on(iy.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(iy.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(iy.BlockAdded,({block:e})=>{const{BlockManager:t,Caret:i}=this.Editor,r=t.getBlockById(e.id);0===r.inputs.length&&(r===t.lastBlock?(t.insertAtEnd(),i.setToBlock(t.lastBlock)):i.setToBlock(t.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{e.stopPropagation(),this.settingsTogglerClicked(),this.toolboxInstance.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),gd()||this.eventsDispatcher.on(ry,e=>{this.Editor.BlockSettings.opened||this.toolboxInstance.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}},InlineToolbar:class w0 extends ln{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=gd()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new Xm}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):this.make()}tryToShow(e=!1,t=!0){this.allowedToShow()?(this.move(),this.open(t),this.Editor.Toolbar.close()):e&&this.close()}move(){const e=bt.rect,t=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),i={x:e.x-t.left,y:e.y+e.height-t.top+this.toolbarVerticalMargin};e.width&&(i.x+=Math.floor(e.width/2));const s=i.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,i.x-this.width/2<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,s>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(i.x)+"px",this.nodes.wrapper.style.top=Math.floor(i.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,t])=>{const i=this.getToolShortcut(e);i&&yd.remove(this.Editor.UI.nodes.redactor,i),ei(t.clear)&&t.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let t=Array.from(this.buttonsList);t.unshift(this.nodes.conversionToggler),t=t.filter(i=>!i.hidden),this.flipper.activate(t)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=pe.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=pe.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=pe.make("div",this.CSS.buttonsWrapper),this.nodes.actions=pe.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),pe.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),pe.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),pe.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),this.recalculateWidth(),this.enableFlipper()}allowedToShow(){const t=bt.get();if(!t||!t.anchorNode||t.isCollapsed||bt.text.length<1)return!1;const r=pe.isElement(t.anchorNode)?t.anchorNode:t.anchorNode.parentElement;if(t&&["IMG","INPUT"].includes(r.tagName)||null===r.closest('[contenteditable="true"]'))return!1;const s=this.Editor.BlockManager.getBlock(t.anchorNode);return!!s&&0!==s.tool.inlineTools.size}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=pe.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=pe.make("div",this.CSS.conversionTogglerContent);const e=pe.make("div",this.CSS.conversionTogglerArrow,{innerHTML:xC});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(t=>{!t&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),!1===gd()&&this.tooltip.onHover(this.nodes.conversionToggler,_o.ui(ma.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}setConversionTogglerContent(){var e=this;return(0,Te.Z)(function*(){const{BlockManager:t}=e.Editor,{currentBlock:i}=t,r=i.name,s=i.tool.conversionConfig,u=s&&s.export;e.nodes.conversionToggler.hidden=!u,e.nodes.conversionToggler.classList.toggle(e.CSS.conversionTogglerHidden,!u);const f=(yield i.getActiveToolboxEntry())||{};e.nodes.conversionTogglerContent.innerHTML=f.icon||f.title||qm(r)})()}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();pe.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=bt.get(),t=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(t.tool.inlineTools.values()).forEach(i=>{this.addTool(i)}),this.recalculateWidth()}addTool(e){const t=e.create(),i=t.render();if(!i)return void an("Render method must return an instance of Node","warn",e.name);if(i.dataset.tool=e.name,this.nodes.buttons.appendChild(i),this.toolsInstances.set(e.name,t),ei(t.renderActions)){const f=t.renderActions();this.nodes.actions.appendChild(f)}this.listeners.on(i,"click",f=>{this.toolClicked(t),f.preventDefault()});const r=this.getToolShortcut(e.name);if(r)try{this.enableShortcuts(t,r)}catch{}const s=pe.make("div"),u=_o.t(ma.toolNames,e.title||qm(e.name));s.appendChild(pe.text(u)),r&&s.appendChild(pe.make("div",this.CSS.inlineToolbarShortcut,{textContent:lC(r)})),!1===gd()&&this.tooltip.onHover(i,s,{placement:"top",hidingDelay:100}),t.checkState(bt.get())}getToolShortcut(e){const{Tools:t}=this.Editor,i=t.inlineTools.get(e);return Array.from(t.internal.inlineTools.keys()).includes(e)?this.inlineTools[e][OC.Shortcut]:i.shortcut}enableShortcuts(e,t){yd.add({name:t,handler:i=>{const{currentBlock:r}=this.Editor.BlockManager;r&&r.tool.enabledInlineTools&&(i.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){e.surround(bt.range),this.checkToolsState(),void 0!==e.renderActions&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState(bt.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t,i])=>{e[t]=i.create()}),e}enableFlipper(){this.flipper=new Za({focusedItemClass:this.CSS.focusedButton,allowedKeys:[13,9]})}},BlockEvents:class LC extends ln{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case 8:this.backspace(e);break;case 13:this.enter(e);break;case 40:case 39:this.arrowRightAndDown(e);break;case 38:case 37:this.arrowLeftAndUp(e);break;case 9:this.tabPressed(e)}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&oC(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:t,InlineToolbar:i,ConversionToolbar:r}=this.Editor,s=t.currentBlock;if(!s)return;const u=s.isEmpty,m=!u&&r.opened,_=!u&&!bt.isCollapsed&&i.opened;s.tool.isDefault&&u?this.activateToolbox():!m&&!_&&this.activateBlockSettings()}dragOver(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!0}dragLeave(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!1}handleCommandC(e){const{BlockSelection:t}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:t,BlockManager:i,Caret:r}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e).then(()=>{const s=i.removeSelectedBlocks(),u=i.insertDefaultBlockAtIndex(s,!0);r.setToBlock(u,r.positions.START),t.clearSelection(e)})}enter(e){const{BlockManager:t,UI:i}=this.Editor;if(t.currentBlock.tool.isLineBreaksEnabled||i.someToolbarOpened&&i.someFlipperButtonFocused||e.shiftKey)return;let r=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):r=this.Editor.Caret.isAtEnd?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(r),this.Editor.Toolbar.moveAndOpen(r),e.preventDefault()}backspace(e){const{BlockManager:t,BlockSelection:i,Caret:r}=this.Editor,s=t.currentBlock,u=s.tool;if(s.selected||s.isEmpty&&s.currentInput===s.firstInput){e.preventDefault();const m=t.currentBlockIndex;return t.previousBlock&&0===t.previousBlock.inputs.length?t.removeBlock(m-1):t.removeBlock(),r.setToBlock(t.currentBlock,m?r.positions.END:r.positions.START),this.Editor.Toolbar.close(),void i.clearSelection(e)}u.isLineBreaksEnabled&&!r.isAtStart||r.isAtStart&&bt.isCollapsed&&s.currentInput===s.firstInput&&0!==t.currentBlockIndex&&(e.preventDefault(),this.mergeBlocks())}mergeBlocks(){const{BlockManager:e,Caret:t,Toolbar:i}=this.Editor,r=e.previousBlock,s=e.currentBlock;if(s.name!==r.name||!r.mergeable)return 0===r.inputs.length||r.isEmpty?(e.removeBlock(e.currentBlockIndex-1),t.setToBlock(e.currentBlock),void i.close()):void(t.navigatePrevious()&&i.close());t.createShadow(r.pluginsContent),e.mergeBlocks(r,s).then(()=>{t.restoreCaret(r.pluginsContent),r.pluginsContent.normalize(),i.close()})}arrowRightAndDown(e){const t=Za.usedKeys.includes(e.keyCode)&&(!e.shiftKey||9===e.keyCode);this.Editor.UI.someToolbarOpened&&t||(this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close(),e.shiftKey&&40===e.keyCode&&(this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected)?this.Editor.CrossBlockSelection.toggleBlockSelectedState():((40===e.keyCode||39===e.keyCode&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():fd(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)))}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Za.usedKeys.includes(e.keyCode)&&(!e.shiftKey||9===e.keyCode))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close(),e.shiftKey&&38===e.keyCode&&(this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected)?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):((38===e.keyCode||37===e.keyCode&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():fd(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e))}needToolbarClosing(e){return!(e.shiftKey||9===e.keyCode||13===e.keyCode&&this.Editor.Toolbar.toolbox.opened||13===e.keyCode&&this.Editor.BlockSettings.opened||13===e.keyCode&&this.Editor.InlineToolbar.opened||13===e.keyCode&&this.Editor.ConversionToolbar.opened)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}},BlockManager:class BC extends ln{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return 0===this.currentBlockIndex?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new sy(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:sy.set,get:sy.get}),this.listeners.on(document,"copy",t=>this.Editor.BlockEvents.handleCommandC(t))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:t={},id:i,tunes:r={}}){const s=this.Editor.ReadOnly.isEnabled,u=this.Editor.Tools.blockTools.get(e),f=new Hi({id:i,data:t,tool:u,api:this.Editor.API,readOnly:s,tunesData:r},this.eventsDispatcher);return s||this.bindBlockEvents(f),f}insert({id:e,tool:t=this.config.defaultBlock,data:i={},index:r,needToFocus:s=!0,replace:u=!1,tunes:f={}}={}){let m=r;void 0===m&&(m=this.currentBlockIndex+(u?0:1));const _=this.composeBlock({id:e,tool:t,data:i,tunes:f});return u&&this.blockDidMutated(E0,this.getBlockByIndex(m),{index:m}),this._blocks.insert(m,_,u),this.blockDidMutated(C0,_,{index:m}),s?this.currentBlockIndex=m:m<=this.currentBlockIndex&&this.currentBlockIndex++,_}replace({tool:e=this.config.defaultBlock,data:t={}}){return this.insert({tool:e,data:t,index:this.currentBlockIndex,replace:!0})}paste(e,t,i=!1){const r=this.insert({tool:e,replace:i});try{r.call(Wa.ON_PASTE,t)}catch(s){an(`${e}: onPaste callback call is failed`,"error",s)}return r}insertDefaultBlockAtIndex(e,t=!1){const i=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=i,this.blockDidMutated(C0,i,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,i}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}mergeBlocks(e,t){var i=this;return(0,Te.Z)(function*(){const r=i._blocks.indexOf(t);if(t.isEmpty)return;const s=yield t.data;js(s)||(yield e.mergeWith(s)),i.removeBlock(r),i.currentBlockIndex=i._blocks.indexOf(e)})()}removeBlock(e=this.currentBlockIndex){if(!this.validateIndex(e))throw new Error("Can't find a Block to remove");const t=this._blocks[e];t.destroy(),this._blocks.remove(e),this.blockDidMutated(E0,t,{index:e}),this.currentBlockIndex>=e&&this.currentBlockIndex--,this.blocks.length?0===e&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,this.insert())}removeSelectedBlocks(){let e;for(let t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(t),e=t);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=pe.make("div");t.appendChild(e);const i={text:pe.isEmpty(t)?"":t.innerHTML};return this.insert({data:i})}getBlockByIndex(e){return-1===e&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(t=>t.id===e)}getBlock(e){pe.isElement(e)||(e=e.parentNode);const t=this._blocks.nodes,i=e.closest(`.${Hi.CSS.wrapper}`),r=t.indexOf(i);if(r>=0)return this._blocks[r]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){pe.isElement(e)||(e=e.parentNode);const t=e.closest(`.${Hi.CSS.wrapper}`);if(!t)return;const i=t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);return null!=i&&i.isEqualNode(this.Editor.UI.nodes.wrapper)?(this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock):void 0}getBlockByChildNode(e){pe.isElement(e)||(e=e.parentNode);const t=e.closest(`.${Hi.CSS.wrapper}`);return this.blocks.find(i=>i.holder===t)}swap(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}move(e,t=this.currentBlockIndex){isNaN(e)||isNaN(t)?an("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(e)&&this.validateIndex(t)?(this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated("block-moved",this.currentBlock,{fromIndex:t,toIndex:e})):an("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}clear(e=!1){this._blocks.removeAll(),this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}destroy(){var e=this;return(0,Te.Z)(function*(){yield Promise.all(e.blocks.map(t=>t.destroy()))})()}bindBlockEvents(e){const{BlockEvents:t}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",i=>{t.keydown(i)}),this.readOnlyMutableListeners.on(e.holder,"keyup",i=>{t.keyup(i)}),this.readOnlyMutableListeners.on(e.holder,"dragover",i=>{t.dragOver(i)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",i=>{t.dragLeave(i)}),e.on("didMutated",i=>this.blockDidMutated("block-changed",i,{index:this.getBlockIndex(i)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,t,i){const r=new CustomEvent(e,{detail:{target:new Up(t),...i}});return this.eventsDispatcher.emit(u0,{event:r}),t}},BlockSelection:class VA extends ln{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(t=>!0===t.selected)}set allBlocksSelected(e){const{BlockManager:t}=this.Editor;t.blocks.forEach(i=>{i.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return null===this.anyBlockSelectedCache&&(this.anyBlockSelectedCache=e.blocks.some(t=>!0===t.selected)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new bt,yd.add({name:"CMD+A",handler:e=>{const{BlockManager:t,ReadOnly:i}=this.Editor;if(i.isEnabled)return e.preventDefault(),void this.selectAllBlocks();t.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){bt.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:t}=this.Editor;let i;i=isNaN(e)?t.currentBlock:t.getBlockByIndex(e),i.selected=!1,this.clearCache()}clearSelection(e,t=!1){const{BlockManager:i,Caret:r,RectangleSelection:s}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const u=e&&e instanceof KeyboardEvent,f=u&&oC(e.keyCode);if(this.anyBlockSelected&&u&&f&&!bt.isSelectionExists){const m=i.removeSelectedBlocks();i.insertDefaultBlockAtIndex(m,!0),r.setToBlock(i.currentBlock),fd(()=>{const _=e.key;r.insertContentAtCaretPosition(_.length>1?"":_)},20)()}this.Editor.CrossBlockSelection.clear(e),this.anyBlockSelected&&!s.isRectActivated()?(t&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}copySelectedBlocks(e){e.preventDefault();const t=pe.make("div");this.selectedBlocks.forEach(s=>{const u=qa(s.holder.innerHTML,this.sanitizerConfig),f=pe.make("p");f.innerHTML=u,t.appendChild(f)});const i=Array.from(t.childNodes).map(s=>s.textContent).join("\n\n"),r=t.innerHTML;return e.clipboardData.setData("text/plain",i),e.clipboardData.setData("text/html",r),Promise.all(this.selectedBlocks.map(s=>s.save())).then(s=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(s))}catch{}})}selectBlockByIndex(e){const{BlockManager:t}=this.Editor;let i;t.clearFocused(),i=isNaN(e)?t.currentBlock:t.getBlockByIndex(e),this.selection.save(),bt.get().removeAllRanges(),i.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){yd.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),pe.isNativeInput(e.target)&&!this.readyToBlockSelection)return void(this.readyToBlockSelection=!0);const t=this.Editor.BlockManager.getBlock(e.target).inputs;t.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:1!==t.length||this.needToSelectAll?this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}selectAllBlocks(){this.selection.save(),bt.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},Caret:Kp,CrossBlockSelection:class VC extends ln{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:t,BlockSelection:i}=this.Editor,r=t.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,s=t.getBlockByChildNode(e.target);if(r&&s&&s!==r){if(r===this.firstSelectedBlock)return bt.get().removeAllRanges(),r.selected=!0,s.selected=!0,void i.clearCache();if(s===this.firstSelectedBlock)return r.selected=!1,s.selected=!1,void i.clearCache();this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(r,s),this.lastSelectedBlock=s}}}prepare(){var e=this;return(0,Te.Z)(function*(){e.listeners.on(document,"mousedown",t=>{e.enableCrossBlockSelection(t)})})()}watchSelection(e){if(0!==e.button)return;const{BlockManager:t}=this.Editor;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:t,BlockSelection:i}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,i.clearCache(),bt.get().removeAllRanges());const r=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),s=t.blocks[r];s&&(this.lastSelectedBlock.selected!==s.selected?(s.selected=!0,i.clearCache()):(this.lastSelectedBlock.selected=!1,i.clearCache()),this.lastSelectedBlock=s,this.Editor.InlineToolbar.close(),s.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:t,BlockSelection:i,Caret:r}=this.Editor,s=t.blocks.indexOf(this.firstSelectedBlock),u=t.blocks.indexOf(this.lastSelectedBlock);if(i.anyBlockSelected&&s>-1&&u>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case 40:case 39:default:r.setToBlock(t.blocks[Math.max(s,u)],r.positions.END);break;case 38:case 37:r.setToBlock(t.blocks[Math.min(s,u)],r.positions.START)}else r.setToBlock(t.blocks[Math.max(s,u)],r.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:t}=this.Editor;bt.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,t){const{BlockManager:i,BlockSelection:r}=this.Editor,s=i.blocks.indexOf(e),u=i.blocks.indexOf(t),f=e.selected!==t.selected;for(let m=Math.min(s,u);m<=Math.max(s,u);m++){const _=i.blocks[m];_!==this.firstSelectedBlock&&_!==(f?e:t)&&(i.blocks[m].selected=!i.blocks[m].selected,r.clearCache())}}},DragNDrop:class bo extends ln{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){var e=this;const{UI:t}=this.Editor;this.readOnlyMutableListeners.on(t.nodes.holder,"drop",function(){var i=(0,Te.Z)(function*(r){yield e.processDrop(r)});return function(r){return i.apply(this,arguments)}}(),!0),this.readOnlyMutableListeners.on(t.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(t.nodes.holder,"dragover",i=>{this.processDragOver(i)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}processDrop(e){var t=this;return(0,Te.Z)(function*(){const{BlockManager:i,Caret:r,Paste:s}=t.Editor;e.preventDefault(),i.blocks.forEach(f=>{f.dropTarget=!1}),bt.isAtEditor&&!bt.isCollapsed&&t.isStartedAtEditor&&document.execCommand("delete"),t.isStartedAtEditor=!1;const u=i.setCurrentBlockByChildNode(e.target);if(u)t.Editor.Caret.setToBlock(u,r.positions.END);else{const f=i.setCurrentBlockByChildNode(i.lastBlock.holder);t.Editor.Caret.setToBlock(f,r.positions.END)}yield s.processDataTransfer(e.dataTransfer,!0)})()}processDragStart(){bt.isAtEditor&&!bt.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}},ModificationsObserver:class Zh extends ln{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(i=>{this.redactorChanged(i)}),this.eventsDispatcher.on(u0,i=>{this.particularBlockChanged(i.event)}),this.eventsDispatcher.on(gC,()=>{this.disable()}),this.eventsDispatcher.on(d0,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!ei(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let t;t=1===this.batchingOnChangeQueue.size?this.batchingOnChangeQueue.values().next().value:Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,t),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Km,{mutations:e})}},Paste:HC,ReadOnly:class xO extends ln{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}prepare(){var e=this;return(0,Te.Z)(function*(){const{Tools:t}=e.Editor,{blockTools:i}=t,r=[];Array.from(i.entries()).forEach(([s,u])=>{u.isReadOnlySupported||r.push(s)}),e.toolsDontSupportReadOnly=r,e.config.readOnly&&r.length>0&&e.throwCriticalError(),e.toggle(e.config.readOnly)})()}toggle(e=!this.readOnlyEnabled){var t=this;return(0,Te.Z)(function*(){e&&t.toolsDontSupportReadOnly.length>0&&t.throwCriticalError();const i=t.readOnlyEnabled;t.readOnlyEnabled=e;for(const s in t.Editor)t.Editor[s].toggleReadOnly&&t.Editor[s].toggleReadOnly(e);if(i===e)return t.readOnlyEnabled;const r=yield t.Editor.Saver.save();return yield t.Editor.BlockManager.clear(),yield t.Editor.Renderer.render(r.blocks),t.readOnlyEnabled})()}throwCriticalError(){throw new md(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}},RectangleSelection:ay,Renderer:class jC extends ln{render(e){var t=this;return(0,Te.Z)(function*(){const i=e.map(s=>({function:()=>t.insertBlock(s)}));t.Editor.ModificationsObserver.disable();const r=yield sC(i);return t.Editor.ModificationsObserver.enable(),t.Editor.UI.checkEmptiness(),r})()}insertBlock(e){var t=this;return(0,Te.Z)(function*(){var i;const{Tools:r,BlockManager:s}=t.Editor,{type:u,data:f,tunes:m,id:_}=e;if(r.available.has(u))try{s.insert({id:_,tool:u,data:f,tunes:m})}catch(I){throw an(`Block \xab${u}\xbb skipped because of plugins error`,"warn",{data:f,error:I}),Error(I)}else{const I={savedData:{id:_,type:u,data:f},title:u};if(r.unavailable.has(u)){const N=null==(i=r.unavailable.get(u).toolbox[0])?void 0:i.title;I.title=N||I.title}s.insert({id:_,tool:r.stubTool,data:I}).stretched=!0,an(`Tool \xab${u}\xbb is not found. Check 'tools' property at your initial Editor.js config.`,"warn")}})()}},Saver:class I0 extends ln{save(){var e=this;return(0,Te.Z)(function*(){const{BlockManager:t,Tools:i}=e.Editor,r=t.blocks,s=[];try{r.forEach(m=>{s.push(e.getSavedData(m))});const u=yield Promise.all(s),f=yield p0(u,m=>i.blockTools.get(m).sanitizeConfig);return e.makeOutput(f)}catch(u){ga("Saving failed due to the Error %o","error",u)}})()}getSavedData(e){return(0,Te.Z)(function*(){const t=yield e.save(),i=t&&(yield e.validate(t.data));return{...t,isValid:i}})()}makeOutput(e){let t=0;const i=[];return an("[Editor.js saving]:","groupCollapsed"),e.forEach(({id:r,tool:s,data:u,tunes:f,time:m,isValid:_})=>{if(t+=m,an(`${s.charAt(0).toUpperCase()+s.slice(1)}`,"group"),!_)return an(`Block \xab${s}\xbb skipped because saved data is invalid`),void an(void 0,"groupEnd");if(an(u),an(void 0,"groupEnd"),s===this.Editor.Tools.stubTool)return void i.push(u);const I={id:r,type:s,data:u,...!js(f)&&{tunes:f}};i.push(I)}),an("Total","log",t),an(void 0,"groupEnd"),{time:+new Date,blocks:i,version:"2.27.2"}}},Tools:ZA,UI:class DO extends ln{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=function uA(n,e,t){let i;return(...r)=>{const s=this,f=t&&!i;window.clearTimeout(i),i=window.setTimeout(()=>{i=null,t||n.apply(s,r)},e),f&&n.apply(s,r)}}(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorLoader:"codex-editor__loader",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Hi.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}addLoader(){this.nodes.loader=pe.make("div",this.CSS.editorLoader),this.nodes.wrapper.prepend(this.nodes.loader),this.nodes.redactor.classList.add(this.CSS.editorZoneHidden)}removeLoader(){this.nodes.loader.remove(),this.nodes.redactor.classList.remove(this.CSS.editorZoneHidden)}prepare(){var e=this;return(0,Te.Z)(function*(){e.checkIsMobile(),e.make(),e.addLoader(),e.loadStyles()})()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:t,InlineToolbar:i,ConversionToolbar:r}=this.Editor;return t.opened||i.opened||r.opened||e.toolbox.opened}get someFlipperButtonFocused(){return!!this.Editor.Toolbar.toolbox.hasFocus()||Object.entries(this.Editor).filter(([e,t])=>t.flipper instanceof Za).some(([e,t])=>t.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:t,InlineToolbar:i,ConversionToolbar:r}=this.Editor;t.close(),i.close(),r.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<650}make(){this.nodes.holder=pe.getHolder(this.config.holder),this.nodes.wrapper=pe.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=pe.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(pe.get(e))return;const t=pe.make("style",null,{id:e,textContent:':root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide,.codex-editor__redactor--hidden{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor__loader{position:relative;height:30vh}.codex-editor__loader:before{content:"";position:absolute;left:50%;top:50%;width:30px;height:30px;margin-top:-15px;margin-left:-15px;border-radius:50%;border:2px solid rgba(201,201,204,.48);border-top-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-animation:editor-loader-spin .8s infinite linear;animation:editor-loader-spin .8s infinite linear;will-change:transform}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}::-moz-selection{background-color:#d4ecff}::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}@-webkit-keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes editor-loader-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:150px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;padding:3.5em 0;margin:17px 0;border-radius:3px;background:#fcf7f7;color:#b46262}.ce-stub__info{margin-left:20px}.ce-stub__title{margin-bottom:3px;font-weight:600;font-size:18px;text-transform:capitalize}.ce-stub__subtitle{font-size:16px}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}\n'.toString()});pe.prepend(document.head,t)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",o0(t=>{const i=t.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||i&&e!==i&&(e=i,this.eventsDispatcher.emit(ry,{block:this.Editor.BlockManager.getBlockByChildNode(i)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case 13:this.enterPressed(e);break;case 8:this.backspacePressed(e);break;case 27:this.escapePressed(e);break;default:this.defaultBehaviour(e)}}defaultBehaviour(e){const{currentBlock:t}=this.Editor.BlockManager,i=e.target.closest(`.${this.CSS.editorWrapper}`);void 0===t||null!==i?i||t&&(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(e)}backspacePressed(e){const{BlockManager:t,BlockSelection:i,Caret:r}=this.Editor;if(i.anyBlockSelected&&!bt.isSelectionExists){const s=t.removeSelectedBlocks();r.setToBlock(t.insertDefaultBlockAtIndex(s,!0),r.positions.START),i.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:t,BlockSelection:i}=this.Editor,r=t.currentBlockIndex>=0;if(i.anyBlockSelected&&!bt.isSelectionExists)return i.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),void e.stopPropagation();if(!this.someToolbarOpened&&r&&"BODY"===e.target.tagName){const s=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(s),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const t=e.target;this.nodes.holder.contains(t)||bt.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const i=this.Editor.BlockSettings.nodes.wrapper.contains(t),r=this.Editor.Toolbar.nodes.settingsToggler.contains(t);if(this.Editor.BlockSettings.opened&&!i&&!r){this.Editor.BlockSettings.close();const u=this.Editor.BlockManager.getBlockByChildNode(t);this.Editor.Toolbar.moveAndOpen(u)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let t=e.target;if(t===this.nodes.redactor){const i=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,r=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(i,r)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:t}=this.Editor;if(!bt.isCollapsed)return;const i=()=>{e.stopImmediatePropagation(),e.stopPropagation()},r=e.target,s=e.metaKey||e.ctrlKey;if(pe.isAnchor(r)&&s){i();const I=function hA(n){try{return new URL(n).href}catch{}return"//"===n.substring(0,2)?window.location.protocol+n:window.location.origin+n}(r.getAttribute("href"));return void function uC(n){window.open(n,"_blank")}(I)}const u=this.Editor.BlockManager.getBlockByIndex(-1),f=pe.offset(u.holder).bottom,m=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!t.anyBlockSelected&&f<m){i();const{BlockManager:_,Caret:I,Toolbar:D}=this.Editor;(!_.lastBlock.tool.isDefault||!_.lastBlock.isEmpty)&&_.insertAtEnd(),I.setToTheLastBlock(),D.moveAndOpen(_.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:t}=this.Editor,i=bt.anchorElement;if(e.isCrossBlockSelectionStarted&&t.anyBlockSelected&&bt.get().removeAllRanges(),!i)return void(bt.range||this.Editor.InlineToolbar.close());const r=null===i.closest(`.${Hi.CSS.content}`);r&&(this.Editor.InlineToolbar.containsNode(i)||this.Editor.InlineToolbar.close(),"true"!==i.dataset.inlineToolbar)||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(i),this.Editor.InlineToolbar.tryToShow(!0,!0!==r))}}};class QA{constructor(e){var t=this;let i,r;this.moduleInstances={},this.eventsDispatcher=new Vp,this.isReady=new Promise((s,u)=>{i=s,r=u}),Promise.resolve().then((0,Te.Z)(function*(){t.configuration=e,yield t.validate(),yield t.init(),yield t.start(),ga("I'm ready! (\uff89\u25d5\u30ee\u25d5)\uff89*:\uff65\uff9f\u2727","log","","color: #E24A75"),setTimeout((0,Te.Z)(function*(){if(yield t.render(),t.configuration.autofocus){const{BlockManager:s,Caret:u}=t.moduleInstances;u.setToBlock(s.blocks[0],u.positions.START),s.highlightCurrentNode()}t.moduleInstances.UI.removeLoader(),i()}),500)})).catch(s=>{an(`Editor.js is not ready because of ${s}`,"error"),r(s)})}set configuration(e){var t,i;this.config=gr(e)?{...e}:{holder:e},a0(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),null==this.config.holder&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=e0.VERBOSE),function lA(n){Ll.logLevel=n}(this.config.logLevel),a0(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=void 0!==this.config.minHeight?this.config.minHeight:300;const r={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=void 0===this.config.inlineToolbar||this.config.inlineToolbar,(js(this.config.data)||!this.config.data.blocks||0===this.config.data.blocks.length)&&(this.config.data={blocks:[r]}),this.config.readOnly=this.config.readOnly||!1,null!=(t=this.config.i18n)&&t.messages&&_o.setDictionary(this.config.i18n.messages),this.config.i18n.direction=(null==(i=this.config.i18n)?void 0:i.direction)||"ltr"}get configuration(){return this.config}validate(){var e=this;return(0,Te.Z)(function*(){const{holderId:t,holder:i}=e.config;if(t&&i)throw Error("\xabholderId\xbb and \xabholder\xbb param can't assign at the same time.");if(Hc(i)&&!pe.get(i))throw Error(`element with ID \xab${i}\xbb is missing. Pass correct holder's ID.`);if(i&&gr(i)&&!pe.isElement(i))throw Error("\xabholder\xbb value must be an Element node")})()}init(){this.constructModules(),this.configureModules()}start(){var e=this;return(0,Te.Z)(function*(){yield["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((t,i)=>t.then((0,Te.Z)(function*(){try{yield e.moduleInstances[i].prepare()}catch(r){if(r instanceof md)throw new Error(r.message);an(`Module ${i} was skipped because of %o`,"warn",r)}})),Promise.resolve())})()}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(YA).forEach(([e,t])=>{try{this.moduleInstances[e]=new t({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(i){an("[constructModules]",`Module ${e} skipped because`,"error",i)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const t={};for(const i in this.moduleInstances)i!==e&&(t[i]=this.moduleInstances[i]);return t}}class ZC{static get version(){return"2.27.2"}constructor(e){let t=()=>{};gr(e)&&ei(e.onReady)&&(t=e.onReady);const i=new QA(e);this.isReady=i.isReady.then(()=>{this.exportAPI(i),t()})}exportAPI(e){["configuration"].forEach(r=>{this[r]=e[r]}),this.destroy=()=>{Object.values(e.moduleInstances).forEach(r=>{ei(r.destroy)&&r.destroy(),r.listeners.removeAll()}),e=null;for(const r in this)Object.prototype.hasOwnProperty.call(this,r)&&delete this[r];Object.setPrototypeOf(this,null)},Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([r,s])=>{Object.entries(s).forEach(([u,f])=>{this[f]=e.moduleInstances.API.methods[r][u]})})}}var KC=R(6394),D0=R.n(KC);const JA=["editor"];let A0=(()=>{class n{ngAfterViewInit(){this.initializeEditor()}initializeEditor(){this.editor=new ZC({holder:this.editorElement.nativeElement,tools:{underline:D0()},autofocus:!0,placeholder:"Ones upon a time...",minHeight:0})}renderData(t){var i=this;return(0,Te.Z)(function*(){yield i.editor.isReady,yield i.editor.blocks.render(t)})()}scrapeData(){var t=this;return(0,Te.Z)(function*(){return yield t.editor.save()})()}clear(){this.editor.blocks.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["note-editor"]],viewQuery:function(t,i){if(1&t&&l.Gf(JA,7,l.SBq),2&t){let r;l.iGM(r=l.CRH())&&(i.editorElement=r.first)}},decls:2,vars:0,consts:[[1,"editor"],["editor",""]],template:function(t,i){1&t&&l._UZ(0,"div",0,1)},styles:[".editor[_ngcontent-%COMP%]{background:white;border-radius:10px;height:400px;overflow-y:auto}"]}),n})();class Yp{}class uy{}class Ka{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ka?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ka;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ka?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===s.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ek{encodeKey(e){return k0(e)}encodeValue(e){return k0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const QC=/%(\d[a-f0-9])/gi,JC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function k0(n){return encodeURIComponent(n).replace(QC,(e,t)=>JC[t]??e)}function dy(n){return`${n}`}class jc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ek,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YC(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,f]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],m=t.get(u)||[];m.push(f),t.set(u,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(dy):[dy(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new jc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(dy(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(dy(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class XC{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function tk(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function nk(n){return typeof Blob<"u"&&n instanceof Blob}function ik(n){return typeof FormData<"u"&&n instanceof FormData}class hy{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function AO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ka),this.context||(this.context=new XC),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new jc,this.urlWithParams=t}serializeBody(){return null===this.body?null:tk(this.body)||nk(this.body)||ik(this.body)||function kO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof jc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ik(this.body)?null:nk(this.body)?this.body.type||null:tk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,_=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((D,N)=>D.set(N,e.setHeaders[N]),m)),e.setParams&&(_=Object.keys(e.setParams).reduce((D,N)=>D.set(N,e.setParams[N]),_)),new hy(t,i,s,{params:_,headers:m,context:I,reportProgress:f,responseType:r,withCredentials:u})}}var $c=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}($c||{});class eI{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ka,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class tI extends eI{constructor(e={}){super(e),this.type=$c.ResponseHeader}clone(e={}){return new tI({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _d extends eI{constructor(e={}){super(e),this.type=$c.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new _d({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fy extends eI{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function py(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let nI=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof hy)s=t;else{let m,_;m=r.headers instanceof Ka?r.headers:new Ka(r.headers),r.params&&(_=r.params instanceof jc?r.params:new jc({fromObject:r.params})),s=new hy(t,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=(0,Et.of)(s).pipe(ho(m=>this.handler.handle(m)));if(t instanceof hy||"events"===r.observe)return u;const f=u.pipe(Gr(m=>m instanceof _d));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe((0,tn.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,tn.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,tn.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,tn.U)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new jc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,py(r,i))}post(t,i,r={}){return this.request("POST",t,py(r,i))}put(t,i,r={}){return this.request("PUT",t,py(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function iI(n,e){return e(n)}function sk(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const ak=new l.OlP(""),Yh=new l.OlP(""),N0=new l.OlP("");function OO(){let n=null;return(e,t)=>{null===n&&(n=((0,l.f3M)(ak,{optional:!0})??[]).reduceRight(sk,iI));const i=(0,l.f3M)(l.HDt),r=i.add();return n(e,t).pipe(Ho(()=>i.remove(r)))}}let zs=(()=>{class n extends Yp{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=(0,l.f3M)(l.HDt)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Yh),...this.injector.get(N0,[])]));this.chain=r.reduceRight((s,u)=>function NO(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(s,u,this.injector),iI)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Ho(()=>this.pendingTasks.remove(i)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uy),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const hk=/^\)\]\}',?\n/;let O0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new l.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,Bn.D)(i.\u0275loadImpl()):(0,Et.of)(null)).pipe((0,di.w)(()=>new Vi.y(s=>{const u=i.build();if(u.open(t.method,t.urlWithParams),t.withCredentials&&(u.withCredentials=!0),t.headers.forEach((q,ie)=>u.setRequestHeader(q,ie.join(","))),t.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const q=t.detectContentTypeHeader();null!==q&&u.setRequestHeader("Content-Type",q)}if(t.responseType){const q=t.responseType.toLowerCase();u.responseType="json"!==q?q:"text"}const f=t.serializeBody();let m=null;const _=()=>{if(null!==m)return m;const q=u.statusText||"OK",ie=new Ka(u.getAllResponseHeaders()),Re=function sI(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(u)||t.url;return m=new tI({headers:ie,status:u.status,statusText:q,url:Re}),m},I=()=>{let{headers:q,status:ie,statusText:Re,url:qe}=_(),Se=null;204!==ie&&(Se=typeof u.response>"u"?u.responseText:u.response),0===ie&&(ie=Se?200:0);let Oe=ie>=200&&ie<300;if("json"===t.responseType&&"string"==typeof Se){const Ze=Se;Se=Se.replace(hk,"");try{Se=""!==Se?JSON.parse(Se):null}catch(it){Se=Ze,Oe&&(Oe=!1,Se={error:it,text:Se})}}Oe?(s.next(new _d({body:Se,headers:q,status:ie,statusText:Re,url:qe||void 0})),s.complete()):s.error(new fy({error:Se,headers:q,status:ie,statusText:Re,url:qe||void 0}))},D=q=>{const{url:ie}=_(),Re=new fy({error:q,status:u.status||0,statusText:u.statusText||"Unknown Error",url:ie||void 0});s.error(Re)};let N=!1;const U=q=>{N||(s.next(_()),N=!0);let ie={type:$c.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(ie.total=q.total),"text"===t.responseType&&u.responseText&&(ie.partialText=u.responseText),s.next(ie)},B=q=>{let ie={type:$c.UploadProgress,loaded:q.loaded};q.lengthComputable&&(ie.total=q.total),s.next(ie)};return u.addEventListener("load",I),u.addEventListener("error",D),u.addEventListener("timeout",D),u.addEventListener("abort",D),t.reportProgress&&(u.addEventListener("progress",U),null!==f&&u.upload&&u.upload.addEventListener("progress",B)),u.send(f),s.next({type:$c.Sent}),()=>{u.removeEventListener("error",D),u.removeEventListener("abort",D),u.removeEventListener("load",I),u.removeEventListener("timeout",D),t.reportProgress&&(u.removeEventListener("progress",U),null!==f&&u.upload&&u.upload.removeEventListener("progress",B)),u.readyState!==u.DONE&&u.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ro))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const my=new l.OlP("XSRF_ENABLED"),lI=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),uI=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yy{}let zc=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ko(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(l.Lbi),l.LFG(lI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function dI(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(my)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,l.f3M)(yy).getToken(),r=(0,l.f3M)(uI);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Ya=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ya||{});function bd(n,e){return{\u0275kind:n,\u0275providers:e}}function FO(...n){const e=[nI,O0,zs,{provide:Yp,useExisting:zs},{provide:uy,useExisting:O0},{provide:Yh,useValue:dI,multi:!0},{provide:my,useValue:!0},{provide:yy,useClass:zc}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const fI=new l.OlP("LEGACY_INTERCEPTOR_FN");let pI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[FO(bd(Ya.LegacyInterceptors,[{provide:fI,useFactory:OO},{provide:Yh,useExisting:fI,multi:!0}]))]}),n})(),Jp=(()=>{class n extends $o{constructor(...t){super(...t),x(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Us()+")"}}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["PlusIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0)(1,"g"),l._UZ(2,"path",1),l.qZA(),l.TgZ(3,"defs")(4,"clipPath",2),l._UZ(5,"rect",3),l.qZA()()()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l.xp6(1),l.uIk("clip-path",i.pathId),l.xp6(3),l.Q6J("id",i.pathId))},encapsulation:2})),n})(),R0=(()=>{class n extends $o{constructor(...t){super(...t),x(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Us()+")"}}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["UploadIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.58942 9.82197C6.70165 9.93405 6.85328 9.99793 7.012 10C7.17071 9.99793 7.32234 9.93405 7.43458 9.82197C7.54681 9.7099 7.61079 9.55849 7.61286 9.4V2.04798L9.79204 4.22402C9.84752 4.28011 9.91365 4.32457 9.98657 4.35479C10.0595 4.38502 10.1377 4.40039 10.2167 4.40002C10.2956 4.40039 10.3738 4.38502 10.4467 4.35479C10.5197 4.32457 10.5858 4.28011 10.6413 4.22402C10.7538 4.11152 10.817 3.95902 10.817 3.80002C10.817 3.64102 10.7538 3.48852 10.6413 3.37602L7.45127 0.190618C7.44656 0.185584 7.44176 0.180622 7.43687 0.175736C7.32419 0.063214 7.17136 0 7.012 0C6.85264 0 6.69981 0.063214 6.58712 0.175736C6.58181 0.181045 6.5766 0.186443 6.5715 0.191927L3.38282 3.37602C3.27669 3.48976 3.2189 3.6402 3.22165 3.79564C3.2244 3.95108 3.28746 4.09939 3.39755 4.20932C3.50764 4.31925 3.65616 4.38222 3.81182 4.38496C3.96749 4.3877 4.11814 4.33001 4.23204 4.22402L6.41113 2.04807V9.4C6.41321 9.55849 6.47718 9.7099 6.58942 9.82197ZM11.9952 14H2.02883C1.751 13.9887 1.47813 13.9228 1.22584 13.8061C0.973545 13.6894 0.746779 13.5241 0.558517 13.3197C0.370254 13.1154 0.22419 12.876 0.128681 12.6152C0.0331723 12.3545 -0.00990605 12.0775 0.0019109 11.8V9.40005C0.0019109 9.24092 0.065216 9.08831 0.1779 8.97579C0.290584 8.86326 0.443416 8.80005 0.602775 8.80005C0.762134 8.80005 0.914966 8.86326 1.02765 8.97579C1.14033 9.08831 1.20364 9.24092 1.20364 9.40005V11.8C1.18295 12.0376 1.25463 12.274 1.40379 12.4602C1.55296 12.6463 1.76817 12.7681 2.00479 12.8H11.9952C12.2318 12.7681 12.447 12.6463 12.5962 12.4602C12.7453 12.274 12.817 12.0376 12.7963 11.8V9.40005C12.7963 9.24092 12.8596 9.08831 12.9723 8.97579C13.085 8.86326 13.2378 8.80005 13.3972 8.80005C13.5565 8.80005 13.7094 8.86326 13.8221 8.97579C13.9347 9.08831 13.998 9.24092 13.998 9.40005V11.8C14.022 12.3563 13.8251 12.8996 13.45 13.3116C13.0749 13.7236 12.552 13.971 11.9952 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0)(1,"g"),l._UZ(2,"path",1),l.qZA(),l.TgZ(3,"defs")(4,"clipPath",2),l._UZ(5,"rect",3),l.qZA()()()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l.xp6(1),l.uIk("clip-path",i.pathId),l.xp6(3),l.Q6J("id",i.pathId))},encapsulation:2})),n})();var _I=R(6321),vk=R(671);function bI(n,e){if(1&n&&l._UZ(0,"span"),2&n){const t=l.oxw().$implicit;l.Tol("p-message-icon pi "+t.icon)}}function bk(n,e){1&n&&l._UZ(0,"CheckIcon")}function wk(n,e){1&n&&l._UZ(0,"InfoCircleIcon")}function jO(n,e){1&n&&l._UZ(0,"TimesCircleIcon")}function $O(n,e){1&n&&l._UZ(0,"ExclamationTriangleIcon")}function zO(n,e){if(1&n&&(l.TgZ(0,"span",10),l.ynx(1),l.YNc(2,bk,1,0,"CheckIcon",11),l.YNc(3,wk,1,0,"InfoCircleIcon",11),l.YNc(4,jO,1,0,"TimesCircleIcon",11),l.YNc(5,$O,1,0,"ExclamationTriangleIcon",11),l.BQk(),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(2),l.Q6J("ngIf","success"===t.severity),l.xp6(1),l.Q6J("ngIf","info"===t.severity),l.xp6(1),l.Q6J("ngIf","error"===t.severity),l.xp6(1),l.Q6J("ngIf","warn"===t.severity)}}function wI(n,e){if(1&n&&l._UZ(0,"span",14),2&n){const t=l.oxw(2).$implicit;l.Q6J("innerHTML",t.summary,l.oJD)}}function Ek(n,e){if(1&n&&l._UZ(0,"span",15),2&n){const t=l.oxw(2).$implicit;l.Q6J("innerHTML",t.detail,l.oJD)}}function Ck(n,e){if(1&n&&(l.ynx(0),l.YNc(1,wI,1,1,"span",12),l.YNc(2,Ek,1,1,"span",13),l.BQk()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngIf",t.summary),l.xp6(1),l.Q6J("ngIf",t.detail)}}function Ik(n,e){if(1&n&&(l.TgZ(0,"span",18),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit;l.xp6(1),l.Oqu(t.summary)}}function GO(n,e){if(1&n&&(l.TgZ(0,"span",19),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit;l.xp6(1),l.Oqu(t.detail)}}function WO(n,e){if(1&n&&(l.YNc(0,Ik,2,1,"span",16),l.YNc(1,GO,2,1,"span",17)),2&n){const t=l.oxw().$implicit;l.Q6J("ngIf",t.summary),l.xp6(1),l.Q6J("ngIf",t.detail)}}function qO(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",20),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().index,s=l.oxw(2);return l.KtG(s.removeMessage(r))}),l._UZ(1,"TimesIcon",21),l.qZA()}2&n&&(l.xp6(1),l.Q6J("styleClass","p-message-close-icon"))}const ZO=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},KO=function(n){return{value:"visible",params:n}};function Tk(n,e){if(1&n&&(l.TgZ(0,"div",4)(1,"div",5),l.YNc(2,bI,1,2,"span",6),l.YNc(3,zO,6,4,"span",7),l.YNc(4,Ck,3,2,"ng-container",1),l.YNc(5,WO,2,2,"ng-template",null,8,l.W1O),l.YNc(7,qO,2,1,"button",9),l.qZA()()),2&n){const t=e.$implicit,i=l.MAs(6),r=l.oxw(2);l.Tol("p-message p-message-"+t.severity),l.Q6J("@messageAnimation",l.VKq(11,KO,l.WLB(8,ZO,r.showTransitionOptions,r.hideTransitionOptions))),l.xp6(2),l.Q6J("ngIf",t.icon),l.xp6(1),l.Q6J("ngIf",!t.icon),l.xp6(1),l.Q6J("ngIf",!r.escape)("ngIfElse",i),l.xp6(3),l.Q6J("ngIf",r.closable)}}function vy(n,e){if(1&n&&(l.ynx(0),l.YNc(1,Tk,8,13,"div",3),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.messages)}}function Sk(n,e){1&n&&l.GkF(0)}function xk(n,e){if(1&n&&(l.TgZ(0,"div",22)(1,"div",5),l.YNc(2,Sk,1,0,"ng-container",23),l.qZA()()),2&n){const t=l.oxw();l.Q6J("ngClass","p-message p-message-"+t.severity),l.xp6(2),l.Q6J("ngTemplateOutlet",t.contentTemplate)}}let EI=(()=>{class n{set value(t){this.messages=t,this.startMessageLifes(this.messages)}constructor(t,i,r){x(this,"messageService",void 0),x(this,"el",void 0),x(this,"cd",void 0),x(this,"closable",!0),x(this,"style",void 0),x(this,"styleClass",void 0),x(this,"enableService",!0),x(this,"key",void 0),x(this,"escape",!0),x(this,"severity",void 0),x(this,"showTransitionOptions","300ms ease-out"),x(this,"hideTransitionOptions","200ms cubic-bezier(0.86, 0, 0.07, 1)"),x(this,"valueChange",new l.vpe),x(this,"templates",void 0),x(this,"messages",void 0),x(this,"messageSubscription",void 0),x(this,"clearSubscription",void 0),x(this,"timerSubscriptions",[]),x(this,"contentTemplate",void 0),this.messageService=t,this.el=i,this.cd=r}ngAfterContentInit(){this.templates?.forEach(t=>{t.getType(),this.contentTemplate=t.template}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t){Array.isArray(t)||(t=[t]);const i=t.filter(r=>this.key===r.key);this.messages=this.messages?[...this.messages,...i]:[...i],this.startMessageLifes(i),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let t=this.el.nativeElement.parentElement;return!(!t||!t.offsetParent)&&(null!=this.contentTemplate||this.messages&&this.messages.length>0)}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(t){this.messages=this.messages?.filter((i,r)=>r!==t),this.valueChange.emit(this.messages)}get icon(){const t=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(t){case"success":return"pi-check";case"info":default:return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle"}return null}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(t=>t.unsubscribe())}startMessageLifes(t){t?.forEach(i=>i.life&&this.startMessageLife(i))}startMessageLife(t){const i=function HO(n=0,e,t=_I.P){let i=-1;return null!=e&&((0,vk.K)(e)?t=e:i=e),new Vi.y(r=>{let s=function _k(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(t.life).subscribe(()=>{this.messages=this.messages?.filter(r=>r!==t),this.timerSubscriptions=this.timerSubscriptions?.filter(r=>r!==i),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(i)}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(Tc,8),l.Y36(l.SBq),l.Y36(l.sBO))}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-messages"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,Rs,4),2&t){let s;l.iGM(s=l.CRH())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:"closable",style:"style",styleClass:"styleClass",enableService:"enableService",key:"key",escape:"escape",severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange"},decls:4,vars:5,consts:[["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["staticMessage",""],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["escapeOut",""],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(t,i){if(1&t&&(l.TgZ(0,"div",0),l.YNc(1,vy,2,1,"ng-container",1),l.YNc(2,xk,3,2,"ng-template",null,2,l.W1O),l.qZA()),2&t){const r=l.MAs(3);l.Tol(i.styleClass),l.Q6J("ngStyle",i.style),l.xp6(1),l.Q6J("ngIf",!i.contentTemplate)("ngIfElse",r)}},dependencies:function(){return[Ni,ai,li,wr,dr,Fc,Um,Hm,jm,Vc,Ga]},styles:[".p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}\n"],encapsulation:2,data:{animation:[Pp("messageAnimation",[Rl(":enter",[Vs({opacity:0,transform:"translateY(-25%)"}),Ol("{{showTransitionParams}}")]),Rl(":leave",[Ol("{{hideTransitionParams}}",Vs({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})),n})(),Gc=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn,Hh,Um,Hm,jm,Vc,Ga]})),n})();function CI(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Udp("display",null!=t.value&&0!==t.value?"flex":"none"),l.uIk("data-pc-section","label"),l.xp6(1),l.AsE("",t.value,"",t.unit,"")}}function L0(n,e){if(1&n&&(l.TgZ(0,"div",3),l.YNc(1,CI,2,5,"div",4),l.qZA()),2&n){const t=l.oxw();l.Udp("width",t.value+"%")("background",t.color),l.uIk("data-pc-section","value"),l.xp6(1),l.Q6J("ngIf",t.showValue)}}function F0(n,e){if(1&n&&(l.TgZ(0,"div",6),l._UZ(1,"div",7),l.qZA()),2&n){const t=l.oxw();l.uIk("data-pc-section","container"),l.xp6(1),l.Udp("background",t.color),l.uIk("data-pc-section","value")}}const Dk=function(n,e){return{"p-progressbar p-component":!0,"p-progressbar-determinate":n,"p-progressbar-indeterminate":e}};let B0=(()=>{class n{constructor(){x(this,"value",void 0),x(this,"showValue",!0),x(this,"styleClass",void 0),x(this,"style",void 0),x(this,"unit","%"),x(this,"mode","determinate"),x(this,"color",void 0)}}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width","background",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,L0,2,6,"div",1),l.YNc(2,F0,2,4,"div",2),l.qZA()),2&t&&(l.Tol(i.styleClass),l.Q6J("ngStyle",i.style)("ngClass",l.WLB(11,Dk,"determinate"===i.mode,"indeterminate"===i.mode)),l.uIk("aria-valuemin",0)("aria-valuenow",i.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),l.xp6(1),l.Q6J("ngIf","determinate"===i.mode),l.xp6(1),l.Q6J("ngIf","indeterminate"===i.mode))},dependencies:[Ni,li,dr],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})),n})(),_y=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn]})),n})();const by=["advancedfileinput"],YO=["basicfileinput"],QO=["content"];function JO(n,e){if(1&n&&l._UZ(0,"span",18),2&n){const t=l.oxw(2);l.Tol(t.chooseIcon),l.Q6J("ngClass","p-button-icon p-button-icon-left")}}function II(n,e){1&n&&l._UZ(0,"PlusIcon",21),2&n&&l.Q6J("styleClass","p-button-icon p-button-icon-left")}function Ak(n,e){}function kk(n,e){1&n&&l.YNc(0,Ak,0,0,"ng-template")}function Mk(n,e){if(1&n&&(l.TgZ(0,"span",22),l.YNc(1,kk,1,0,null,11),l.qZA()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngTemplateOutlet",t.chooseIconTemplate)}}function Pk(n,e){if(1&n&&(l.ynx(0),l.YNc(1,II,1,1,"PlusIcon",19),l.YNc(2,Mk,2,1,"span",20),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!t.chooseIconTemplate),l.xp6(1),l.Q6J("ngIf",t.chooseIconTemplate)}}function TI(n,e){if(1&n&&l._UZ(0,"span",18),2&n){const t=l.oxw(3);l.Q6J("ngClass",t.uploadIcon)}}function SI(n,e){1&n&&l._UZ(0,"UploadIcon",21),2&n&&l.Q6J("styleClass","p-button-icon p-button-icon-left")}function xI(n,e){}function Nk(n,e){1&n&&l.YNc(0,xI,0,0,"ng-template")}function Ok(n,e){if(1&n&&(l.TgZ(0,"span",22),l.YNc(1,Nk,1,0,null,11),l.qZA()),2&n){const t=l.oxw(4);l.xp6(1),l.Q6J("ngTemplateOutlet",t.uploadIconTemplate)}}function DI(n,e){if(1&n&&(l.ynx(0),l.YNc(1,SI,1,1,"UploadIcon",19),l.YNc(2,Ok,2,1,"span",20),l.BQk()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngIf",!t.uploadIconTemplate),l.xp6(1),l.Q6J("ngIf",t.uploadIconTemplate)}}function V0(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"p-button",23),l.NdJ("onClick",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.upload())}),l.YNc(1,TI,1,1,"span",24),l.YNc(2,DI,3,2,"ng-container",8),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("label",t.uploadButtonLabel)("disabled",!t.hasFiles()||t.isFileLimitExceeded())("styleClass",t.uploadStyleClass),l.xp6(1),l.Q6J("ngIf",t.uploadIcon),l.xp6(1),l.Q6J("ngIf",!t.uploadIcon)}}function XO(n,e){if(1&n&&l._UZ(0,"span",18),2&n){const t=l.oxw(3);l.Q6J("ngClass",t.cancelIcon)}}function AI(n,e){1&n&&l._UZ(0,"TimesIcon",21),2&n&&l.Q6J("styleClass","p-button-icon p-button-icon-left")}function U0(n,e){}function Rk(n,e){1&n&&l.YNc(0,U0,0,0,"ng-template")}function Lk(n,e){if(1&n&&(l.TgZ(0,"span",22),l.YNc(1,Rk,1,0,null,11),l.qZA()),2&n){const t=l.oxw(4);l.xp6(1),l.Q6J("ngTemplateOutlet",t.cancelIconTemplate)}}function eR(n,e){if(1&n&&(l.ynx(0),l.YNc(1,AI,1,1,"TimesIcon",19),l.YNc(2,Lk,2,1,"span",20),l.BQk()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngIf",!t.cancelIconTemplate),l.xp6(1),l.Q6J("ngIf",t.cancelIconTemplate)}}function tR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"p-button",23),l.NdJ("onClick",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.clear())}),l.YNc(1,XO,1,1,"span",24),l.YNc(2,eR,3,2,"ng-container",8),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("label",t.cancelButtonLabel)("disabled",!t.hasFiles()||t.uploading)("styleClass",t.cancelStyleClass),l.xp6(1),l.Q6J("ngIf",t.cancelIcon),l.xp6(1),l.Q6J("ngIf",!t.cancelIcon)}}function Fk(n,e){1&n&&l.GkF(0)}function Bk(n,e){if(1&n&&l._UZ(0,"p-progressBar",25),2&n){const t=l.oxw(2);l.Q6J("value",t.progress)("showValue",!1)}}function Vk(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"img",32),l.NdJ("error",function(r){l.CHM(t);const s=l.oxw(5);return l.KtG(s.imageError(r))}),l.qZA()}if(2&n){const t=l.oxw().$implicit,i=l.oxw(4);l.Q6J("src",t.objectURL,l.LSH)("width",i.previewWidth)}}function Uk(n,e){1&n&&l._UZ(0,"TimesIcon")}function kI(n,e){}function MI(n,e){1&n&&l.YNc(0,kI,0,0,"ng-template")}function nR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",28)(1,"div"),l.YNc(2,Vk,1,2,"img",29),l.qZA(),l.TgZ(3,"div",30),l._uU(4),l.qZA(),l.TgZ(5,"div"),l._uU(6),l.qZA(),l.TgZ(7,"div")(8,"button",31),l.NdJ("click",function(r){const u=l.CHM(t).index,f=l.oxw(4);return l.KtG(f.remove(r,u))}),l.YNc(9,Uk,1,0,"TimesIcon",8),l.YNc(10,MI,1,0,null,11),l.qZA()()()}if(2&n){const t=e.$implicit,i=l.oxw(4);l.xp6(2),l.Q6J("ngIf",i.isImage(t)),l.xp6(2),l.Oqu(t.name),l.xp6(2),l.Oqu(i.formatSize(t.size)),l.xp6(2),l.Tol(i.removeStyleClass),l.Q6J("disabled",i.uploading),l.xp6(1),l.Q6J("ngIf",!i.cancelIconTemplate),l.xp6(1),l.Q6J("ngTemplateOutlet",i.cancelIconTemplate)}}function Hk(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,nR,11,8,"div",27),l.qZA()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",t.files)}}function H0(n,e){}function PI(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,H0,0,0,"ng-template",33),l.qZA()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",t.files)("ngForTemplate",t.fileTemplate)}}function NI(n,e){if(1&n&&(l.TgZ(0,"div",26),l.YNc(1,Hk,2,1,"div",8),l.YNc(2,PI,2,2,"div",8),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!t.fileTemplate),l.xp6(1),l.Q6J("ngIf",t.fileTemplate)}}function jk(n,e){1&n&&l.GkF(0)}const j0=function(n,e){return{"p-focus":n,"p-disabled":e}},$k=function(n){return{$implicit:n}};function zk(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"div",3)(2,"span",4),l.NdJ("focus",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.onFocus())})("blur",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.onBlur())})("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.choose())})("keydown.enter",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.choose())}),l.TgZ(3,"input",5,6),l.NdJ("change",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onFileSelect(r))}),l.qZA(),l.YNc(5,JO,1,3,"span",7),l.YNc(6,Pk,3,2,"ng-container",8),l.TgZ(7,"span",9),l._uU(8),l.qZA()(),l.YNc(9,V0,3,5,"p-button",10),l.YNc(10,tR,3,5,"p-button",10),l.YNc(11,Fk,1,0,"ng-container",11),l.qZA(),l.TgZ(12,"div",12,13),l.NdJ("dragenter",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onDragEnter(r))})("dragleave",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onDragLeave(r))})("drop",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onDrop(r))}),l.YNc(14,Bk,1,2,"p-progressBar",14),l._UZ(15,"p-messages",15),l.YNc(16,NI,3,2,"div",16),l.YNc(17,jk,1,0,"ng-container",17),l.qZA()()}if(2&n){const t=l.oxw();l.Tol(t.styleClass),l.Q6J("ngClass","p-fileupload p-fileupload-advanced p-component")("ngStyle",t.style),l.xp6(2),l.Tol(t.chooseStyleClass),l.Q6J("ngClass",l.WLB(23,j0,t.focus,t.disabled||t.isChooseDisabled())),l.xp6(1),l.Q6J("multiple",t.multiple)("accept",t.accept)("disabled",t.disabled||t.isChooseDisabled()),l.uIk("title",""),l.xp6(2),l.Q6J("ngIf",t.chooseIcon),l.xp6(1),l.Q6J("ngIf",!t.chooseIcon),l.xp6(2),l.Oqu(t.chooseButtonLabel),l.xp6(1),l.Q6J("ngIf",!t.auto&&t.showUploadButton),l.xp6(1),l.Q6J("ngIf",!t.auto&&t.showCancelButton),l.xp6(1),l.Q6J("ngTemplateOutlet",t.toolbarTemplate),l.xp6(3),l.Q6J("ngIf",t.hasFiles()),l.xp6(1),l.Q6J("value",t.msgs)("enableService",!1),l.xp6(1),l.Q6J("ngIf",t.hasFiles()),l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",l.VKq(26,$k,t.files))}}function OI(n,e){if(1&n&&l._UZ(0,"span",41),2&n){const t=l.oxw(3);l.Q6J("ngClass",t.uploadIcon)}}function RI(n,e){1&n&&l._UZ(0,"UploadIcon",21),2&n&&l.Q6J("styleClass","p-button-icon p-button-icon-left")}function iR(n,e){}function Gk(n,e){1&n&&l.YNc(0,iR,0,0,"ng-template")}function wy(n,e){if(1&n&&(l.TgZ(0,"span",22),l.YNc(1,Gk,1,0,null,11),l.qZA()),2&n){const t=l.oxw(4);l.xp6(1),l.Q6J("ngTemplateOutlet",t.uploadIconTemplate)}}function rR(n,e){if(1&n&&(l.ynx(0),l.YNc(1,RI,1,1,"UploadIcon",19),l.YNc(2,wy,2,1,"span",20),l.BQk()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngIf",!t.uploadIconTemplate),l.xp6(1),l.Q6J("ngIf",t.uploadIconTemplate)}}function Wk(n,e){if(1&n&&(l.ynx(0),l.YNc(1,OI,1,1,"span",40),l.YNc(2,rR,3,2,"ng-container",8),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.uploadIcon),l.xp6(1),l.Q6J("ngIf",!t.uploadIcon)}}function oR(n,e){if(1&n&&l._UZ(0,"span",43),2&n){const t=l.oxw(3);l.Q6J("ngClass",t.chooseIcon)}}function sR(n,e){1&n&&l._UZ(0,"PlusIcon",21),2&n&&l.Q6J("styleClass","p-button-icon p-button-icon-left pi")}function qk(n,e){}function aR(n,e){1&n&&l.YNc(0,qk,0,0,"ng-template")}function lR(n,e){if(1&n&&(l.TgZ(0,"span",45),l.YNc(1,aR,1,0,null,11),l.qZA()),2&n){const t=l.oxw(4);l.xp6(1),l.Q6J("ngTemplateOutlet",t.chooseIconTemplate)}}function cR(n,e){if(1&n&&(l.ynx(0),l.YNc(1,sR,1,1,"PlusIcon",19),l.YNc(2,lR,2,1,"span",44),l.BQk()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngIf",!t.chooseIconTemplate),l.xp6(1),l.Q6J("ngIf",t.chooseIconTemplate)}}function uR(n,e){if(1&n&&(l.YNc(0,oR,1,1,"span",42),l.YNc(1,cR,3,2,"ng-container",8)),2&n){const t=l.oxw(2);l.Q6J("ngIf",t.chooseIcon),l.xp6(1),l.Q6J("ngIf",!t.chooseIcon)}}function dR(n,e){if(1&n&&(l.TgZ(0,"span",9),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.basicButtonLabel)}}function Zk(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"input",46,47),l.NdJ("change",function(r){l.CHM(t);const s=l.oxw(2);return l.KtG(s.onFileSelect(r))})("focus",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.onFocus())})("blur",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.onBlur())}),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("accept",t.accept)("multiple",t.multiple)("disabled",t.disabled)}}const hR=function(n,e,t,i){return{"p-button p-component p-fileupload-choose":!0,"p-button-icon-only":n,"p-fileupload-choose-selected":e,"p-focus":t,"p-disabled":i}};function fR(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",34),l._UZ(1,"p-messages",15),l.TgZ(2,"span",35),l.NdJ("mouseup",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.onBasicUploaderClick())})("keydown",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onBasicKeydown(r))}),l.YNc(3,Wk,3,2,"ng-container",36),l.YNc(4,uR,2,2,"ng-template",null,37,l.W1O),l.YNc(6,dR,2,1,"span",38),l.YNc(7,Zk,2,3,"input",39),l.qZA()()}if(2&n){const t=l.MAs(5),i=l.oxw();l.xp6(1),l.Q6J("value",i.msgs)("enableService",!1),l.xp6(1),l.Tol(i.styleClass),l.Q6J("ngClass",l.l5B(10,hR,!i.basicButtonLabel,i.hasFiles(),i.focus,i.disabled))("ngStyle",i.style),l.xp6(1),l.Q6J("ngIf",i.hasFiles()&&!i.auto)("ngIfElse",t),l.xp6(3),l.Q6J("ngIf",i.basicButtonLabel),l.xp6(1),l.Q6J("ngIf",!i.hasFiles())}}let pR=(()=>{class n{set files(t){this._files=[];for(let i=0;i<t.length;i++){let r=t[i];this.validate(r)&&(this.isImage(r)&&(r.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t[i]))),this._files.push(t[i]))}}get files(){return this._files}get basicButtonLabel(){return this.auto||!this.hasFiles()?this.chooseLabel:this.uploadLabel??this.files[0].name}constructor(t,i,r,s,u,f,m,_,I){x(this,"document",void 0),x(this,"platformId",void 0),x(this,"renderer",void 0),x(this,"el",void 0),x(this,"sanitizer",void 0),x(this,"zone",void 0),x(this,"http",void 0),x(this,"cd",void 0),x(this,"config",void 0),x(this,"name",void 0),x(this,"url",void 0),x(this,"method","post"),x(this,"multiple",void 0),x(this,"accept",void 0),x(this,"disabled",void 0),x(this,"auto",void 0),x(this,"withCredentials",void 0),x(this,"maxFileSize",void 0),x(this,"invalidFileSizeMessageSummary","{0}: Invalid file size, "),x(this,"invalidFileSizeMessageDetail","maximum upload size is {0}."),x(this,"invalidFileTypeMessageSummary","{0}: Invalid file type, "),x(this,"invalidFileTypeMessageDetail","allowed file types: {0}."),x(this,"invalidFileLimitMessageDetail","limit is {0} at most."),x(this,"invalidFileLimitMessageSummary","Maximum number of files exceeded, "),x(this,"style",void 0),x(this,"styleClass",void 0),x(this,"previewWidth",50),x(this,"chooseLabel",void 0),x(this,"uploadLabel",void 0),x(this,"cancelLabel",void 0),x(this,"chooseIcon",void 0),x(this,"uploadIcon",void 0),x(this,"cancelIcon",void 0),x(this,"showUploadButton",!0),x(this,"showCancelButton",!0),x(this,"mode","advanced"),x(this,"headers",void 0),x(this,"customUpload",void 0),x(this,"fileLimit",void 0),x(this,"uploadStyleClass",void 0),x(this,"cancelStyleClass",void 0),x(this,"removeStyleClass",void 0),x(this,"chooseStyleClass",void 0),x(this,"onBeforeUpload",new l.vpe),x(this,"onSend",new l.vpe),x(this,"onUpload",new l.vpe),x(this,"onError",new l.vpe),x(this,"onClear",new l.vpe),x(this,"onRemove",new l.vpe),x(this,"onSelect",new l.vpe),x(this,"onProgress",new l.vpe),x(this,"uploadHandler",new l.vpe),x(this,"onImageError",new l.vpe),x(this,"templates",void 0),x(this,"advancedFileInput",void 0),x(this,"basicFileInput",void 0),x(this,"content",void 0),x(this,"_files",[]),x(this,"progress",0),x(this,"dragHighlight",void 0),x(this,"msgs",void 0),x(this,"fileTemplate",void 0),x(this,"contentTemplate",void 0),x(this,"toolbarTemplate",void 0),x(this,"chooseIconTemplate",void 0),x(this,"uploadIconTemplate",void 0),x(this,"cancelIconTemplate",void 0),x(this,"uploadedFileCount",0),x(this,"focus",void 0),x(this,"uploading",void 0),x(this,"duplicateIEEvent",void 0),x(this,"translationSubscription",void 0),x(this,"dragOverListener",void 0),this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.sanitizer=u,this.zone=f,this.http=m,this.cd=_,this.config=I}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"file":default:this.fileTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"toolbar":this.toolbarTemplate=t.template;break;case"chooseicon":this.chooseIconTemplate=t.template;break;case"uploadicon":this.uploadIconTemplate=t.template;break;case"cancelicon":this.cancelIconTemplate=t.template}})}ngOnInit(){this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){Er(this.platformId)&&"advanced"===this.mode&&this.zone.runOutsideAngular(()=>{this.content&&(this.dragOverListener=this.renderer.listen(this.content.nativeElement,"dragover",this.onDragOver.bind(this)))})}choose(){this.advancedFileInput?.nativeElement.click()}onFileSelect(t){if("drop"!==t.type&&this.isIE11()&&this.duplicateIEEvent)return void(this.duplicateIEEvent=!1);this.msgs=[],this.multiple||(this.files=[]);let i=t.dataTransfer?t.dataTransfer.files:t.target.files;for(let r=0;r<i.length;r++){let s=i[r];this.isFileSelected(s)||this.validate(s)&&(this.isImage(s)&&(s.objectURL=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i[r]))),this.files.push(i[r]))}this.onSelect.emit({originalEvent:t,files:i,currentFiles:this.files}),this.fileLimit&&this.checkFileLimit(),this.hasFiles()&&this.auto&&("advanced"!==this.mode||!this.isFileLimitExceeded())&&this.upload(),"drop"!==t.type&&this.isIE11()?this.clearIEInput():this.clearInputElement()}isFileSelected(t){for(let i of this.files)if(i.name+i.type+i.size===t.name+t.type+t.size)return!0;return!1}isIE11(){if(Er(this.platformId))return!!this.document.defaultView.MSInputMethodContext&&!!this.document.documentMode}validate(t){return this.msgs=[],this.accept&&!this.isFileTypeValid(t)?(this.msgs.push({severity:"error",summary:this.invalidFileTypeMessageSummary.replace("{0}",t.name),detail:this.invalidFileTypeMessageDetail.replace("{0}",this.accept)}),!1):!(this.maxFileSize&&t.size>this.maxFileSize&&(this.msgs.push({severity:"error",summary:this.invalidFileSizeMessageSummary.replace("{0}",t.name),detail:this.invalidFileSizeMessageDetail.replace("{0}",this.formatSize(this.maxFileSize))}),1))}isFileTypeValid(t){let i=this.accept?.split(",").map(r=>r.trim());for(let r of i)if(this.isWildcard(r)?this.getTypeClass(t.type)===this.getTypeClass(r):t.type==r||this.getFileExtension(t).toLowerCase()===r.toLowerCase())return!0;return!1}getTypeClass(t){return t.substring(0,t.indexOf("/"))}isWildcard(t){return-1!==t.indexOf("*")}getFileExtension(t){return"."+t.name.split(".").pop()}isImage(t){return/^image\//.test(t.type)}onImageLoad(t){window.URL.revokeObjectURL(t.src)}upload(){if(this.customUpload)this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.uploadHandler.emit({files:this.files}),this.cd.markForCheck();else{this.uploading=!0,this.msgs=[];let t=new FormData;this.onBeforeUpload.emit({formData:t});for(let i=0;i<this.files.length;i++)t.append(this.name,this.files[i],this.files[i].name);this.http.request(this.method,this.url,{body:t,headers:this.headers,reportProgress:!0,observe:"events",withCredentials:this.withCredentials}).subscribe(i=>{switch(i.type){case $c.Sent:this.onSend.emit({originalEvent:i,formData:t});break;case $c.Response:this.uploading=!1,this.progress=0,i.status>=200&&i.status<300?(this.fileLimit&&(this.uploadedFileCount+=this.files.length),this.onUpload.emit({originalEvent:i,files:this.files})):this.onError.emit({files:this.files}),this.clear();break;case $c.UploadProgress:i.loaded&&(this.progress=Math.round(100*i.loaded/i.total)),this.onProgress.emit({originalEvent:i,progress:this.progress})}this.cd.markForCheck()},i=>{this.uploading=!1,this.onError.emit({files:this.files,error:i})})}}clear(){this.files=[],this.onClear.emit(),this.clearInputElement(),this.cd.markForCheck()}remove(t,i){this.clearInputElement(),this.onRemove.emit({originalEvent:t,file:this.files[i]}),this.files.splice(i,1),this.checkFileLimit()}isFileLimitExceeded(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount&&this.focus&&(this.focus=!1),this.fileLimit&&this.fileLimit<this.files.length+this.uploadedFileCount}isChooseDisabled(){return this.fileLimit&&this.fileLimit<=this.files.length+this.uploadedFileCount}checkFileLimit(){this.msgs??=[],this.isFileLimitExceeded()&&this.msgs.push({severity:"error",summary:this.invalidFileLimitMessageSummary.replace("{0}",this.fileLimit.toString()),detail:this.invalidFileLimitMessageDetail.replace("{0}",this.fileLimit.toString())})}clearInputElement(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.advancedFileInput.nativeElement.value=""),this.basicFileInput&&this.basicFileInput.nativeElement&&(this.basicFileInput.nativeElement.value="")}clearIEInput(){this.advancedFileInput&&this.advancedFileInput.nativeElement&&(this.duplicateIEEvent=!0,this.advancedFileInput.nativeElement.value="")}hasFiles(){return this.files&&this.files.length>0}onDragEnter(t){this.disabled||(t.stopPropagation(),t.preventDefault())}onDragOver(t){this.disabled||(ft.addClass(this.content?.nativeElement,"p-fileupload-highlight"),this.dragHighlight=!0,t.stopPropagation(),t.preventDefault())}onDragLeave(t){this.disabled||ft.removeClass(this.content?.nativeElement,"p-fileupload-highlight")}onDrop(t){if(!this.disabled){ft.removeClass(this.content?.nativeElement,"p-fileupload-highlight"),t.stopPropagation(),t.preventDefault();let i=t.dataTransfer?t.dataTransfer.files:t.target.files;(this.multiple||i&&1===i.length)&&this.onFileSelect(t)}}onFocus(){this.focus=!0}onBlur(){this.focus=!1}formatSize(t){if(0==t)return"0 B";let u=Math.floor(Math.log(t)/Math.log(1e3));return parseFloat((t/Math.pow(1e3,u)).toFixed(3))+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][u]}onBasicUploaderClick(){this.hasFiles()?this.upload():this.basicFileInput?.nativeElement.click()}onBasicKeydown(t){switch(t.code){case"Space":case"Enter":this.onBasicUploaderClick(),t.preventDefault()}}imageError(t){this.onImageError.emit(t)}getBlockableElement(){return this.el.nativeElement.children[0]}get chooseButtonLabel(){return this.chooseLabel||this.config.getTranslation(Dl.CHOOSE)}get uploadButtonLabel(){return this.uploadLabel||this.config.getTranslation(Dl.UPLOAD)}get cancelButtonLabel(){return this.cancelLabel||this.config.getTranslation(Dl.CANCEL)}ngOnDestroy(){this.content&&this.content.nativeElement&&this.dragOverListener&&(this.dragOverListener(),this.dragOverListener=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(ne),l.Y36(l.Lbi),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ro),l.Y36(l.R0b),l.Y36(nI),l.Y36(l.sBO),l.Y36(Sc))}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-fileUpload"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,Rs,4),2&t){let s;l.iGM(s=l.CRH())&&(i.templates=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(by,5),l.Gf(YO,5),l.Gf(QO,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.advancedFileInput=r.first),l.iGM(r=l.CRH())&&(i.basicFileInput=r.first),l.iGM(r=l.CRH())&&(i.content=r.first)}},hostAttrs:[1,"p-element"],inputs:{name:"name",url:"url",method:"method",multiple:"multiple",accept:"accept",disabled:"disabled",auto:"auto",withCredentials:"withCredentials",maxFileSize:"maxFileSize",invalidFileSizeMessageSummary:"invalidFileSizeMessageSummary",invalidFileSizeMessageDetail:"invalidFileSizeMessageDetail",invalidFileTypeMessageSummary:"invalidFileTypeMessageSummary",invalidFileTypeMessageDetail:"invalidFileTypeMessageDetail",invalidFileLimitMessageDetail:"invalidFileLimitMessageDetail",invalidFileLimitMessageSummary:"invalidFileLimitMessageSummary",style:"style",styleClass:"styleClass",previewWidth:"previewWidth",chooseLabel:"chooseLabel",uploadLabel:"uploadLabel",cancelLabel:"cancelLabel",chooseIcon:"chooseIcon",uploadIcon:"uploadIcon",cancelIcon:"cancelIcon",showUploadButton:"showUploadButton",showCancelButton:"showCancelButton",mode:"mode",headers:"headers",customUpload:"customUpload",fileLimit:"fileLimit",uploadStyleClass:"uploadStyleClass",cancelStyleClass:"cancelStyleClass",removeStyleClass:"removeStyleClass",chooseStyleClass:"chooseStyleClass",files:"files"},outputs:{onBeforeUpload:"onBeforeUpload",onSend:"onSend",onUpload:"onUpload",onError:"onError",onClear:"onClear",onRemove:"onRemove",onSelect:"onSelect",onProgress:"onProgress",uploadHandler:"uploadHandler",onImageError:"onImageError"},decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class",4,"ngIf"],["class","p-fileupload p-fileupload-basic p-component",4,"ngIf"],[3,"ngClass","ngStyle"],[1,"p-fileupload-buttonbar"],["pRipple","","tabindex","0",1,"p-button","p-component","p-fileupload-choose",3,"ngClass","focus","blur","click","keydown.enter"],["type","file",3,"multiple","accept","disabled","change"],["advancedfileinput",""],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],[1,"p-button-label"],["type","button",3,"label","disabled","styleClass","onClick",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"p-fileupload-content",3,"dragenter","dragleave","drop"],["content",""],[3,"value","showValue",4,"ngIf"],[3,"value","enableService"],["class","p-fileupload-files",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],[3,"styleClass",4,"ngIf"],["class","p-button-icon p-button-icon-left",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon","p-button-icon-left"],["type","button",3,"label","disabled","styleClass","onClick"],[3,"ngClass",4,"ngIf"],[3,"value","showValue"],[1,"p-fileupload-files"],["class","p-fileupload-row",4,"ngFor","ngForOf"],[1,"p-fileupload-row"],[3,"src","width","error",4,"ngIf"],[1,"p-fileupload-filename"],["type","button","pButton","",1,"p-button-icon-only",3,"disabled","click"],[3,"src","width","error"],["ngFor","",3,"ngForOf","ngForTemplate"],[1,"p-fileupload","p-fileupload-basic","p-component"],["tabindex","0","pRipple","",3,"ngClass","ngStyle","mouseup","keydown"],[4,"ngIf","ngIfElse"],["chooseSection",""],["class","p-button-label",4,"ngIf"],["type","file",3,"accept","multiple","disabled","change","focus","blur",4,"ngIf"],["class","p-button-icon p-button-icon-left",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",3,"ngClass",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi",3,"ngClass"],["class","p-button-icon p-button-icon-left pi",4,"ngIf"],[1,"p-button-icon","p-button-icon-left","pi"],["type","file",3,"accept","multiple","disabled","change","focus","blur"],["basicfileinput",""]],template:function(t,i){1&t&&(l.YNc(0,zk,18,28,"div",0),l.YNc(1,fR,8,15,"div",1)),2&t&&(l.Q6J("ngIf","advanced"===i.mode),l.xp6(1),l.Q6J("ngIf","basic"===i.mode))},dependencies:function(){return[Ni,ai,li,wr,dr,GE,hd,B0,EI,Fc,Jp,R0,Ga]},styles:[".p-fileupload-content{position:relative}.p-fileupload-row{display:flex;align-items:center}.p-fileupload-row>div{flex:1 1 auto;width:25%}.p-fileupload-row>div:last-child{text-align:right}.p-fileupload-content .p-progressbar{width:100%;position:absolute;top:0;left:0}.p-button.p-fileupload-choose{position:relative;overflow:hidden}.p-button.p-fileupload-choose input[type=file],.p-fileupload-choose.p-fileupload-choose-selected input[type=file]{display:none}.p-fluid .p-fileupload .p-button{width:auto}.p-fileupload-filename{word-break:break-all}\n"],encapsulation:2,changeDetection:0})),n})(),gR=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn,pI,xl,Rp,_y,Gc,Hh,Jp,R0,Ga,xl,Rp,_y,Gc]})),n})();const mR=["loader"];function Kk(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",3),l._UZ(1,"img",4),l.TgZ(2,"div"),l._uU(3),l.qZA(),l.TgZ(4,"p-button",5),l.NdJ("onClick",function(r){const u=l.CHM(t).$implicit,f=l.oxw();return l.KtG(f.deleteImage(r,u))}),l.qZA()()}if(2&n){const t=e.$implicit,i=l.oxw();l.xp6(1),l.Q6J("src",i.createURLfromFile(t),l.LSH),l.xp6(2),l.Oqu(t.name)}}let Yk=(()=>{class n{deleteImage(t,i){const r=this.loader.files.indexOf(i);this.loader.remove(t,r)}getImages(){var t=this;return(0,Te.Z)(function*(){let i=[];for(let r of t.loader.files)i.push(yield t.toBase64(r));return i})()}pushImages(t){this.loader.clear();let i=t.map(r=>this.base64toFile(r));this.loader.files.push(...i)}createURLfromFile(t){return URL.createObjectURL(t)}toBase64(t){return new Promise((i,r)=>{const s=new FileReader;s.readAsDataURL(t),s.onload=()=>i(s.result),s.onerror=r})}base64toFile(t){let i=t.split(","),r=i[0].match(/:(.*?);/)[1],s=t.match(/[^:/]\w+(?=;|,)/)[0],u=atob(i[i.length-1]),f=u.length,m=new Uint8Array(f);for(;f--;)m[f]=u.charCodeAt(f);return new File([m],Date.now().toString()+`.${s}`,{type:r})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["gallery-loader"]],viewQuery:function(t,i){if(1&t&&l.Gf(mR,5),2&t){let r;l.iGM(r=l.CRH())&&(i.loader=r.first)}},decls:3,vars:6,consts:[["chooseLabel","Choose image","accept","image/*",3,"maxFileSize","fileLimit","multiple","showUploadButton","showCancelButton","customUpload"],["loader",""],["pTemplate","file"],[1,"file-preview"],[1,"img-preview",3,"src"],["icon","pi pi-times",3,"onClick"]],template:function(t,i){1&t&&(l.TgZ(0,"p-fileUpload",0,1),l.YNc(2,Kk,5,2,"ng-template",2),l.qZA()),2&t&&l.Q6J("maxFileSize",1e6)("fileLimit",4)("multiple",!0)("showUploadButton",!1)("showCancelButton",!1)("customUpload",!0)},dependencies:[hd,Rs,pR],styles:[".file-preview[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding:0 20px}.img-preview[_ngcontent-%COMP%]{width:70px;height:70px;display:inline-block;object-fit:cover}"]}),n})();var o=R(6878);const a="auth";class c{constructor(e){return e}}class d{constructor(){return(0,On.vb)(a)}}const p=new l.OlP("angularfire2.auth-instances");function w(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new c(i)}}const T={provide:d,deps:[[new l.FiY,p]]},A={provide:c,useFactory:function v(n,e){const t=(0,On.JM)(a,n,e);return t&&new c(t)},deps:[[new l.FiY,p],ap]};let P=(()=>{class n{constructor(){(0,Os.KN)("angularfire",On.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[A,T]}),n})();function V(n,...e){return{ngModule:P,providers:[{provide:p,useFactory:w(n),multi:!0,deps:[l.R0b,l.zs3,On.HU,Jv,[new l.FiY,Th],...e]}]}}const Qk=(0,On.u3)(o.o,!0);var dt,X4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bl={},Jk=Jk||{},Jt=X4||self;function LI(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function z0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Xk="closure_uid_"+(1e9*Math.random()>>>0),tB=0;function nB(n,e,t){return n.call.apply(n.bind,arguments)}function iB(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Wo(n,e,t){return(Wo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?nB:iB).apply(null,arguments)}function FI(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Jr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function Jh(){this.s=this.s,this.o=this.o}Jh.prototype.s=!1,Jh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function eB(n){Object.prototype.hasOwnProperty.call(n,Xk)&&n[Xk]||(n[Xk]=++tB)}(this)},Jh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vR=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function eM(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function _R(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(LI(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function qo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}qo.prototype.h=function(){this.defaultPrevented=!0};var oB=function(){if(!Jt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Jt.addEventListener("test",()=>{},e),Jt.removeEventListener("test",()=>{},e)}catch{}return n}();function G0(n){return/^[\s\xa0]*$/.test(n)}function BI(){var n=Jt.navigator;return n&&(n=n.userAgent)?n:""}function Wc(n){return-1!=BI().indexOf(n)}function tM(n){return tM[" "](n),n}tM[" "]=function(){};var iM,aB=Wc("Opera"),Ey=Wc("Trident")||Wc("MSIE"),bR=Wc("Edge"),nM=bR||Ey,wR=Wc("Gecko")&&!(-1!=BI().toLowerCase().indexOf("webkit")&&!Wc("Edge"))&&!(Wc("Trident")||Wc("MSIE"))&&!Wc("Edge"),lB=-1!=BI().toLowerCase().indexOf("webkit")&&!Wc("Edge");function ER(){var n=Jt.document;return n?n.documentMode:void 0}e:{var rM="",oM=function(){var n=BI();return wR?/rv:([^\);]+)(\)|;)/.exec(n):bR?/Edge\/([\d\.]+)/.exec(n):Ey?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lB?/WebKit\/(\S+)/.exec(n):aB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(oM&&(rM=oM?oM[1]:""),Ey){var sM=ER();if(null!=sM&&sM>parseFloat(rM)){iM=String(sM);break e}}iM=rM}var cB=Jt.document&&Ey&&(ER()||parseInt(iM,10))||void 0;function W0(n,e){if(qo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(wR){e:{try{tM(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&W0.$.h.call(this)}}Jr(W0,qo);var uB={2:"touch",3:"pen",4:"mouse"};W0.prototype.h=function(){W0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var q0="closure_listenable_"+(1e6*Math.random()|0),dB=0;function hB(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++dB,this.fa=this.ia=!1}function VI(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function lM(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function IR(n){const e={};for(const t in n)e[t]=n[t];return e}const TR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SR(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<TR.length;s++)t=TR[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function UI(n){this.src=n,this.g={},this.h=0}function cM(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=vR(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(VI(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function uM(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}UI.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=uM(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new hB(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var dM="closure_lm_"+(1e6*Math.random()|0),hM={};function xR(n,e,t,i,r){if(i&&i.once)return AR(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)xR(n,e[s],t,i,r);return null}return t=mM(t),n&&n[q0]?n.O(e,t,z0(i)?!!i.capture:!!i,r):DR(n,e,t,!1,i,r)}function DR(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var u=z0(r)?!!r.capture:!!r,f=pM(n);if(f||(n[dM]=f=new UI(n)),(t=f.add(e,t,i,u,s)).proxy)return t;if(i=function pB(){const e=gB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)oB||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(MR(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function AR(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)AR(n,e[s],t,i,r);return null}return t=mM(t),n&&n[q0]?n.P(e,t,z0(i)?!!i.capture:!!i,r):DR(n,e,t,!0,i,r)}function kR(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)kR(n,e[s],t,i,r);else i=z0(i)?!!i.capture:!!i,t=mM(t),n&&n[q0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=uM(s=n.g[e],t,i,r))&&(VI(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=pM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=uM(e,t,i,r)),(t=-1<n?e[n]:null)&&fM(t))}function fM(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[q0])cM(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(MR(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=pM(e))?(cM(t,n),0==t.h&&(t.src=null,e[dM]=null)):VI(n)}}}function MR(n){return n in hM?hM[n]:hM[n]="on"+n}function gB(n,e){if(n.fa)n=!0;else{e=new W0(e,this);var t=n.listener,i=n.la||n.src;n.ia&&fM(n),n=t.call(i,e)}return n}function pM(n){return(n=n[dM])instanceof UI?n:null}var gM="__closure_events_fn_"+(1e9*Math.random()>>>0);function mM(n){return"function"==typeof n?n:(n[gM]||(n[gM]=function(e){return n.handleEvent(e)}),n[gM])}function Xr(){Jh.call(this),this.i=new UI(this),this.S=this,this.J=null}function Eo(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new qo(e,n);else if(e instanceof qo)e.target=e.target||n;else{var r=e;SR(e=new qo(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];r=HI(u,i,!0,e)&&r}if(r=HI(u=e.g=n,i,!0,e)&&r,r=HI(u,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=HI(u=e.g=t[s],i,!1,e)&&r}function HI(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.fa&&u.capture==t){var f=u.listener,m=u.la||u.src;u.ia&&cM(n.i,u),r=!1!==f.call(m,i)&&r}}return r&&!i.defaultPrevented}Jr(Xr,Jh),Xr.prototype[q0]=!0,Xr.prototype.removeEventListener=function(n,e,t,i){kR(this,n,e,t,i)},Xr.prototype.N=function(){if(Xr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)VI(t[i]);delete n.g[e],n.h--}}this.J=null},Xr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Xr.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var yM=Jt.JSON.stringify;function yB(){var n=vM;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var PR=new class mB{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _B,n=>n.reset());class _B{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bB(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function wB(n){Jt.setTimeout(()=>{throw n},0)}let Z0,K0=!1,vM=new class vB{constructor(){this.h=this.g=null}add(e,t){const i=PR.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},NR=()=>{const n=Jt.Promise.resolve(void 0);Z0=()=>{n.then(EB)}};var EB=()=>{for(var n;n=yB();){try{n.h.call(n.g)}catch(t){wB(t)}var e=PR;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}K0=!1};function jI(n,e){Xr.call(this),this.h=n||1,this.g=e||Jt,this.j=Wo(this.qb,this),this.l=Date.now()}function _M(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function bM(n,e,t){if("function"==typeof n)t&&(n=Wo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wo(n.handleEvent,n)}return 2147483647<Number(e)?-1:Jt.setTimeout(n,e||0)}function OR(n){n.g=bM(()=>{n.g=null,n.i&&(n.i=!1,OR(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jr(jI,Xr),(dt=jI.prototype).ga=!1,dt.T=null,dt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Eo(this,"tick"),this.ga&&(_M(this),this.start()))}},dt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.N=function(){jI.$.N.call(this),_M(this),delete this.g};class CB extends Jh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:OR(this)}N(){super.N(),this.g&&(Jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Y0(n){Jh.call(this),this.h=n,this.g={}}Jr(Y0,Jh);var RR=[];function LR(n,e,t,i){Array.isArray(t)||(t&&(RR[0]=t.toString()),t=RR);for(var r=0;r<t.length;r++){var s=xR(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function FR(n){lM(n.g,function(e,t){this.g.hasOwnProperty(t)&&fM(e)},n),n.g={}}function $I(){this.g=!0}function Cy(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xB(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return yM(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Y0.prototype.N=function(){Y0.$.N.call(this),FR(this)},Y0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$I.prototype.Ea=function(){this.g=!1},$I.prototype.info=function(){};var Xp={},BR=null;function zI(){return BR=BR||new Xr}function VR(n){qo.call(this,Xp.Ta,n)}function Q0(n){const e=zI();Eo(e,new VR(e))}function UR(n,e){qo.call(this,Xp.STAT_EVENT,n),this.stat=e}function vs(n){const e=zI();Eo(e,new UR(e,n))}function HR(n,e){qo.call(this,Xp.Ua,n),this.size=e}function J0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Jt.setTimeout(function(){n()},e)}Xp.Ta="serverreachability",Jr(VR,qo),Xp.STAT_EVENT="statevent",Jr(UR,qo),Xp.Ua="timingevent",Jr(HR,qo);var GI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wM(){}function zR(){}wM.prototype.h=null;var IM,X0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function EM(){qo.call(this,"d")}function CM(){qo.call(this,"c")}function WI(){}function eb(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Y0(this),this.P=DB,this.V=new jI(n=nM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new GR}function GR(){this.i=null,this.g="",this.h=!1}Jr(EM,qo),Jr(CM,qo),Jr(WI,wM),WI.prototype.g=function(){return new XMLHttpRequest},WI.prototype.i=function(){return{}},IM=new WI;var DB=45e3,TM={},qI={};function SM(n,e,t){n.L=1,n.v=QI(wd(e)),n.s=t,n.S=!0,WR(n,null)}function WR(n,e){n.G=Date.now(),tb(n),n.A=wd(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),nL(t.i,"t",i),n.C=0,t=n.l.J,n.h=new GR,n.g=SL(n.l,t?e:null,!n.s),0<n.O&&(n.M=new CB(Wo(n.Pa,n,n.g),n.O)),LR(n.U,n.g,"readystatechange",n.nb),e=n.I?IR(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Q0(),function IB(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",f=s.split("&"),m=0;m<f.length;m++){var _=f[m].split("=");if(1<_.length){var I=_[0];_=_[1];var D=I.split("_");u=2<=D.length&&"type"==D[1]?u+(I+"=")+_+"&":u+(I+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function qR(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ZR(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=AB(n,t),r==qI){4==e&&(n.o=4,vs(14),i=!1),Cy(n.j,n.m,null,"[Incomplete Response]");break}if(r==TM){n.o=4,vs(15),Cy(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Cy(n.j,n.m,r,null),xM(n,r)}qR(n)&&r!=qI&&r!=TM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vs(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),OM(e),e.M=!0,vs(11))):(Cy(n.j,n.m,t,"[Invalid Chunked Response]"),eg(n),nb(n))}function AB(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?qI:(t=Number(e.substring(t,i)),isNaN(t)?TM:(i+=1)+t>e.length?qI:(e=e.slice(i,i+t),n.C=i+t,e))}function tb(n){n.Y=Date.now()+n.P,KR(n,n.P)}function KR(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=J0(Wo(n.lb,n),e)}function ZI(n){n.B&&(Jt.clearTimeout(n.B),n.B=null)}function nb(n){0==n.l.H||n.J||EL(n.l,n)}function eg(n){ZI(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,_M(n.V),FR(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function xM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||DM(t.i,n)))if(!n.K&&DM(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;iT(t),tT(t)}NM(t),vs(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=J0(Wo(t.ib,t),6e3));if(1>=oL(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ng(t,11)}else if((n.K||t.g==n)&&iT(t),!G0(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let _=r[e];if(t.V=_[0],_=_[1],2==t.H)if("c"==_[0]){t.K=_[1],t.pa=_[2];const I=_[3];null!=I&&(t.ra=I,t.l.info("VER="+t.ra));const D=_[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const N=_[5];null!=N&&"number"==typeof N&&0<N&&(t.L=i=1.5*N,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const U=n.g;if(U){const B=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var s=i.i;s.g||-1==B.indexOf("spdy")&&-1==B.indexOf("quic")&&-1==B.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(AM(s,s.h),s.h=null))}if(i.F){const q=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(i.Da=q,fi(i.I,i.F,q))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=TL(i,i.J?i.pa:null,i.Y),u.K){sL(i.i,u);var f=u,m=i.L;m&&f.setTimeout(m),f.B&&(ZI(f),tb(f)),i.g=u}else bL(i);0<t.j.length&&nT(t)}else"stop"!=_[0]&&"close"!=_[0]||ng(t,7);else 3==t.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?ng(t,7):PM(t):"noop"!=_[0]&&t.h&&t.h.Aa(_),t.A=0)}Q0()}catch{}}function YR(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(LI(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function MB(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(LI(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function kB(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(LI(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(dt=eb.prototype).setTimeout=function(n){this.P=n},dt.nb=function(n){n=n.target;const e=this.M;e&&3==qc(n)?e.l():this.Pa(n)},dt.Pa=function(n){try{if(n==this.g)e:{const I=qc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||nM||this.g&&(this.h.h||this.g.ja()||pL(this.g)))){this.J||4!=I||7==e||Q0(),ZI(this);var t=this.g.da();this.ca=t;t:if(qR(this)){var i=pL(this.g);n="";var r=i.length,s=4==qc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){eg(this),nb(this);var u="";break t}this.h.i=new Jt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function TB(n,e,t,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G0(f)){var _=f;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,vs(12),eg(this),nb(this);break e}Cy(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xM(this,t)}this.S?(ZR(this,I,u),nM&&this.i&&3==I&&(LR(this.U,this.V,"tick",this.mb),this.V.start())):(Cy(this.j,this.m,u,null),xM(this,u)),4==I&&eg(this),this.i&&!this.J&&(4==I?EL(this.l,this):(this.i=!1,tb(this)))}else(function KB(n){const e={};n=(n.g&&2<=qc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(G0(n[i]))continue;var t=bB(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function fB(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,vs(12)):(this.o=0,vs(13)),eg(this),nb(this)}}}catch{}},dt.mb=function(){if(this.g){var n=qc(this.g),e=this.g.ja();this.C<e.length&&(ZI(this),ZR(this,n,e),this.i&&4!=n&&tb(this))}},dt.cancel=function(){this.J=!0,eg(this)},dt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function SB(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Q0(),vs(17)),eg(this),this.o=2,nb(this)):KR(this,this.Y-n)};var QR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tg(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tg){this.h=n.h,KI(this,n.j),this.s=n.s,this.g=n.g,YI(this,n.m),this.l=n.l;var e=n.i,t=new ob;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),JR(this,t),this.o=n.o}else n&&(e=String(n).match(QR))?(this.h=!1,KI(this,e[1]||"",!0),this.s=ib(e[2]||""),this.g=ib(e[3]||"",!0),YI(this,e[4]),this.l=ib(e[5]||"",!0),JR(this,e[6]||"",!0),this.o=ib(e[7]||"")):(this.h=!1,this.i=new ob(null,this.h))}function wd(n){return new tg(n)}function KI(n,e,t){n.j=t?ib(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function YI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function JR(n,e,t){e instanceof ob?(n.i=e,function BB(n,e){e&&!n.j&&(Xh(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(eL(this,i),nL(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=rb(e,LB)),n.i=new ob(e,n.h))}function fi(n,e,t){n.i.set(e,t)}function QI(n){return fi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ib(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function rb(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,NB),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function NB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tg.prototype.toString=function(){var n=[],e=this.j;e&&n.push(rb(e,XR,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(rb(e,XR,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(rb(t,"/"==t.charAt(0)?RB:OB,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",rb(t,FB)),n.join("")};var XR=/[#\/\?@]/g,OB=/[#\?:]/g,RB=/[#\?]/g,LB=/[#\?@]/g,FB=/#/g;function ob(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xh(n){n.g||(n.g=new Map,n.h=0,n.i&&function PB(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function eL(n,e){Xh(n),e=Iy(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function tL(n,e){return Xh(n),e=Iy(n,e),n.g.has(e)}function nL(n,e,t){eL(n,e),0<t.length&&(n.i=null,n.g.set(Iy(n,e),eM(t)),n.h+=t.length)}function Iy(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function iL(n){this.l=n||UB,n=Jt.PerformanceNavigationTiming?0<(n=Jt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Jt.g&&Jt.g.Ka&&Jt.g.Ka()&&Jt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=ob.prototype).add=function(n,e){Xh(this),this.i=null,n=Iy(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Xh(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},dt.ta=function(){Xh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},dt.Z=function(n){Xh(this);let e=[];if("string"==typeof n)tL(this,n)&&(e=e.concat(this.g.get(Iy(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return Xh(this),this.i=null,tL(this,n=Iy(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var UB=10;function rL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oL(n){return n.h?1:n.g?n.g.size:0}function DM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function AM(n,e){n.g?n.g.add(e):n.h=e}function sL(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function aL(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return eM(n.i)}iL.prototype.cancel=function(){if(this.i=aL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var HB=class{stringify(n){return Jt.JSON.stringify(n,void 0)}parse(n){return Jt.JSON.parse(n,void 0)}};function jB(){this.g=new HB}function $B(n,e,t){const i=t||"";try{YR(n,function(r,s){let u=r;z0(r)&&(u=yM(r)),e.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function JI(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function sb(n){this.l=n.fc||null,this.j=n.ob||!1}function XI(n,e){Xr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=kM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jr(sb,wM),sb.prototype.g=function(){return new XI(this.l,this.j)},sb.prototype.i=function(n){return function(){return n}}({}),Jr(XI,Xr);var kM=0;function lL(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function ab(n){n.readyState=4,n.l=null,n.j=null,n.A=null,lb(n)}function lb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=XI.prototype).open=function(n,e){if(this.readyState!=kM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,lb(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Jt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ab(this)),this.readyState=kM},dt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,lb(this)),this.g&&(this.readyState=3,lb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Jt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lL(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},dt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ab(this):lb(this),3==this.readyState&&lL(this)}},dt.Za=function(n){this.g&&(this.response=this.responseText=n,ab(this))},dt.Ya=function(n){this.g&&(this.response=n,ab(this))},dt.ka=function(){this.g&&ab(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(XI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var GB=Jt.JSON.parse;function ji(n){Xr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cL,this.L=this.M=!1}Jr(ji,Xr);var cL="",WB=/^https?$/i,qB=["POST","PUT"];function uL(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dL(n),eT(n)}function dL(n){n.F||(n.F=!0,Eo(n,"complete"),Eo(n,"error"))}function hL(n){if(n.h&&typeof Jk<"u"&&(!n.C[1]||4!=qc(n)||2!=n.da()))if(n.v&&4==qc(n))bM(n.La,0,n);else if(Eo(n,"readystatechange"),4==qc(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===u){var r=String(n.I).match(QR)[1]||null;!r&&Jt.self&&Jt.self.location&&(r=Jt.self.location.protocol.slice(0,-1)),i=!WB.test(r?r.toLowerCase():"")}t=i}if(t)Eo(n,"complete"),Eo(n,"success");else{n.m=6;try{var s=2<qc(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",dL(n)}}finally{eT(n)}}}function eT(n,e){if(n.g){fL(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Eo(n,"ready");try{t.onreadystatechange=i}catch{}}}function fL(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Jt.clearTimeout(n.A),n.A=null)}function qc(n){return n.g?n.g.readyState:0}function pL(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case cL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function gL(n){let e="";return lM(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function MM(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=gL(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):fi(n,e,t))}function cb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function mL(n){this.Ga=0,this.j=[],this.l=new $I,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cb("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cb("baseRetryDelayMs",5e3,n),this.hb=cb("retryDelaySeedMs",1e4,n),this.eb=cb("forwardChannelMaxRetries",2,n),this.xa=cb("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new iL(n&&n.concurrentRequestLimit),this.Ja=new jB,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function PM(n){if(yL(n),3==n.H){var e=n.W++,t=wd(n.I);if(fi(t,"SID",n.K),fi(t,"RID",e),fi(t,"TYPE","terminate"),ub(n,t),(e=new eb(n,n.l,e)).L=2,e.v=QI(wd(t)),t=!1,Jt.navigator&&Jt.navigator.sendBeacon)try{t=Jt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=SL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),tb(e)}IL(n)}function tT(n){n.g&&(OM(n),n.g.cancel(),n.g=null)}function yL(n){tT(n),n.u&&(Jt.clearTimeout(n.u),n.u=null),iT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Jt.clearTimeout(n.m),n.m=null)}function nT(n){if(!rL(n.i)&&!n.m){n.m=!0;var e=n.Na;Z0||NR(),K0||(Z0(),K0=!0),vM.add(e,n),n.C=0}}function vL(n,e){var t;t=e?e.m:n.W++;const i=wd(n.I);fi(i,"SID",n.K),fi(i,"RID",t),fi(i,"AID",n.V),ub(n,i),n.o&&n.s&&MM(i,n.o,n.s),t=new eb(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=_L(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),AM(n.i,t),SM(t,i,e)}function ub(n,e){n.na&&lM(n.na,function(t,i){fi(e,i,t)}),n.h&&YR({},function(t,i){fi(e,i,t)})}function _L(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Wo(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=r[0].g,u.push("ofs="+s)):s=0:u.push("ofs="+s);let f=!0;for(let m=0;m<t;m++){let _=r[m].g;const I=r[m].map;if(_-=s,0>_)s=Math.max(0,r[m].g-100),f=!1;else try{$B(I,u,"req"+_+"_")}catch{i&&i(I)}}if(f){i=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function bL(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Z0||NR(),K0||(Z0(),K0=!0),vM.add(e,n),n.A=0}}function NM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=J0(Wo(n.Ma,n),CL(n,n.A)),n.A++,0))}function OM(n){null!=n.B&&(Jt.clearTimeout(n.B),n.B=null)}function wL(n){n.g=new eb(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=wd(n.wa);fi(e,"RID","rpc"),fi(e,"SID",n.K),fi(e,"AID",n.V),fi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&fi(e,"TO",n.qa),fi(e,"TYPE","xmlhttp"),ub(n,e),n.o&&n.s&&MM(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=QI(wd(e)),t.s=null,t.S=!0,WR(t,n)}function iT(n){null!=n.v&&(Jt.clearTimeout(n.v),n.v=null)}function EL(n,e){var t=null;if(n.g==e){iT(n),OM(n),n.g=null;var i=2}else{if(!DM(n.i,e))return;t=e.F,sL(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Eo(i=zI(),new HR(i,t)),nT(n)}else bL(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function YB(n,e){return!(oL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=J0(Wo(n.Na,n,e),CL(n,n.C)),n.C++,0)))}(n,e)||2==i&&NM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:ng(n,5);break;case 4:ng(n,10);break;case 3:ng(n,6);break;default:ng(n,2)}}function CL(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ng(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Wo(n.pb,n);t||(t=new tg("//www.google.com/images/cleardot.gif"),Jt.location&&"http"==Jt.location.protocol||KI(t,"https"),QI(t)),function zB(n,e){const t=new $I;if(Jt.Image){const i=new Image;i.onload=FI(JI,t,i,"TestLoadImage: loaded",!0,e),i.onerror=FI(JI,t,i,"TestLoadImage: error",!1,e),i.onabort=FI(JI,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=FI(JI,t,i,"TestLoadImage: timeout",!1,e),Jt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else vs(2);n.H=0,n.h&&n.h.za(e),IL(n),yL(n)}function IL(n){if(n.H=0,n.ma=[],n.h){const e=aL(n.i);(0!=e.length||0!=n.j.length)&&(_R(n.ma,e),_R(n.ma,n.j),n.i.i.length=0,eM(n.j),n.j.length=0),n.h.ya()}}function TL(n,e,t){var i=t instanceof tg?wd(t):new tg(t);if(""!=i.g)e&&(i.g=e+"."+i.g),YI(i,i.m);else{var r=Jt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new tg(null);i&&KI(s,i),e&&(s.g=e),r&&YI(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&fi(i,t,e),fi(i,"VER",n.ra),ub(n,i),i}function SL(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ji(t&&n.Ha&&!n.va?new sb({ob:!0}):n.va)).Oa(n.J),e}function xL(){}function rT(){if(Ey&&!(10<=Number(cB)))throw Error("Environmental error: no available transport.")}function va(n,e){Xr.call(this),this.g=new mL(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!G0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!G0(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ty(this)}function DL(n){EM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function AL(){CM.call(this),this.status=1}function Ty(n){this.g=n}function Vl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function RM(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],u=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;u=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(u<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((s=(e=t+((u=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=s+((u=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Vn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(dt=ji.prototype).Oa=function(n){this.M=n},dt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():IM.g(),this.C=function $R(n){return n.h||(n.h=n.i())}(this.u?this.u:IM),this.g.onreadystatechange=Wo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void uL(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Jt.FormData&&n instanceof Jt.FormData,!(0<=vR(qB,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{fL(this),0<this.B&&((this.L=function ZB(n){return Ey&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wo(this.ua,this)):this.A=bM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){uL(this,s)}},dt.ua=function(){typeof Jk<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Eo(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Eo(this,"complete"),Eo(this,"abort"),eT(this))},dt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eT(this,!0)),ji.$.N.call(this)},dt.La=function(){this.s||(this.G||this.v||this.l?hL(this):this.kb())},dt.kb=function(){hL(this)},dt.isActive=function(){return!!this.g},dt.da=function(){try{return 2<qc(this)?this.g.status:-1}catch{return-1}},dt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),GB(e)}},dt.Ia=function(){return this.m},dt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=mL.prototype).ra=8,dt.H=1,dt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new eb(this,this.l,n);let s=this.s;if(this.U&&(s?(s=IR(s),SR(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_L(this,r,e),fi(t=wd(this.I),"RID",n),fi(t,"CVER",22),this.F&&fi(t,"X-HTTP-Session-Id",this.F),ub(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(gL(s)))+"&"+e:this.o&&MM(t,this.o,s)),AM(this.i,r),this.bb&&fi(t,"TYPE","init"),this.P?(fi(t,"$req",e),fi(t,"SID","null"),r.aa=!0,SM(r,t,null)):SM(r,t,e),this.H=2}}else 3==this.H&&(n?vL(this,n):0==this.j.length||rL(this.i)||vL(this))},dt.Ma=function(){if(this.u=null,wL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=J0(Wo(this.jb,this),n)}},dt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vs(10),tT(this),wL(this))},dt.ib=function(){null!=this.v&&(this.v=null,tT(this),NM(this),vs(19))},dt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),vs(2)):(this.l.info("Failed to ping google.com"),vs(1))},dt.isActive=function(){return!!this.h&&this.h.isActive(this)},(dt=xL.prototype).Ba=function(){},dt.Aa=function(){},dt.za=function(){},dt.ya=function(){},dt.isActive=function(){return!0},dt.Va=function(){},rT.prototype.g=function(n,e){return new va(n,e)},Jr(va,Xr),va.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;vs(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=TL(n,null,n.Y),nT(n)},va.prototype.close=function(){PM(this.g)},va.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=yM(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&nT(e)},va.prototype.N=function(){this.g.h=null,delete this.j,PM(this.g),delete this.g,va.$.N.call(this)},Jr(DL,EM),Jr(AL,CM),Jr(Ty,xL),Ty.prototype.Ba=function(){Eo(this.g,"a")},Ty.prototype.Aa=function(n){Eo(this.g,new DL(n))},Ty.prototype.za=function(n){Eo(this.g,new AL)},Ty.prototype.ya=function(){Eo(this.g,"b")},Jr(Vl,function QB(){this.blockSize=-1}),Vl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)RM(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){RM(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){RM(this,i),r=0;break}}this.h=r,this.i+=e},Vl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var JB={};function LM(n){return-128<=n&&128>n?function sB(n,e){var t=JB;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Vn([0|e],0>e?-1:0)}):new Vn([0|n],0>n?-1:0)}function Zc(n){if(isNaN(n)||!isFinite(n))return Sy;if(0>n)return Co(Zc(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=FM;return new Vn(e,0)}var FM=4294967296,Sy=LM(0),BM=LM(1),ML=LM(16777216);function Ed(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Qa(n){return-1==n.h}function Co(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Vn(t,~n.h).add(BM)}function oT(n,e){return n.add(Co(e))}function sT(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function db(n,e){this.g=n,this.h=e}function aT(n,e){if(Ed(e))throw Error("division by zero");if(Ed(n))return new db(Sy,Sy);if(Qa(n))return e=aT(Co(n),e),new db(Co(e.g),Co(e.h));if(Qa(e))return e=aT(n,Co(e)),new db(Co(e.g),e.h);if(30<n.g.length){if(Qa(n)||Qa(e))throw Error("slowDivide_ only works with positive integers.");for(var t=BM,i=e;0>=i.X(n);)t=PL(t),i=PL(i);var r=xy(t,1),s=xy(i,1);for(i=xy(i,2),t=xy(t,2);!Ed(i);){var u=s.add(i);0>=u.X(n)&&(r=r.add(t),s=u),i=xy(i,1),t=xy(t,1)}return e=oT(n,r.R(e)),new db(r,e)}for(r=Sy;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(s=Zc(t)).R(e);Qa(u)||0<u.X(n);)u=(s=Zc(t-=i)).R(e);Ed(s)&&(s=BM),r=r.add(s),n=oT(n,u)}return new db(r,n)}function PL(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Vn(t,n.h)}function xy(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Vn(r,n.h)}(dt=Vn.prototype).ea=function(){if(Qa(this))return-Co(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:FM+i)*e,e*=FM}return n},dt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ed(this))return"0";if(Qa(this))return"-"+Co(this).toString(n);for(var e=Zc(Math.pow(n,6)),t=this,i="";;){var r=aT(t,e).g,s=((0<(t=oT(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ed(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},dt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},dt.X=function(n){return Qa(n=oT(this,n))?-1:Ed(n)?0:1},dt.abs=function(){return Qa(this)?Co(this):this},dt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),u=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(s&=65535)}return new Vn(t,-2147483648&t[t.length-1]?-1:0)},dt.R=function(n){if(Ed(this)||Ed(n))return Sy;if(Qa(this))return Qa(n)?Co(this).R(Co(n)):Co(Co(this).R(n));if(Qa(n))return Co(this.R(Co(n)));if(0>this.X(ML)&&0>n.X(ML))return Zc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,u=65535&this.D(i),f=n.D(r)>>>16,m=65535&n.D(r);t[2*i+2*r]+=u*m,sT(t,2*i+2*r),t[2*i+2*r+1]+=s*m,sT(t,2*i+2*r+1),t[2*i+2*r+1]+=u*f,sT(t,2*i+2*r+1),t[2*i+2*r+2]+=s*f,sT(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Vn(t,0)},dt.gb=function(n){return aT(this,n).h},dt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Vn(t,this.h&n.h)},dt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Vn(t,this.h|n.h)},dt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Vn(t,this.h^n.h)},rT.prototype.createWebChannel=rT.prototype.g,va.prototype.send=va.prototype.u,va.prototype.open=va.prototype.m,va.prototype.close=va.prototype.close,GI.NO_ERROR=0,GI.TIMEOUT=8,GI.HTTP_ERROR=6,jR.COMPLETE="complete",zR.EventType=X0,X0.OPEN="a",X0.CLOSE="b",X0.ERROR="c",X0.MESSAGE="d",Xr.prototype.listen=Xr.prototype.O,ji.prototype.listenOnce=ji.prototype.P,ji.prototype.getLastError=ji.prototype.Sa,ji.prototype.getLastErrorCode=ji.prototype.Ia,ji.prototype.getStatus=ji.prototype.da,ji.prototype.getResponseJson=ji.prototype.Wa,ji.prototype.getResponseText=ji.prototype.ja,ji.prototype.send=ji.prototype.ha,ji.prototype.setWithCredentials=ji.prototype.Oa,Vl.prototype.digest=Vl.prototype.l,Vl.prototype.reset=Vl.prototype.reset,Vl.prototype.update=Vl.prototype.j,Vn.prototype.add=Vn.prototype.add,Vn.prototype.multiply=Vn.prototype.R,Vn.prototype.modulo=Vn.prototype.gb,Vn.prototype.compare=Vn.prototype.X,Vn.prototype.toNumber=Vn.prototype.ea,Vn.prototype.toString=Vn.prototype.toString,Vn.prototype.getBits=Vn.prototype.D,Vn.fromNumber=Zc,Vn.fromString=function kL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Co(kL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Zc(Math.pow(e,8)),i=Sy,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+s),e);8>s?(s=Zc(Math.pow(e,s)),i=i.R(s).add(Zc(u))):i=(i=i.R(t)).add(Zc(u))}return i};var XB=Bl.createWebChannelTransport=function(){return new rT},e5=Bl.getStatEventTarget=function(){return zI()},VM=Bl.ErrorCode=GI,t5=Bl.EventType=jR,n5=Bl.Event=Xp,NL=Bl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},i5=Bl.FetchXmlHttpFactory=sb,lT=Bl.WebChannel=zR,r5=Bl.XhrIo=ji,o5=Bl.Md5=Vl,Dy=Bl.Integer=Vn;const OL="@firebase/firestore";class eo{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}eo.UNAUTHENTICATED=new eo(null),eo.GOOGLE_CREDENTIALS=new eo("google-credentials-uid"),eo.FIRST_PARTY=new eo("first-party-uid"),eo.MOCK_USER=new eo("mock-user");let Ay="9.23.0";const ef=new od.Yd("@firebase/firestore");function UM(){return ef.logLevel}function Ge(n,...e){if(ef.logLevel<=od.in.DEBUG){const t=e.map(HM);ef.debug(`Firestore (${Ay}): ${n}`,...t)}}function rr(n,...e){if(ef.logLevel<=od.in.ERROR){const t=e.map(HM);ef.error(`Firestore (${Ay}): ${n}`,...t)}}function Ul(n,...e){if(ef.logLevel<=od.in.WARN){const t=e.map(HM);ef.warn(`Firestore (${Ay}): ${n}`,...t)}}function HM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const e=`FIRESTORE (${Ay}) INTERNAL ASSERTION FAILED: `+n;throw rr(e),new Error(e)}function Ct(n,e){n||mt()}function at(n,e){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Ai.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class RL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(eo.UNAUTHENTICATED))}shutdown(){}}class l5{constructor(e){this.t=e,this.currentUser=eo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,t(_)):Promise.resolve();let u=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Or,e.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const _=u;e.enqueueRetryable((0,Te.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},m=_=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(_=>m(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?m(_):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Or)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct("string"==typeof i.accessToken),new RL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new eo(e)}}class c5{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=eo.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class u5{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new c5(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(eo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.T;return this.T=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.T=t.token,new LL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function h5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class FL{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=h5(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Zt(n,e){return n<e?-1:n>e?1:0}function ky(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class Mi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new He(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Mi.fromMillis(Date.now())}static fromDate(e){return Mi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Mi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new Mi(0,0))}static max(){return new Tt(new Mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hb{constructor(e,t,i){void 0===t?t=0:t>e.length&&mt(),void 0===i?i=e.length-t:i>e.length-t&&mt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===hb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hb?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),u=t.get(r);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Sn extends hb{construct(e,t,i){return new Sn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new He(ve.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Sn(t)}static emptyPath(){return new Sn([])}}const f5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends hb{construct(e,t,i){return new or(e,t,i)}static isValidIdentifier(e){return f5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new or(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new He(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new He(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new He(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(s(),r++)}if(s(),u)throw new He(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(t)}static emptyPath(){return new or([])}}class st{constructor(e){this.path=e}static fromPath(e){return new st(Sn.fromString(e))}static fromName(e){return new st(Sn.fromString(e).popFirst(5))}static empty(){return new st(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new Sn(e.slice()))}}function UL(n){return new _a(n.readTime,n.key,-1)}class _a{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _a(Tt.min(),st.empty(),-1)}static max(){return new _a(Tt.max(),st.empty(),-1)}}function $M(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=st.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const HL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function tf(n){return zM.apply(this,arguments)}function zM(){return zM=(0,Te.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==HL)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),zM.apply(this,arguments)}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,i)=>{t(e)})}static reject(e){return new ce((t,i)=>{i(e)})}static waitFor(e){return new ce((t,i)=>{let r=0,s=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++s,u&&s===r&&t()},m=>i(m))}),u=!0,s===r&&t()})}static or(e){let t=ce.resolve(!1);for(const i of e)t=t.next(r=>r?ce.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ce((i,r)=>{const s=e.length,u=new Array(s);let f=0;for(let m=0;m<s;m++){const _=m;t(e[_]).next(I=>{u[_]=I,++f,f===s&&i(u)},I=>r(I))}})}static doWhile(e,t){return new ce((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}function nf(n){return"IndexedDbTransactionError"===n.name}let ba=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function gb(n){return null==n}function mb(n){return 0===n&&1/n==-1/0}function YL(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function QL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ri{constructor(e,t){this.comparator=e,this.root=t||Io.EMPTY}insert(e,t){return new ri(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Io.BLACK,null,null))}remove(e){return new ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Io.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fT(this.root,e,this.comparator,!1)}getReverseIterator(){return new fT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fT(this.root,e,this.comparator,!0)}}class fT{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Io{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Io.RED,this.left=r??Io.EMPTY,this.right=s??Io.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Io(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Io.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Io.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Io.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Io.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const e=this.left.check();if(e!==this.right.check())throw mt();return e+(this.isRed()?0:1)}}Io.EMPTY=null,Io.RED=!0,Io.BLACK=!1,Io.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Io(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pi{constructor(e){this.comparator=e,this.data=new ri(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new JL(this.data.getIterator())}getIteratorFrom(e){return new JL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof pi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pi(this.comparator);return t.data=e,t}}class JL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gs{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new Gs([])}unionWith(e){let t=new pi(or.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ky(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class XL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new XL("Invalid base64 string: "+r):r}}(e);return new Rr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Rr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rr.EMPTY_BYTE_STRING=new Rr("");const V5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sf(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=V5.exec(n);if(Ct(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$i(n.seconds),nanos:$i(n.nanos)}}function $i(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Cd(n){return"string"==typeof n?Rr.fromBase64String(n):Rr.fromUint8Array(n)}function pT(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gT(n){const e=n.mapValue.fields.__previous_value__;return pT(e)?gT(e):e}function yb(n){const e=sf(n.mapValue.fields.__local_write_time__.timestampValue);return new Mi(e.seconds,e.nanos)}class U5{constructor(e,t,i,r,s,u,f,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=_}}class og{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new og("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof og&&e.projectId===this.projectId&&e.database===this.database}}const af={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pT(n)?4:iF(n)?9007199254740991:10:mt()}function Yc(n,e){if(n===e)return!0;const t=lf(n);if(t!==lf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yb(n).isEqual(yb(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=sf(i.timestampValue),u=sf(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Cd(n.bytesValue).isEqual(Cd(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return $i(i.geoPointValue.latitude)===$i(r.geoPointValue.latitude)&&$i(i.geoPointValue.longitude)===$i(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return $i(i.integerValue)===$i(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=$i(i.doubleValue),u=$i(r.doubleValue);return s===u?mb(s)===mb(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return ky(n.arrayValue.values||[],e.arrayValue.values||[],Yc);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(YL(s)!==YL(u))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(void 0===u[f]||!Yc(s[f],u[f])))return!1;return!0}(n,e);default:return mt()}var r}function vb(n,e){return void 0!==(n.values||[]).find(t=>Yc(t,e))}function cf(n,e){if(n===e)return 0;const t=lf(n),i=lf(e);if(t!==i)return Zt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const u=$i(r.integerValue||r.doubleValue),f=$i(s.integerValue||s.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return eF(n.timestampValue,e.timestampValue);case 4:return eF(yb(n),yb(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(r,s){const u=Cd(r),f=Cd(s);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const u=r.split("/"),f=s.split("/");for(let m=0;m<u.length&&m<f.length;m++){const _=Zt(u[m],f[m]);if(0!==_)return _}return Zt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const u=Zt($i(r.latitude),$i(s.latitude));return 0!==u?u:Zt($i(r.longitude),$i(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const u=r.values||[],f=s.values||[];for(let m=0;m<u.length&&m<f.length;++m){const _=cf(u[m],f[m]);if(_)return _}return Zt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===af.mapValue&&s===af.mapValue)return 0;if(r===af.mapValue)return 1;if(s===af.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),m=s.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let I=0;I<f.length&&I<_.length;++I){const D=Zt(f[I],_[I]);if(0!==D)return D;const N=cf(u[f[I]],m[_[I]]);if(0!==N)return N}return Zt(f.length,_.length)}(n.mapValue,e.mapValue);default:throw mt()}}function eF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=sf(n),i=sf(e),r=Zt(t.seconds,i.seconds);return 0!==r?r:Zt(t.nanos,i.nanos)}function Py(n){return qM(n)}function qM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=sf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Cd(n.bytesValue).toBase64():"referenceValue"in n?st.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=qM(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const f of r)u?u=!1:s+=",",s+=`${f}:${qM(i.fields[f])}`;return s+"}"}(n.mapValue):mt();var e}function sg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ZM(n){return!!n&&"integerValue"in n}function _b(n){return!!n&&"arrayValue"in n}function tF(n){return!!n&&"nullValue"in n}function nF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vT(n){return!!n&&"mapValue"in n}function bb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rf(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=bb(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class To{constructor(e){this.value=e}static empty(){return new To({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!vT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bb(t)}setAll(e){let t=or.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=bb(u):r.push(f.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());vT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Yc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];vT(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){rf(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new To(bb(this.value))}}function sF(n){const e=[];return rf(n.fields,(t,i)=>{const r=new or([t]);if(vT(i)){const s=sF(i.mapValue).fields;if(0===s.length)e.push(r);else for(const u of s)e.push(r.child(u))}else e.push(r)}),new Gs(e)}class gi{constructor(e,t,i,r,s,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=u,this.documentState=f}static newInvalidDocument(e){return new gi(e,0,Tt.min(),Tt.min(),Tt.min(),To.empty(),0)}static newFoundDocument(e,t,i,r){return new gi(e,1,t,Tt.min(),i,r,0)}static newNoDocument(e,t){return new gi(e,2,t,Tt.min(),Tt.min(),To.empty(),0)}static newUnknownDocument(e,t){return new gi(e,3,t,Tt.min(),Tt.min(),To.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=To.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=To.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uf{constructor(e,t){this.position=e,this.inclusive=t}}function aF(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],u=n.position[r];if(i=s.field.isKeyField()?st.comparator(st.fromName(u.referenceValue),t.key):cf(u,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function lF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Yc(n.position[t],e.position[t]))return!1;return!0}class Ny{constructor(e,t="asc"){this.field=e,this.dir=t}}function $5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class cF{}class _n extends cF{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new z5(e,t,i):"array-contains"===t?new q5(e,i):"in"===t?new gF(e,i):"not-in"===t?new Z5(e,i):"array-contains-any"===t?new K5(e,i):new _n(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new G5(e,i):new W5(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cf(t,this.value)):null!==t&&lf(this.value)===lf(t)&&this.matchesComparison(cf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Un extends cF{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Un(e,t)}matches(e){return Oy(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Oy(n){return"and"===n.op}function YM(n){return function uF(n){for(const e of n.filters)if(e instanceof Un)return!1;return!0}(n)&&Oy(n)}function QM(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+Py(n.value);if(YM(n))return n.filters.map(e=>QM(e)).join(",");{const e=n.filters.map(t=>QM(t)).join(",");return`${n.op}(${e})`}}function dF(n,e){return n instanceof _n?(t=n,(i=e)instanceof _n&&t.op===i.op&&t.field.isEqual(i.field)&&Yc(t.value,i.value)):n instanceof Un?function(t,i){return i instanceof Un&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,u)=>r&&dF(s,i.filters[u]),!0)}(n,e):void mt();var t,i}function fF(n){return n instanceof _n?`${(e=n).field.canonicalString()} ${e.op} ${Py(e.value)}`:n instanceof Un?function(e){return e.op.toString()+" {"+e.getFilters().map(fF).join(" ,")+"}"}(n):"Filter";var e}class z5 extends _n{constructor(e,t,i){super(e,t,i),this.key=st.fromName(i.referenceValue)}matches(e){const t=st.comparator(e.key,this.key);return this.matchesComparison(t)}}class G5 extends _n{constructor(e,t){super(e,"in",t),this.keys=pF(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class W5 extends _n{constructor(e,t){super(e,"not-in",t),this.keys=pF(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pF(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>st.fromName(i.referenceValue))}class q5 extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _b(t)&&vb(t.arrayValue,this.value)}}class gF extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vb(this.value.arrayValue,t)}}class Z5 extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(vb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vb(this.value.arrayValue,t)}}class K5 extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_b(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>vb(this.value.arrayValue,i))}}class Y5{constructor(e,t=null,i=[],r=[],s=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=f,this.dt=null}}function JM(n,e=null,t=[],i=[],r=null,s=null,u=null){return new Y5(n,e,t,i,r,s,u)}function ag(n){const e=at(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>QM(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),gb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Py(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Py(i)).join(",")),e.dt=t}return e.dt}function wb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dF(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!lF(n.startAt,e.startAt)&&lF(n.endAt,e.endAt)}function _T(n){return st.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Id{constructor(e,t=null,i=[],r=[],s=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function Ry(n){return new Id(n)}function _F(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function XM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function wT(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function e2(n){return null!==n.collectionGroup}function lg(n){const e=at(n);if(null===e.wt){e.wt=[];const t=wT(e),i=XM(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Ny(t)),e.wt.push(new Ny(or.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ny(or.keyField(),s))}}}return e.wt}function _s(n){const e=at(n);if(!e._t)if("F"===e.limitType)e._t=JM(e.path,e.collectionGroup,lg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of lg(e))t.push(new Ny(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new uf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new uf(e.startAt.position,e.startAt.inclusive):null;e._t=JM(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function t2(n,e){e.getFirstInequalityField(),wT(n);const t=n.filters.concat([e]);return new Id(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ET(n,e,t){return new Id(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eb(n,e){return wb(_s(n),_s(e))&&n.limitType===e.limitType}function bF(n){return`${ag(_s(n))}|lt:${n.limitType}`}function n2(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>fF(i)).join(", ")}]`),gb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Py(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Py(i)).join(",")),`Target(${t})`}(_s(n))}; limitType=${n.limitType})`}function Cb(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):st.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of lg(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,u){const f=aF(r,s,u);return r.inclusive?f<=0:f<0}(t.startAt,lg(t),i)||t.endAt&&!function(r,s,u){const f=aF(r,s,u);return r.inclusive?f>=0:f>0}(t.endAt,lg(t),i)));var t,i}function EF(n){return(e,t)=>{let i=!1;for(const r of lg(n)){const s=Q5(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Q5(n,e,t){const i=n.field.isKeyField()?st.comparator(e.key,t.key):function(r,s,u){const f=s.data.field(r),m=u.data.field(r);return null!==f&&null!==m?cf(f,m):mt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}class Td{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rf(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return QL(this.inner)}size(){return this.innerSize}}const J5=new ri(st.comparator);function Ws(){return J5}const CF=new ri(st.comparator);function Ib(...n){let e=CF;for(const t of n)e=e.insert(t.key,t);return e}function IF(n){let e=CF;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Qc(){return Tb()}function TF(){return Tb()}function Tb(){return new Td(n=>n.toString(),(n,e)=>n.isEqual(e))}const X5=new ri(st.comparator),e7=new pi(st.comparator);function nn(...n){let e=e7;for(const t of n)e=e.add(t);return e}const t7=new pi(Zt);function SF(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mb(e)?"-0":e}}function xF(n){return{integerValue:""+n}}function DF(n,e){return function $L(n){return"number"==typeof n&&Number.isInteger(n)&&!mb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?xF(e):SF(n,e)}class CT{constructor(){this._=void 0}}function n7(n,e,t){return n instanceof Ly?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&pT(r)&&(r=gT(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof cg?kF(n,e):n instanceof ug?MF(n,e):function(i,r){const s=AF(i,r),u=PF(s)+PF(i.gt);return ZM(s)&&ZM(i.gt)?xF(u):SF(i.serializer,u)}(n,e)}function i7(n,e,t){return n instanceof cg?kF(n,e):n instanceof ug?MF(n,e):t}function AF(n,e){return n instanceof Fy?ZM(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Ly extends CT{}class cg extends CT{constructor(e){super(),this.elements=e}}function kF(n,e){const t=NF(e);for(const i of n.elements)t.some(r=>Yc(r,i))||t.push(i);return{arrayValue:{values:t}}}class ug extends CT{constructor(e){super(),this.elements=e}}function MF(n,e){let t=NF(e);for(const i of n.elements)t=t.filter(r=>!Yc(r,i));return{arrayValue:{values:t}}}class Fy extends CT{constructor(e,t){super(),this.serializer=e,this.gt=t}}function PF(n){return $i(n.integerValue||n.doubleValue)}function NF(n){return _b(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class o7{constructor(e,t){this.version=e,this.transformResults=t}}class wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function IT(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class TT{}function OF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Vy(n.key,wi.none()):new By(n.key,n.data,wi.none());{const t=n.data,i=To.empty();let r=new pi(or.comparator);for(let s of e.fields)if(!r.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new Sd(n.key,i,new Gs(r.toArray()),wi.none())}}function s7(n,e,t){n instanceof By?function(i,r,s){const u=i.value.clone(),f=FF(i.fieldTransforms,r,s.transformResults);u.setAll(f),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Sd?function(i,r,s){if(!IT(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=FF(i.fieldTransforms,r,s.transformResults),f=r.data;f.setAll(LF(i)),f.setAll(u),r.convertToFoundDocument(s.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xb(n,e,t,i){return n instanceof By?function(r,s,u,f){if(!IT(r.precondition,s))return u;const m=r.value.clone(),_=BF(r.fieldTransforms,f,s);return m.setAll(_),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Sd?function(r,s,u,f){if(!IT(r.precondition,s))return u;const m=BF(r.fieldTransforms,f,s),_=s.data;return _.setAll(LF(r)),_.setAll(m),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,IT(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function a7(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=AF(i.transform,r||null);null!=s&&(null===t&&(t=To.empty()),t.set(i.field,s))}return t||null}function RF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&ky(t,i,(r,s)=>function r7(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof cg&&i instanceof cg||t instanceof ug&&i instanceof ug?ky(t.elements,i.elements,Yc):t instanceof Fy&&i instanceof Fy?Yc(t.gt,i.gt):t instanceof Ly&&i instanceof Ly);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class By extends TT{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sd extends TT{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function LF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function FF(n,e,t){const i=new Map;Ct(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],u=s.transform,f=e.data.field(s.field);i.set(s.field,i7(u,f,t[r]))}return i}function BF(n,e,t){const i=new Map;for(const r of n){const s=r.transform,u=t.data.field(r.field);i.set(r.field,n7(s,u,e))}return i}class Vy extends TT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r2 extends TT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class o2{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&s7(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xb(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xb(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=TF();return this.mutations.forEach(r=>{const s=e.get(r.key),u=s.overlayedDocument;let f=this.applyToLocalView(u,s.mutatedFields);f=t.has(r.key)?null:f;const m=OF(u,f);null!==m&&i.set(r.key,m),u.isValidDocument()||u.convertToNoDocument(Tt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&ky(this.mutations,e.mutations,(t,i)=>RF(t,i))&&ky(this.baseMutations,e.baseMutations,(t,i)=>RF(t,i))}}class s2{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ct(e.mutations.length===i.length);let r=X5;const s=e.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new s2(e,t,i,r)}}class a2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class c7{constructor(e,t){this.count=e,this.unchangedNames=t}}var mr,xn;function UF(n){if(void 0===n)return rr("GRPC error has no .code"),ve.UNKNOWN;switch(n){case mr.OK:return ve.OK;case mr.CANCELLED:return ve.CANCELLED;case mr.UNKNOWN:return ve.UNKNOWN;case mr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case mr.INTERNAL:return ve.INTERNAL;case mr.UNAVAILABLE:return ve.UNAVAILABLE;case mr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case mr.NOT_FOUND:return ve.NOT_FOUND;case mr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case mr.ABORTED:return ve.ABORTED;case mr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case mr.DATA_LOSS:return ve.DATA_LOSS;default:return mt()}}(xn=mr||(mr={}))[xn.OK=0]="OK",xn[xn.CANCELLED=1]="CANCELLED",xn[xn.UNKNOWN=2]="UNKNOWN",xn[xn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xn[xn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xn[xn.NOT_FOUND=5]="NOT_FOUND",xn[xn.ALREADY_EXISTS=6]="ALREADY_EXISTS",xn[xn.PERMISSION_DENIED=7]="PERMISSION_DENIED",xn[xn.UNAUTHENTICATED=16]="UNAUTHENTICATED",xn[xn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xn[xn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xn[xn.ABORTED=10]="ABORTED",xn[xn.OUT_OF_RANGE=11]="OUT_OF_RANGE",xn[xn.UNIMPLEMENTED=12]="UNIMPLEMENTED",xn[xn.INTERNAL=13]="INTERNAL",xn[xn.UNAVAILABLE=14]="UNAVAILABLE",xn[xn.DATA_LOSS=15]="DATA_LOSS";class l2{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ST}static getOrCreateInstance(){return null===ST&&(ST=new l2),ST}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ST=null;const u7=new Dy([4294967295,4294967295],0);function jF(n){const e=function HF(){return new TextEncoder}().encode(n),t=new o5;return t.update(e),new Uint8Array(t.digest())}function $F(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Dy([t,i],0),new Dy([r,s],0)]}class c2{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Db(`Invalid padding: ${t}`);if(i<0)throw new Db(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Db(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Db(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Dy.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Dy.fromNumber(i)));return 1===r.compare(u7)&&(r=new Dy([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=jF(e),[i,r]=$F(t);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);if(!this.At(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),u=new c2(s,r,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(0===this.It)return;const t=jF(e),[i,r]=$F(t);for(let s=0;s<this.hashCount;s++){const u=this.Et(i,r,s);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Db extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ab{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,kb.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ab(Tt.min(),r,new ri(Zt),Ws(),nn())}}class kb{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new kb(i,t,nn(),nn(),nn())}}class xT{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class zF{constructor(e,t){this.targetId=e,this.Vt=t}}class GF{constructor(e,t,i=Rr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class WF{constructor(){this.St=0,this.Dt=ZF(),this.Ct=Rr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=nn(),t=nn(),i=nn();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:mt()}}),new kb(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=ZF()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class d7{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ws(),this.zt=qF(),this.Wt=new ri(Zt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const u=s.target;if(_T(u))if(0===r){const f=new st(u.path);this.Yt(i,f,gi.newNoDocument(f,Tt.min()))}else Ct(1===r);else{const f=this.ie(i);if(f!==r){const m=this.re(e,f);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=l2.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(_,I,D){var N,U,B,q,ie,Re;const qe={localCacheCount:I,existenceFilterCount:D.count},Se=D.unchangedNames;return Se&&(qe.bloomFilter={applied:0===_,hashCount:null!==(N=Se?.hashCount)&&void 0!==N?N:0,bitmapLength:null!==(q=null===(B=null===(U=Se?.bits)||void 0===U?void 0:U.bitmap)||void 0===B?void 0:B.length)&&void 0!==q?q:0,padding:null!==(Re=null===(ie=Se?.bits)||void 0===ie?void 0:ie.padding)&&void 0!==Re?Re:0}),qe}(m,f,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let m,_;try{m=Cd(s).toUint8Array()}catch(I){if(I instanceof XL)return Ul("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{_=new c2(m,u,f)}catch(I){return Ul(I instanceof Db?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===_.It?1:r!==t-this.oe(e.targetId,_)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const u=this.Gt.ue(),f=`projects/${u.projectId}/databases/${u.database}/documents/${s.path.canonicalString()}`;t.vt(f)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,u)=>{const f=this.se(u);if(f){if(s.current&&_T(f.target)){const m=new st(f.target.path);null!==this.jt.get(m)||this.ae(u,m)||this.Yt(u,m,gi.newNoDocument(m,e))}s.Mt&&(t.set(u,s.Ot()),s.Ft())}});let i=nn();this.zt.forEach((s,u)=>{let f=!0;u.forEachWhile(m=>{const _=this.se(m);return!_||"TargetPurposeLimboResolution"===_.purpose||(f=!1,!1)}),f&&(i=i.add(s))}),this.jt.forEach((s,u)=>u.setReadTime(e));const r=new Ab(e,t,this.Wt,this.jt,i);return this.jt=Ws(),this.zt=qF(),this.Wt=new ri(Zt),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new WF,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new pi(Zt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new WF),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function qF(){return new ri(st.comparator)}function ZF(){return new ri(st.comparator)}const h7={asc:"ASCENDING",desc:"DESCENDING"},f7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p7={and:"AND",or:"OR"};class g7{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function u2(n,e){return n.useProto3Json||gb(e)?e:{value:e}}function Uy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function m7(n,e){return Uy(n,e.toTimestamp())}function sr(n){return Ct(!!n),Tt.fromTimestamp(function(e){const t=sf(e);return new Mi(t.seconds,t.nanos)}(n))}function d2(n,e){return(t=n,new Sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function YF(n){const e=Sn.fromString(n);return Ct(o6(e)),e}function Mb(n,e){return d2(n.databaseId,e.path)}function Jc(n,e){const t=YF(e);if(t.get(1)!==n.databaseId.projectId)throw new He(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new He(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new st(JF(t))}function h2(n,e){return d2(n.databaseId,e)}function Pb(n){return new Sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JF(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function XF(n,e,t){return{name:Mb(n,e),fields:t.value.mapValue.fields}}function t6(n,e){return{documents:[h2(n,e.path)]}}function p2(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=h2(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=h2(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return r6(Un.create(m,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(m){if(0!==m.length)return m.map(_=>{return{field:df((I=_).field),direction:w7(I.dir)};var I})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=u2(n,e.limit);var f,m;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function n6(n){let e=function QF(n){const e=YF(n);return 4===e.length?Sn.emptyPath():JF(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ct(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let s=[];t.where&&(s=function(I){const D=i6(I);return D instanceof Un&&YM(D)?D.getFilters():[D]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new Ny(Hy((D=I).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let f=null;t.limit&&(f=function(I){let D;return D="object"==typeof I?I.value:I,gb(D)?null:D}(t.limit));let m=null;var I;t.startAt&&(m=new uf((I=t.startAt).values||[],!!I.before));let _=null;return t.endAt&&(_=function(I){return new uf(I.values||[],!I.before)}(t.endAt)),function vF(n,e,t,i,r,s,u,f){return new Id(n,e,t,i,r,s,u,f)}(e,r,u,s,f,"F",m,_)}function i6(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Hy(e.unaryFilter.field);return _n.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Hy(e.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Hy(e.unaryFilter.field);return _n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Hy(e.unaryFilter.field);return _n.create(s,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?_n.create(Hy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Un.create(e.compositeFilter.filters.map(t=>i6(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return mt()}}(e.compositeFilter.op))}(n):mt();var e}function w7(n){return h7[n]}function E7(n){return f7[n]}function C7(n){return p7[n]}function df(n){return{fieldPath:n.canonicalString()}}function Hy(n){return or.fromServerFormat(n.fieldPath)}function r6(n){return n instanceof _n?function(e){if("=="===e.op){if(nF(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NAN"}};if(tF(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nF(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NOT_NAN"}};if(tF(e.value))return{unaryFilter:{field:df(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:df(e.field),op:E7(e.op),value:e.value}}}(n):n instanceof Un?function(e){const t=e.getFilters().map(i=>r6(i));return 1===t.length?t[0]:{compositeFilter:{op:C7(e.op),filters:t}}}(n):mt()}function I7(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function o6(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class xd{constructor(e,t,i,r,s=Tt.min(),u=Tt.min(),f=Rr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new xd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class s6{constructor(e){this.fe=e}}function g2(n){const e=n6({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ET(e,e.limit,"L"):e}class pg{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe($i(e.integerValue));else if("doubleValue"in e){const i=$i(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),mb(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Cd(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?iF(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):mt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),st.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}pg.Ve=new pg;class N7{constructor(){this.rn=new w2}addToCollectionParentIndex(e,t){return this.rn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(_a.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(_a.min())}updateCollectionGroup(e,t,i){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class w2{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new pi(Sn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new pi(Sn.comparator)).toArray()}}new Uint8Array(0);class Ko{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ko(e,Ko.DEFAULT_COLLECTION_PERCENTILE,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ko.DEFAULT_COLLECTION_PERCENTILE=10,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ko.DEFAULT=new Ko(41943040,Ko.DEFAULT_COLLECTION_PERCENTILE,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ko.DISABLED=new Ko(-1,0,0);class mg{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new mg(0)}static Mn(){return new mg(-1)}}class V7{constructor(){this.changes=new Td(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ce.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class j7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class P6{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&xb(i.mutation,r,Gs.empty(),Mi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nn()){const r=Qc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let u=Ib();return s.forEach((f,m)=>{u=u.insert(f,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Qc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let s=Ws();const u=Tb(),f=Tb();return t.forEach((m,_)=>{const I=i.get(_.key);r.has(_.key)&&(void 0===I||I.mutation instanceof Sd)?s=s.insert(_.key,_):void 0!==I?(u.set(_.key,I.mutation.getFieldMask()),xb(I.mutation,_,I.mutation.getFieldMask(),Mi.now())):u.set(_.key,Gs.empty())}),this.recalculateAndSaveOverlays(e,s).next(m=>(m.forEach((_,I)=>u.set(_,I)),t.forEach((_,I)=>{var D;return f.set(_,new j7(I,null!==(D=u.get(_))&&void 0!==D?D:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Tb();let r=new ri((u,f)=>u-f),s=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(m=>{const _=t.get(m);if(null===_)return;let I=i.get(m)||Gs.empty();I=f.applyToLocalView(_,I),i.set(m,I);const D=(r.get(f.batchId)||nn()).add(m);r=r.insert(f.batchId,D)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),_=m.key,I=m.value,D=TF();I.forEach(N=>{if(!s.has(N)){const U=OF(t.get(N),i.get(N));null!==U&&D.set(N,U),s=s.add(N)}}),u.push(this.documentOverlayCache.saveOverlays(e,_,D))}return ce.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return st.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):e2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ce.resolve(Qc());let f=-1,m=s;return u.next(_=>ce.forEach(_,(I,D)=>(f<D.largestBatchId&&(f=D.largestBatchId),s.get(I)?ce.resolve():this.remoteDocumentCache.getEntry(e,I).next(N=>{m=m.insert(I,N)}))).next(()=>this.populateOverlays(e,_,s)).next(()=>this.computeViews(e,m,_,nn())).next(I=>({batchId:f,changes:IF(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new st(t)).next(i=>{let r=Ib();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Ib();return this.indexManager.getCollectionParents(e,r).next(u=>ce.forEach(u,f=>{const m=(_=t,I=f.child(r),new Id(I,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,I;return this.getDocumentsMatchingCollectionQuery(e,m,i).next(_=>{_.forEach((I,D)=>{s=s.insert(I,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((f,m)=>{const _=m.getKey();null===s.get(_)&&(s=s.insert(_,gi.newInvalidDocument(_)))});let u=Ib();return s.forEach((f,m)=>{const _=r.get(f);void 0!==_&&xb(_.mutation,m,Gs.empty(),Mi.now()),Cb(t,m)&&(u=u.insert(f,m))}),u})}}class $7{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ce.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:sr(i.createTime)}),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:g2(i.bundledQuery),readTime:sr(i.readTime)}),ce.resolve();var i}}class z7{constructor(){this.overlays=new ri(st.comparator),this.ls=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Qc();return ce.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),ce.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ce.resolve()}getOverlaysForCollection(e,t,i){const r=Qc(),s=t.length+1,u=new st(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,_=m.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===s&&m.largestBatchId>i&&r.set(m.getKey(),m)}return ce.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ri((_,I)=>_-I);const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>i){let I=s.get(_.largestBatchId);null===I&&(I=Qc(),s=s.insert(_.largestBatchId,I)),I.set(_.getKey(),_)}}const f=Qc(),m=s.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((_,I)=>f.set(_,I)),!(f.size()>=r)););return ce.resolve(f)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new a2(t,i));let s=this.ls.get(t);void 0===s&&(s=nn(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class E2{constructor(){this.fs=new pi(no.ds),this.ws=new pi(no._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new no(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new no(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new st(new Sn([])),i=new no(t,e),r=new no(t,e+1),s=[];return this.ws.forEachInRange([i,r],u=>{this.ys(u),s.push(u.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new st(new Sn([])),i=new no(t,e),r=new no(t,e+1);let s=nn();return this.ws.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new no(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class no{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return st.comparator(e.key,t.key)||Zt(e.As,t.As)}static _s(e,t){return Zt(e.As,t.As)||st.comparator(e.key,t.key)}}class G7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new pi(no.ds)}checkEmpty(e){return ce.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const u=new o2(s,t,i,r);this.mutationQueue.push(u);for(const f of r)this.Rs=this.Rs.add(new no(f.key,s)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new no(t,0),r=new no(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],u=>{const f=this.Ps(u.As);s.push(f)}),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new pi(Zt);return t.forEach(r=>{const s=new no(r,0),u=new no(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,u],f=>{i=i.add(f.As)})}),ce.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;st.isDocumentKey(s)||(s=s.child(""));const u=new no(new st(s),0);let f=new pi(Zt);return this.Rs.forEachWhile(m=>{const _=m.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(f=f.add(m.As)),!0)},u),ce.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ct(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ce.forEach(t.mutations,r=>{const s=new no(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new no(t,0),r=this.Rs.firstAfterOrEqual(i);return ce.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ce.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class W7{constructor(e){this.Ds=e,this.docs=new ri(st.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,u=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ce.resolve(i?i.document.mutableCopy():gi.newInvalidDocument(t))}getEntries(e,t){let i=Ws();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():gi.newInvalidDocument(r))}),ce.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Ws();const u=t.path,f=new st(u.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:_,value:{document:I}}=m.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||$M(UL(I),i)<=0||(r.has(I.key)||Cb(t,I))&&(s=s.insert(I.key,I.mutableCopy()))}return ce.resolve(s)}getAllFromCollectionGroup(e,t,i,r){mt()}Cs(e,t){return ce.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new q7(this)}getSize(e){return ce.resolve(this.size)}}class q7 extends V7{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),ce.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Z7{constructor(e){this.persistence=e,this.xs=new Td(t=>ag(t),wb),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new E2,this.targetCount=0,this.Ms=mg.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),ce.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new mg(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Fn(t),ce.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.xs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ce.waitFor(s).next(()=>r)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return ce.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),ce.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(u=>{s.push(r.markPotentiallyOrphaned(e,u))}),ce.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return ce.resolve(i)}containsKey(e,t){return ce.resolve(this.ks.containsKey(t))}}class C2{constructor(e,t){this.$s={},this.overlays={},this.Os=new ba(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Z7(this),this.indexManager=new N7,this.remoteDocumentCache=new W7(i=>this.referenceDelegate.Ls(i)),this.serializer=new s6(t),this.qs=new $7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new z7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new G7(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Ge("MemoryPersistence","Starting transaction:",e);const r=new K7(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return ce.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class K7 extends m5{constructor(e){super(),this.currentSequenceNumber=e}}class LT{constructor(e){this.persistence=e,this.Qs=new E2,this.js=null}static zs(e){return new LT(e)}get Ws(){if(this.js)return this.js;throw mt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),ce.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Ws,i=>{const r=st.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,Tt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ce.or([()=>ce.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class x2{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=nn(),r=nn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new x2(e,t.fromCache,i,r)}}class O6{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(_F(t))return ce.resolve(null);let i=_s(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ET(t,null,"F"),i=_s(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const u=nn(...s);return this.Ui.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(m=>{const _=this.ji(t,f);return this.zi(t,_,u,m.readTime)?this.Ki(e,ET(t,null,"F")):this.Wi(e,_,t,m)}))})))}Gi(e,t,i,r){return _F(t)||r.isEqual(Tt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const u=this.ji(t,s);return this.zi(t,u,i,r)?this.Qi(e,t):(UM()<=od.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),n2(t)),this.Wi(e,u,t,function VL(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Tt.fromTimestamp(1e9===i?new Mi(t+1,0):new Mi(t,i));return new _a(r,st.empty(),e)}(r,-1)))})}ji(e,t){let i=new pi(EF(e));return t.forEach((r,s)=>{Cb(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return UM()<=od.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",n2(t)),this.Ui.getDocumentsMatchingQuery(e,t,_a.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class Q7{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ri(Zt),this.Yi=new Td(s=>ag(s),wb),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P6(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function L6(n,e){return D2.apply(this,arguments)}function D2(){return D2=(0,Te.Z)(function*(n,e){const t=at(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],f=[];let m=nn();for(const _ of r){u.push(_.batchId);for(const I of _.mutations)m=m.add(I.key)}for(const _ of s){f.push(_.batchId);for(const I of _.mutations)m=m.add(I.key)}return t.localDocuments.getDocuments(i,m).next(_=>({er:_,removedBatchIds:u,addedBatchIds:f}))})})}),D2.apply(this,arguments)}function F6(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function e9(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Gy(n,e,t){return A2.apply(this,arguments)}function A2(){return A2=(0,Te.Z)(function*(n,e,t){const i=at(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!nf(u))throw u;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),A2.apply(this,arguments)}function VT(n,e,t){const i=at(n);let r=Tt.min(),s=nn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,m,_){const I=at(f),D=I.Yi.get(_);return void 0!==D?ce.resolve(I.Ji.get(D)):I.Bs.getTargetData(m,_)}(i,u,_s(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,f.targetId).next(m=>{s=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,e,t?r:Tt.min(),t?s:nn())).next(f=>(function H6(n,e,t){let i=n.Xi.get(e)||Tt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}(i,function wF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,ir:s})))}class O2{constructor(){this.activeTargetIds=function i2(){return t7}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z6{constructor(){this.Hr=new O2,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new O2,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class i9{Yr(e){}shutdown(){}}class G6{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jT=null;function L2(){return null===jT?jT=268435456+Math.round(2147483648*Math.random()):jT++,"0x"+jT.toString(16)}const r9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o9{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Yo="WebChannelConnection";class s9 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const u=L2(),f=this.To(e,t);Ge("RestConnection",`Sending RPC '${e}' ${u}:`,f,i);const m={};return this.Eo(m,r,s),this.Ao(e,f,m,i).then(_=>(Ge("RestConnection",`Received RPC '${e}' ${u}: `,_),_),_=>{throw Ul("RestConnection",`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",i),_})}vo(e,t,i,r,s,u){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ay,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${r9[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=L2();return new Promise((u,f)=>{const m=new r5;m.setWithCredentials(!0),m.listenOnce(t5.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case VM.NO_ERROR:const I=m.getResponseJson();Ge(Yo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(I)),u(I);break;case VM.TIMEOUT:Ge(Yo,`RPC '${e}' ${s} timed out`),f(new He(ve.DEADLINE_EXCEEDED,"Request time out"));break;case VM.HTTP_ERROR:const D=m.getStatus();if(Ge(Yo,`RPC '${e}' ${s} failed with status:`,D,"response text:",m.getResponseText()),D>0){let N=m.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const B=function(q){const ie=q.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(ie)>=0?ie:ve.UNKNOWN}(U.status);f(new He(B,U.message))}else f(new He(ve.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new He(ve.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{Ge(Yo,`RPC '${e}' ${s} completed.`)}});const _=JSON.stringify(r);Ge(Yo,`RPC '${e}' ${s} sending request:`,r),m.send(t,"POST",_,i,15)})}Ro(e,t,i){const r=L2(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=XB(),f=e5(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.xmlHttpFactory=new i5({})),this.Eo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const I=s.join("");Ge(Yo,`Creating RPC '${e}' stream ${r}: ${I}`,m);const D=u.createWebChannel(I,m);let N=!1,U=!1;const B=new o9({ro:ie=>{U?Ge(Yo,`Not sending because RPC '${e}' stream ${r} is closed:`,ie):(N||(Ge(Yo,`Opening RPC '${e}' stream ${r} transport.`),D.open(),N=!0),Ge(Yo,`RPC '${e}' stream ${r} sending:`,ie),D.send(ie))},oo:()=>D.close()}),q=(ie,Re,qe)=>{ie.listen(Re,Se=>{try{qe(Se)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return q(D,lT.EventType.OPEN,()=>{U||Ge(Yo,`RPC '${e}' stream ${r} transport opened.`)}),q(D,lT.EventType.CLOSE,()=>{U||(U=!0,Ge(Yo,`RPC '${e}' stream ${r} transport closed`),B.wo())}),q(D,lT.EventType.ERROR,ie=>{U||(U=!0,Ul(Yo,`RPC '${e}' stream ${r} transport errored:`,ie),B.wo(new He(ve.UNAVAILABLE,"The operation could not be completed")))}),q(D,lT.EventType.MESSAGE,ie=>{var Re;if(!U){const qe=ie.data[0];Ct(!!qe);const Oe=qe.error||(null===(Re=qe[0])||void 0===Re?void 0:Re.error);if(Oe){Ge(Yo,`RPC '${e}' stream ${r} received error:`,Oe);const Ze=Oe.status;let it=function(nt){const Qe=mr[nt];if(void 0!==Qe)return UF(Qe)}(Ze),Dt=Oe.message;void 0===it&&(it=ve.INTERNAL,Dt="Unknown error status: "+Ze+" with message "+Oe.message),U=!0,B.wo(new He(it,Dt)),D.close()}else Ge(Yo,`RPC '${e}' stream ${r} received:`,qe),B._o(qe)}}),q(f,n5.STAT_EVENT,ie=>{ie.stat===NL.PROXY?Ge(Yo,`RPC '${e}' stream ${r} detected buffering proxy`):ie.stat===NL.NOPROXY&&Ge(Yo,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.fo()},0),B}}function $T(){return typeof document<"u"?document:null}function jb(n){return new g7(n,!0)}class F2{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class q6{constructor(e,t,i,r,s,u,f,m){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new F2(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Te.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Te.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,Te.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(rr(t.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===ve.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new He(ve.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Te.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a9 extends q6{constructor(e,t,i,r,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function v7(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:mt(),r=e.targetChange.targetIds||[],s=function(m,_){return m.useProto3Json?(Ct(void 0===_||"string"==typeof _),Rr.fromBase64String(_||"")):(Ct(void 0===_||_ instanceof Uint8Array),Rr.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(m){const _=void 0===m.code?ve.UNKNOWN:UF(m.code);return new He(_,m.message||"")}(u);t=new GF(i,r,s,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Jc(n,i.document.name),s=sr(i.document.updateTime),u=i.document.createTime?sr(i.document.createTime):Tt.min(),f=new To({mapValue:{fields:i.document.fields}}),m=gi.newFoundDocument(r,s,u,f);t=new xT(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const i=e.documentDelete,r=Jc(n,i.document),s=i.readTime?sr(i.readTime):Tt.min(),u=gi.newNoDocument(r,s);t=new xT([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Jc(n,i.document);t=new xT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return mt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,u=new c7(r,s);t=new zF(i.targetId,u)}}var m;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return Tt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Tt.min():s.readTime?sr(s.readTime):Tt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Pb(this.serializer),t.addTarget=function(r,s){let u;const f=s.target;if(u=_T(f)?{documents:t6(r,f)}:{query:p2(r,f)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=KF(r,s.resumeToken);const m=u2(r,s.expectedCount);null!==m&&(u.expectedCount=m)}else if(s.snapshotVersion.compareTo(Tt.min())>0){u.readTime=Uy(r,s.snapshotVersion.toTimestamp());const m=u2(r,s.expectedCount);null!==m&&(u.expectedCount=m)}return u}(this.serializer,e);const i=function b7(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Pb(this.serializer),t.removeTarget=e,this.Wo(t)}}class l9 extends q6{constructor(e,t,i,r,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function _7(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(i,r){let s=sr(i.updateTime?i.updateTime:r);return s.isEqual(Tt.min())&&(s=sr(r)),new o7(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=sr(e.commitTime);return this.listener.cu(i,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Pb(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Nb(n,e){let t;if(e instanceof By)t={update:XF(n,e.key,e.value)};else if(e instanceof Vy)t={delete:Mb(n,e.key)};else if(e instanceof Sd)t={update:XF(n,e.key,e.data),updateMask:I7(e.fieldMask)};else{if(!(e instanceof r2))return mt();t={verify:Mb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof Ly)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof cg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ug)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Fy)return{fieldPath:s.field.canonicalString(),increment:u.gt};throw mt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:m7(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:mt()),t;var r}(this.serializer,i))};this.Wo(t)}}class c9 extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new He(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new He(ve.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.vo(e,t,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(ve.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class d9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(rr(t),this.mu=!1):Ge("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class h9{constructor(e,t,i,r,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(f=>{i.enqueueAndForget((0,Te.Z)(function*(){var m;gf(u)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,Te.Z)(function*(_){const I=at(_);I.vu.add(4),yield Wy(I),I.bu.set("Unknown"),I.vu.delete(4),yield $b(I)}),function(_){return m.apply(this,arguments)})(u))}))}),this.bu=new d9(i,r)}}function $b(n){return V2.apply(this,arguments)}function V2(){return V2=(0,Te.Z)(function*(n){if(gf(n))for(const e of n.Ru)yield e(!0)}),V2.apply(this,arguments)}function Wy(n){return U2.apply(this,arguments)}function U2(){return U2=(0,Te.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),U2.apply(this,arguments)}function zT(n,e){const t=at(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),$2(t)?j2(t):Zy(t).Ko()&&H2(t,e))}function zb(n,e){const t=at(n),i=Zy(t);t.Au.delete(e),i.Ko()&&Z6(t,e),0===t.Au.size&&(i.Ko()?i.jo():gf(t)&&t.bu.set("Unknown"))}function H2(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zy(n).su(e)}function Z6(n,e){n.Vu.qt(e),Zy(n).iu(e)}function j2(n){n.Vu=new d7({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Zy(n).start(),n.bu.gu()}function $2(n){return gf(n)&&!Zy(n).Uo()&&n.Au.size>0}function gf(n){return 0===at(n).vu.size}function K6(n){n.Vu=void 0}function f9(n){return z2.apply(this,arguments)}function z2(){return z2=(0,Te.Z)(function*(n){n.Au.forEach((e,t)=>{H2(n,e)})}),z2.apply(this,arguments)}function p9(n,e){return G2.apply(this,arguments)}function G2(){return G2=(0,Te.Z)(function*(n,e){K6(n),$2(n)?(n.bu.Iu(e),j2(n)):n.bu.set("Unknown")}),G2.apply(this,arguments)}function g9(n,e,t){return W2.apply(this,arguments)}function W2(){return W2=(0,Te.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof GF&&2===e.state&&e.cause)try{yield(i=(0,Te.Z)(function*(r,s){const u=s.cause;for(const f of s.targetIds)r.Au.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.Au.delete(f),r.Vu.removeTarget(f))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield GT(n,i)}else if(e instanceof xT?n.Vu.Ht(e):e instanceof zF?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Tt.min()))try{const i=yield F6(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const u=r.Vu.ce(s);return u.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=r.Au.get(m);_&&r.Au.set(m,_.withResumeToken(f.resumeToken,s))}}),u.targetMismatches.forEach((f,m)=>{const _=r.Au.get(f);if(!_)return;r.Au.set(f,_.withResumeToken(Rr.EMPTY_BYTE_STRING,_.snapshotVersion)),Z6(r,f);const I=new xd(_.target,f,m,_.sequenceNumber);H2(r,I)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Ge("RemoteStore","Failed to raise snapshot:",i),yield GT(n,i)}var i}),W2.apply(this,arguments)}function GT(n,e,t){return q2.apply(this,arguments)}function q2(){return q2=(0,Te.Z)(function*(n,e,t){if(!nf(e))throw e;n.vu.add(1),yield Wy(n),n.bu.set("Offline"),t||(t=()=>F6(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield $b(n)}))}),q2.apply(this,arguments)}function Y6(n,e){return e().catch(t=>GT(n,t,e))}function qy(n){return Z2.apply(this,arguments)}function Z2(){return Z2=(0,Te.Z)(function*(n){const e=at(n),t=mf(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;m9(e);)try{const r=yield e9(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,y9(e,r)}catch(r){yield GT(e,r)}Q6(e)&&J6(e)}),Z2.apply(this,arguments)}function m9(n){return gf(n)&&n.Eu.length<10}function y9(n,e){n.Eu.push(e);const t=mf(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Q6(n){return gf(n)&&!mf(n).Uo()&&n.Eu.length>0}function J6(n){mf(n).start()}function v9(n){return K2.apply(this,arguments)}function K2(){return K2=(0,Te.Z)(function*(n){mf(n).hu()}),K2.apply(this,arguments)}function _9(n){return Y2.apply(this,arguments)}function Y2(){return Y2=(0,Te.Z)(function*(n){const e=mf(n);for(const t of n.Eu)e.uu(t.mutations)}),Y2.apply(this,arguments)}function b9(n,e,t){return Q2.apply(this,arguments)}function Q2(){return Q2=(0,Te.Z)(function*(n,e,t){const i=n.Eu.shift(),r=s2.from(i,e,t);yield Y6(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield qy(n)}),Q2.apply(this,arguments)}function w9(n,e){return J2.apply(this,arguments)}function J2(){return J2=(0,Te.Z)(function*(n,e){var t;e&&mf(n).ou&&(yield(t=(0,Te.Z)(function*(i,r){if(function VF(n){switch(n){default:return mt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}(s=r.code)&&s!==ve.ABORTED){const u=i.Eu.shift();mf(i).Qo(),yield Y6(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield qy(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),Q6(n)&&J6(n)}),J2.apply(this,arguments)}function X6(n,e){return X2.apply(this,arguments)}function X2(){return X2=(0,Te.Z)(function*(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const i=gf(t);t.vu.add(3),yield Wy(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield $b(t)}),X2.apply(this,arguments)}function tP(){return tP=(0,Te.Z)(function*(n,e){const t=at(n);e?(t.vu.delete(2),yield $b(t)):e||(t.vu.add(2),yield Wy(t),t.bu.set("Unknown"))}),tP.apply(this,arguments)}function Zy(n){return n.Su||(n.Su=function(e,t,i){const r=at(e);return r.fu(),new a9(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:f9.bind(null,n),ao:p9.bind(null,n),nu:g9.bind(null,n)}),n.Ru.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Su.Qo(),$2(n)?j2(n):n.bu.set("Unknown")):(yield n.Su.stop(),K6(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function mf(n){return n.Du||(n.Du=function(e,t,i){const r=at(e);return r.fu(),new l9(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:v9.bind(null,n),ao:w9.bind(null,n),au:_9.bind(null,n),cu:b9.bind(null,n)}),n.Ru.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Du.Qo(),yield qy(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class nP{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,s){const u=Date.now()+i,f=new nP(e,t,u,r,s);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new He(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ky(n,e){if(rr("AsyncQueue",`${e}: ${n}`),nf(n))return new He(ve.UNAVAILABLE,`${e}: ${n}`);throw n}class Yy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||st.comparator(t.key,i.key):(t,i)=>st.comparator(t.key,i.key),this.keyedMap=Ib(),this.sortedSet=new ri(this.comparator)}static emptySet(e){return new Yy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Yy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class e3{constructor(){this.Cu=new ri(st.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):mt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Qy{constructor(e,t,i,r,s,u,f,m,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(e,t,i,r,s){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Qy(e,t,Yy.emptySet(t),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class E9{constructor(){this.Nu=void 0,this.listeners=[]}}class C9{constructor(){this.queries=new Td(e=>bF(e),Eb),this.onlineState="Unknown",this.ku=new Set}}function iP(n,e){return rP.apply(this,arguments)}function rP(){return rP=(0,Te.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new E9),r)try{s.Nu=yield t.onListen(i)}catch(u){const f=Ky(u,`Initialization of query '${n2(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&aP(t)}),rP.apply(this,arguments)}function oP(n,e){return sP.apply(this,arguments)}function sP(){return sP=(0,Te.Z)(function*(n,e){const t=at(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),sP.apply(this,arguments)}function I9(n,e){const t=at(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.$u(r)&&(i=!0);u.Nu=r}}i&&aP(t)}function T9(n,e,t){const i=at(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function aP(n){n.ku.forEach(e=>{e.next()})}class lP{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Qy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Qy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class i3{constructor(e){this.key=e}}class r3{constructor(e){this.key=e}}class o3{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=nn(),this.mutatedKeys=nn(),this.tc=EF(e),this.ec=new Yy(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new e3,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,D)=>{const N=r.get(I),U=Cb(this.query,D)?D:null,B=!!N&&this.mutatedKeys.has(N.key),q=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let ie=!1;N&&U?N.data.isEqual(U.data)?B!==q&&(i.track({type:3,doc:U}),ie=!0):this.rc(N,U)||(i.track({type:2,doc:U}),ie=!0,(m&&this.tc(U,m)>0||_&&this.tc(U,_)<0)&&(f=!0)):!N&&U?(i.track({type:0,doc:U}),ie=!0):N&&!U&&(i.track({type:1,doc:N}),ie=!0,(m||_)&&(f=!0)),ie&&(U?(u=u.add(U),s=q?s.add(I):s.delete(I)):(u=u.delete(I),s=s.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),s=s.delete(I.key),i.track({type:1,doc:I})}return{ec:u,ic:i,zi:f,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((_,I)=>function(D,N){const U=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return U(D)-U(N)}(_.type,I.type)||this.tc(_.doc,I.doc)),this.oc(i);const u=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==s.length||m?{snapshot:new Qy(this.query,e.ec,r,s,e.mutatedKeys,0===f,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new e3,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=nn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new r3(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new i3(i))}),t}hc(e){this.Yu=e.ir,this.Zu=nn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Qy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class D9{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class A9{constructor(e){this.key=e,this.fc=!1}}class k9{constructor(e,t,i,r,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Td(f=>bF(f),Eb),this._c=new Map,this.mc=new Set,this.gc=new ri(st.comparator),this.yc=new Map,this.Ic=new E2,this.Tc={},this.Ec=new Map,this.Ac=mg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function M9(n,e){return cP.apply(this,arguments)}function cP(){return cP=(0,Te.Z)(function*(n,e){const t=function PP(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=s3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O9.bind(null,e),e.dc.nu=I9.bind(null,e.eventManager),e.dc.Pc=T9.bind(null,e.eventManager),e}(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const u=yield function zy(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,ce.resolve(r)):t.Bs.allocateTargetId(i).next(u=>(r=new xd(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}(t.localStore,_s(e)),f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield function uP(n,e,t,i,r){return dP.apply(this,arguments)}(t,e,i,"current"===f,u.resumeToken),t.isPrimaryClient&&zT(t.remoteStore,u)}return r}),cP.apply(this,arguments)}function dP(){return dP=(0,Te.Z)(function*(n,e,t,i,r){n.Rc=(D,N,U)=>{return(B=(0,Te.Z)(function*(q,ie,Re,qe){let Se=ie.view.sc(Re);Se.zi&&(Se=yield VT(q.localStore,ie.query,!1).then(({documents:it})=>ie.view.sc(it,Se)));const Oe=qe&&qe.targetChanges.get(ie.targetId),Ze=ie.view.applyChanges(Se,q.isPrimaryClient,Oe);return wP(q,ie.targetId,Ze.cc),Ze.snapshot}),function(q,ie,Re,qe){return B.apply(this,arguments)})(n,D,N,U);var B};const s=yield VT(n.localStore,e,!0),u=new o3(e,s.ir),f=u.sc(s.documents),m=kb.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),_=u.applyChanges(f,n.isPrimaryClient,m);wP(n,t,_.cc);const I=new D9(e,t,u);return n.wc.set(e,I),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),_.snapshot}),dP.apply(this,arguments)}function P9(n,e){return hP.apply(this,arguments)}function hP(){return hP=(0,Te.Z)(function*(n,e){const t=at(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!Eb(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Gy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),zb(t.remoteStore,i.targetId),Jy(t,i.targetId)}).catch(tf))):(Jy(t,i.targetId),yield Gy(t.localStore,i.targetId,!0))}),hP.apply(this,arguments)}function fP(){return fP=(0,Te.Z)(function*(n,e,t){const i=function NP(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L9.bind(null,e),e}(n);try{const r=yield function(s,u){const f=at(s),m=Mi.now(),_=u.reduce((N,U)=>N.add(U.key),nn());let I,D;return f.persistence.runTransaction("Locally write mutations","readwrite",N=>{let U=Ws(),B=nn();return f.Zi.getEntries(N,_).next(q=>{U=q,U.forEach((ie,Re)=>{Re.isValidDocument()||(B=B.add(ie))})}).next(()=>f.localDocuments.getOverlayedDocuments(N,U)).next(q=>{I=q;const ie=[];for(const Re of u){const qe=a7(Re,I.get(Re.key).overlayedDocument);null!=qe&&ie.push(new Sd(Re.key,qe,sF(qe.value.mapValue),wi.exists(!0)))}return f.mutationQueue.addMutationBatch(N,m,ie,u)}).next(q=>{D=q;const ie=q.applyToLocalDocumentSet(I,B);return f.documentOverlayCache.saveOverlays(N,q.batchId,ie)})}).then(()=>({batchId:D.batchId,changes:IF(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,f){let m=s.Tc[s.currentUser.toKey()];m||(m=new ri(Zt)),m=m.insert(u,f),s.Tc[s.currentUser.toKey()]=m}(i,r.batchId,t),yield Dd(i,r.changes),yield qy(i.remoteStore)}catch(r){const s=Ky(r,"Failed to persist write");t.reject(s)}}),fP.apply(this,arguments)}function s3(n,e){return pP.apply(this,arguments)}function pP(){return pP=(0,Te.Z)(function*(n,e){const t=at(n);try{const i=yield function X7(n,e){const t=at(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const f=[];e.targetChanges.forEach((I,D)=>{const N=r.get(D);if(!N)return;f.push(t.Bs.removeMatchingKeys(s,I.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(s,I.addedDocuments,D)));let U=N.withSequenceNumber(s.currentSequenceNumber);var B,q,ie;null!==e.targetMismatches.get(D)?U=U.withResumeToken(Rr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):I.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(I.resumeToken,i)),r=r.insert(D,U),q=U,ie=I,(0===(B=N).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(s,U))});let m=Ws(),_=nn();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(s,I))}),f.push(function B6(n,e,t){let i=nn(),r=nn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let u=Ws();return t.forEach((f,m)=>{const _=s.get(f);m.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(f)),m.isNoDocument()&&m.version.isEqual(Tt.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||0===m.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):Ge("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",m.version)}),{nr:u,sr:r}})}(s,u,e.documentUpdates).next(I=>{m=I.nr,_=I.sr})),!i.isEqual(Tt.min())){const I=t.Bs.getLastRemoteSnapshotVersion(s).next(D=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));f.push(I)}return ce.waitFor(f).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,m,_)).next(()=>m)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const u=t.yc.get(s);u&&(Ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.fc=!0:r.modifiedDocuments.size>0?Ct(u.fc):r.removedDocuments.size>0&&(Ct(u.fc),u.fc=!1))}),yield Dd(t,i,e)}catch(i){yield tf(i)}}),pP.apply(this,arguments)}function a3(n,e,t){const i=at(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,u)=>{const f=u.view.Mu(e);f.snapshot&&r.push(f.snapshot)}),function(s,u){const f=at(s);f.onlineState=u;let m=!1;f.queries.forEach((_,I)=>{for(const D of I.listeners)D.Mu(u)&&(m=!0)}),m&&aP(f)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function O9(n,e,t){return gP.apply(this,arguments)}function gP(){return gP=(0,Te.Z)(function*(n,e,t){const i=at(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let u=new ri(st.comparator);u=u.insert(s,gi.newNoDocument(s,Tt.min()));const f=nn().add(s),m=new Ab(Tt.min(),new Map,new ri(Zt),u,f);yield s3(i,m),i.gc=i.gc.remove(s),i.yc.delete(e),EP(i)}else yield Gy(i.localStore,e,!1).then(()=>Jy(i,e,t)).catch(tf)}),gP.apply(this,arguments)}function R9(n,e){return mP.apply(this,arguments)}function mP(){return mP=(0,Te.Z)(function*(n,e){const t=at(n),i=e.batch.batchId;try{const r=yield function J7(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,f,m,_){const I=m.batch,D=I.keys();let N=ce.resolve();return D.forEach(U=>{N=N.next(()=>_.getEntry(f,U)).next(B=>{const q=m.docVersions.get(U);Ct(null!==q),B.version.compareTo(q)<0&&(I.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),_.addEntry(B)))})}),N.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=nn();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);bP(t,i,null),_P(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Dd(t,r)}catch(r){yield tf(r)}}),mP.apply(this,arguments)}function L9(n,e,t){return yP.apply(this,arguments)}function yP(){return yP=(0,Te.Z)(function*(n,e,t){const i=at(n);try{const r=yield function(s,u){const f=at(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,u).next(I=>(Ct(null!==I),_=I.keys(),f.mutationQueue.removeMutationBatch(m,I))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(i.localStore,e);bP(i,e,t),_P(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Dd(i,r)}catch(r){yield tf(r)}}),yP.apply(this,arguments)}function _P(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function bP(n,e,t){const i=at(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Jy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||l3(n,i)})}function l3(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(zb(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),EP(n))}function wP(n,e,t){for(const i of t)i instanceof i3?(n.Ic.addReference(i.key,e),B9(n,i)):i instanceof r3?(Ge("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||l3(n,i.key)):mt()}function B9(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Ge("SyncEngine","New document in limbo: "+t),n.mc.add(i),EP(n))}function EP(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new st(Sn.fromString(e)),i=n.Ac.next();n.yc.set(i,new A9(t)),n.gc=n.gc.insert(t,i),zT(n.remoteStore,new xd(_s(Ry(t.path)),i,"TargetPurposeLimboResolution",ba.ct))}}function Dd(n,e,t){return CP.apply(this,arguments)}function CP(){return CP=(0,Te.Z)(function*(n,e,t){const i=at(n),r=[],s=[],u=[];var f;i.wc.isEmpty()||(i.wc.forEach((f,m)=>{u.push(i.Rc(m,e,t).then(_=>{if((_||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const I=x2.Li(m.targetId,_);s.push(I)}}))}),yield Promise.all(u),i.dc.nu(r),yield(f=(0,Te.Z)(function*(m,_){const I=at(m);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ce.forEach(_,N=>ce.forEach(N.Fi,U=>I.persistence.referenceDelegate.addReference(D,N.targetId,U)).next(()=>ce.forEach(N.Bi,U=>I.persistence.referenceDelegate.removeReference(D,N.targetId,U)))))}catch(D){if(!nf(D))throw D;Ge("LocalStore","Failed to update sequence numbers: "+D)}for(const D of _){const N=D.targetId;if(!D.fromCache){const U=I.Ji.get(N),q=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);I.Ji=I.Ji.insert(N,q)}}}),function(m,_){return f.apply(this,arguments)})(i.localStore,s))}),CP.apply(this,arguments)}function V9(n,e){return IP.apply(this,arguments)}function IP(){return IP=(0,Te.Z)(function*(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const i=yield L6(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(u=>{u.forEach(f=>{f.reject(new He(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Dd(t,i.er)}var r}),IP.apply(this,arguments)}function U9(n,e){const t=at(n),i=t.yc.get(e);if(i&&i.fc)return nn().add(i.key);{let r=nn();const s=t._c.get(e);if(!s)return r;for(const u of s){const f=t.wc.get(u);r=r.unionWith(f.view.nc)}return r}}class WT{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.serializer=jb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function R6(n,e,t,i){return new Q7(n,e,t,i)}(this.persistence,new O6,e.initialUser,this.serializer)}createPersistence(e){return new C2(LT.zs,this.serializer)}createSharedClientState(e){return new z6}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xy{initialize(e,t){var i=this;return(0,Te.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>a3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=V9.bind(null,i.syncEngine),yield function eP(n,e){return tP.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new C9}createDatastore(e){const t=jb(e.databaseInfo.databaseId),i=new s9(e.databaseInfo);return new c9(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=f=>a3(this.syncEngine,f,0),u=G6.D()?new G6:new i9,new h9(t,i,r,s,u);var t,i,r,s,u}createSyncEngine(e,t){return function(i,r,s,u,f,m,_){const I=new k9(i,r,s,u,f,m);return _&&(I.vc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const i=at(t);Ge("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Wy(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class qT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class X9{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=eo.UNAUTHENTICATED,this.clientId=FL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,Te.Z)(function*(f){Ge("FirestoreClient","Received user=",f.uid),yield s.authCredentialListener(f),s.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ge("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Ky(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function ZT(n,e){return OP.apply(this,arguments)}function OP(){return OP=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Te.Z)(function*(s){i.isEqual(s)||(yield L6(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),OP.apply(this,arguments)}function RP(n,e){return LP.apply(this,arguments)}function LP(){return LP=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function FP(n){return BP.apply(this,arguments)}(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>X6(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>X6(e.remoteStore,s)),n._onlineComponents=e}),LP.apply(this,arguments)}function BP(){return BP=(0,Te.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ZT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function p3(n){return"FirebaseError"===n.name?n.code===ve.FAILED_PRECONDITION||n.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Ul("Error using user provided cache. Falling back to memory cache: "+t),yield ZT(n,new WT)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),yield ZT(n,new WT);return n._offlineComponents}),BP.apply(this,arguments)}function KT(n){return VP.apply(this,arguments)}function VP(){return VP=(0,Te.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield RP(n,n._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield RP(n,new Xy))),n._onlineComponents}),VP.apply(this,arguments)}function ev(n){return HP.apply(this,arguments)}function HP(){return HP=(0,Te.Z)(function*(n){const e=yield KT(n),t=e.eventManager;return t.onListen=M9.bind(null,e.syncEngine),t.onUnlisten=P9.bind(null,e.syncEngine),t}),HP.apply(this,arguments)}function b3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const w3=new Map;function jP(n,e,t){if(!t)throw new He(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function E3(n){if(!st.isDocumentKey(n))throw new He(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function C3(n){if(st.isDocumentKey(n))throw new He(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":mt()}function wn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new He(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=QT(n);throw new He(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class T3{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new He(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new He(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function l8(n,e,t,i){if(!0===e&&!0===i)throw new He(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=b3(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new He(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new He(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new He(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gb{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new He(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new s5;switch(t.type){case"firstParty":return new u5(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new He(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=w3.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),w3.delete(e),t.terminate())}(this),Promise.resolve()}}class ar{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class So{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new So(this.firestore,e,this._query)}}class Xc extends So{constructor(e,t,i){super(e,t,Ry(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new st(e))}withConverter(e){return new Xc(this.firestore,e,this._path)}}function u8(n,e,...t){if(n=(0,Ai.m9)(n),jP("collection","path",e),n instanceof Gb){const i=Sn.fromString(e,...t);return C3(i),new Xc(n,null,i)}{if(!(n instanceof ar||n instanceof Xc))throw new He(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Sn.fromString(e,...t));return C3(i),new Xc(n.firestore,null,i)}}function S3(n,e,...t){if(n=(0,Ai.m9)(n),1===arguments.length&&(e=FL.A()),jP("doc","path",e),n instanceof Gb){const i=Sn.fromString(e,...t);return E3(i),new ar(n,null,new st(i))}{if(!(n instanceof ar||n instanceof Xc))throw new He(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Sn.fromString(e,...t));return E3(i),new ar(n.firestore,n instanceof Xc?n.converter:null,new st(i))}}function x3(n,e){return n=(0,Ai.m9)(n),e=(0,Ai.m9)(e),(n instanceof ar||n instanceof Xc)&&(e instanceof ar||e instanceof Xc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}class d8{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new F2(this,"async_queue_retry"),this.Xc=()=>{const t=$T();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=$T();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=$T();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Or;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Te.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!nf(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,rr("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=nP.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&mt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function $P(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class mi extends Gb{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new d8,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||A3(this),this._firestoreClient.terminate()}}function f8(n,e,t){t||(t="(default)");const i=(0,Ls._getProvider)(n,"firestore");if(i.isInitialized(t)){const r=i.getImmediate({identifier:t}),s=i.getOptions(t);if((0,Ai.vZ)(s,e))return r;throw new He(ve.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==e.cacheSizeBytes&&void 0!==e.localCache)throw new He(ve.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==e.cacheSizeBytes&&-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new He(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:e,instanceIdentifier:t})}function yr(n){return n._firestoreClient||A3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function A3(n){var e,t,i;const r=n._freezeSettings(),s=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new U5(n._databaseId,f,n._persistenceKey,(_=r).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,b3(_.experimentalLongPollingOptions),_.useFetchStreams));var f,_;n._firestoreClient=new X9(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class vg{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vg(Rr.fromBase64String(e))}catch(t){throw new He(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vg(Rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tv{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new He(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zP{constructor(e){this._methodName=e}}class GP{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const g8=/^__.*__$/;class m8{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Sd(e,this.data,this.fieldMask,t,this.fieldTransforms):new By(e,this.data,t,this.fieldTransforms)}}class P3{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Sd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function N3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class JT{constructor(e,t,i,r,s,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new JT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return eS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(N3(this.ca)&&g8.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class y8{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||jb(e)}ya(e,t,i,r=!1){return new JT({ca:e,methodName:t,ga:i,path:or.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nv(n){const e=n._freezeSettings(),t=jb(n._databaseId);return new y8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WP(n,e,t,i,r,s={}){const u=n.ya(s.merge||s.mergeFields?2:0,e,t,r);ZP("Data must be an object, but it was:",u,i);const f=B3(i,u);let m,_;if(s.merge)m=new Gs(u.fieldMask),_=u.fieldTransforms;else if(s.mergeFields){const I=[];for(const D of s.mergeFields){const N=Zb(e,D,t);if(!u.contains(N))throw new He(ve.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);U3(I,N)||I.push(N)}m=new Gs(I),_=u.fieldTransforms.filter(D=>m.covers(D.field))}else m=null,_=u.fieldTransforms;return new m8(new To(f),m,_)}class qb extends zP{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qb}}function F3(n,e,t,i=!1){return _g(t,n.ya(i?4:3,e))}function _g(n,e){if(V3(n=(0,Ai.m9)(n)))return ZP("Unsupported field value:",e,n),B3(n,e);if(n instanceof zP)return function(t,i){if(!N3(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const u of t){let f=_g(u,i.wa(s));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Ai.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return DF(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Mi.fromDate(t);return{timestampValue:Uy(i.serializer,r)}}if(t instanceof Mi){const r=new Mi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Uy(i.serializer,r)}}if(t instanceof GP)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vg)return{bytesValue:KF(i.serializer,t._byteString)};if(t instanceof ar){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:d2(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${QT(t)}`)}(n,e)}function B3(n,e){const t={};return QL(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rf(n,(i,r)=>{const s=_g(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function V3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Mi||n instanceof GP||n instanceof vg||n instanceof ar||n instanceof zP)}function ZP(n,e,t){if(!V3(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=QT(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Zb(n,e,t){if((e=(0,Ai.m9)(e))instanceof tv)return e._internalPath;if("string"==typeof e)return XT(n,e);throw eS("Field path arguments must be of type string or ",n,!1,void 0,t)}const w8=new RegExp("[~\\*/\\[\\]]");function XT(n,e,t){if(e.search(w8)>=0)throw eS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new tv(...e.split("."))._internalPath}catch{throw eS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eS(n,e,t,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(s||u)&&(m+=" (found",s&&(m+=` in field ${i}`),u&&(m+=` in document ${r}`),m+=")"),new He(ve.INVALID_ARGUMENT,f+n+m)}function U3(n,e){return n.some(t=>t.isEqual(e))}class KP{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new E8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class E8 extends KP{data(){return super.data()}}function tS(n,e){return"string"==typeof e?XT(n,e):e instanceof tv?e._internalPath:e._delegate._internalPath}function H3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new He(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YP{}class nS extends YP{}function C8(n,e,...t){let i=[];e instanceof YP&&i.push(e),i=i.concat(t),function(r){const s=r.filter(f=>f instanceof iv).length,u=r.filter(f=>f instanceof Kb).length;if(s>1||s>0&&u>0)throw new He(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Kb extends nS{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Kb(e,t,i)}_apply(e){const t=this._parse(e);return G3(e._query,t),new So(e.firestore,e.converter,t2(e._query,t))}_parse(e){const t=nv(e.firestore);return function(r,s,u,f,m,_,I){let D;if(m.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new He(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){z3(I,_);const N=[];for(const U of I)N.push($3(f,r,U));D={arrayValue:{values:N}}}else D=$3(f,r,I)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||z3(I,_),D=F3(u,"where",I,"in"===_||"not-in"===_);return _n.create(m,_,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class iv extends YP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Un.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const u=r.getFlattenedFilters();for(const f of u)G3(s,f),s=t2(s,f)}(e._query,t),new So(e.firestore,e.converter,t2(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QP extends nS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new QP(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new He(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new He(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ny(r,s);return function(f,m){if(null===XM(f)){const _=wT(f);null!==_&&W3(0,_,m.field)}}(i,u),u}(e._query,this._field,this._direction);return new So(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Id(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function I8(n,e="asc"){const t=e,i=tS("orderBy",n);return QP._create(i,t)}class iS extends nS{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new iS(e,t,i)}_apply(e){return new So(e.firestore,e.converter,ET(e._query,this._limit,this._limitType))}}function T8(n){return function I3(n,e){if(e<=0)throw new He(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}("limit",n),iS._create("limit",n,"F")}class rS extends nS{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new rS(e,t,i)}_apply(e){const t=function j3(n,e,t,i){if(t[0]=(0,Ai.m9)(t[0]),t[0]instanceof KP)return function(r,s,u,f,m){if(!f)throw new He(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const _=[];for(const I of lg(r))if(I.field.isKeyField())_.push(sg(s,f.key));else{const D=f.data.field(I.field);if(pT(D))throw new He(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const N=I.field.canonicalString();throw new He(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}_.push(D)}return new uf(_,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=nv(n.firestore);return function(s,u,f,m,_,I){const D=s.explicitOrderBy;if(_.length>D.length)throw new He(ve.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let U=0;U<_.length;U++){const B=_[U];if(D[U].field.isKeyField()){if("string"!=typeof B)throw new He(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof B}`);if(!e2(s)&&-1!==B.indexOf("/"))throw new He(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${B}' contains a slash.`);const q=s.path.child(Sn.fromString(B));if(!st.isDocumentKey(q))throw new He(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const ie=new st(q);N.push(sg(u,ie))}else{const q=F3(f,m,B);N.push(q)}}return new uf(N,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}(e,this.type,this._docOrFields,this._inclusive);return new So(e.firestore,e.converter,(r=t,new Id((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}function S8(...n){return rS._create("startAfter",n,!1)}function $3(n,e,t){if("string"==typeof(t=(0,Ai.m9)(t))){if(""===t)throw new He(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e2(e)&&-1!==t.indexOf("/"))throw new He(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Sn.fromString(t));if(!st.isDocumentKey(i))throw new He(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sg(n,new st(i))}if(t instanceof ar)return sg(n,t._key);throw new He(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QT(t)}.`)}function z3(n,e){if(!Array.isArray(n)||0===n.length)throw new He(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G3(n,e){if(e.isInequality()){const i=wT(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new He(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=XM(n);null!==s&&W3(0,r,s)}const t=function(i,r){for(const s of i)for(const u of s.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new He(ve.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function W3(n,e,t){if(!t.isEqual(e))throw new He(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class x8{convertValue(e,t="none"){switch(lf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw mt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return rf(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new GP($i(e.latitude),$i(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=gT(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(yb(e));default:return null}}convertTimestamp(e){const t=sf(e);return new Mi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Sn.fromString(e);Ct(o6(i));const r=new og(i.get(1),i.get(3)),s=new st(i.popFirst(5));return r.isEqual(t)||rr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class bg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rv extends KP{constructor(e,t,i,r,s,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(tS("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class sS extends rv{data(e={}){return super.data(e)}}class ov{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new bg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new sS(this._firestore,this._userDataWriter,i.key,i,new bg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new sS(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new sS(i._firestore,i._userDataWriter,u.doc.key,u.doc,new bg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,_=-1;return 0!==u.type&&(m=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),_=s.indexOf(u.doc.key)),{type:A8(u.type),doc:f,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function A8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}class yf extends x8{constructor(e){super(),this.firestore=e}convertBytes(e){return new vg(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function k8(n){n=wn(n,So);const e=wn(n.firestore,mi),t=yr(e),i=new yf(e);return H3(n._query),function _3(n,e,t={}){const i=new Or;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(r,s,u,f,m){const _=new qT({next:D=>{s.enqueueAndForget(()=>oP(r,I)),D.fromCache&&"server"===f.source?m.reject(new He(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(D)},error:D=>m.reject(D)}),I=new lP(u,_,{includeMetadataChanges:!0,Ku:!0});return iP(r,I)}(yield ev(n),n.asyncQueue,e,t,i)})),i.promise}(t,n._query).then(r=>new ov(e,i,n,r))}function M8(n,e,t,...i){n=wn(n,ar);const r=wn(n.firestore,mi),s=nv(r);let u;return u="string"==typeof(e=(0,Ai.m9)(e))||e instanceof tv?function L3(n,e,t,i,r,s){const u=n.ya(1,e,t),f=[Zb(e,i,t)],m=[r];if(s.length%2!=0)throw new He(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<s.length;N+=2)f.push(Zb(e,s[N])),m.push(s[N+1]);const _=[],I=To.empty();for(let N=f.length-1;N>=0;--N)if(!U3(_,f[N])){const U=f[N];let B=m[N];B=(0,Ai.m9)(B);const q=u.da(U);if(B instanceof qb)_.push(U);else{const ie=_g(B,q);null!=ie&&(_.push(U),I.set(U,ie))}}const D=new Gs(_);return new P3(I,D,u.fieldTransforms)}(s,"updateDoc",n._key,e,t,i):function R3(n,e,t,i){const r=n.ya(1,e,t);ZP("Data must be an object, but it was:",r,i);const s=[],u=To.empty();rf(i,(m,_)=>{const I=XT(e,m,t);_=(0,Ai.m9)(_);const D=r.da(I);if(_ instanceof qb)s.push(I);else{const N=_g(_,D);null!=N&&(s.push(I),u.set(I,N))}});const f=new Gs(s);return new P3(u,f,r.fieldTransforms)}(s,"updateDoc",n._key,e),Yb(r,[u.toMutation(n._key,wi.exists(!0))])}function P8(n){return Yb(wn(n.firestore,mi),[new Vy(n._key,wi.none())])}function N8(n,e){const t=wn(n.firestore,mi),i=S3(n),r=function JP(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e);return Yb(t,[WP(nv(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,wi.exists(!1))]).then(()=>i)}function Yb(n,e){return function(t,i){const r=new Or;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function N9(n,e,t){return fP.apply(this,arguments)}(yield function UP(n){return KT(n).then(e=>e.syncEngine)}(t),i,r)})),r.promise}(yr(n),e)}!function(n,e=!0){Ay=Ls.SDK_VERSION,(0,Ls._registerComponent)(new i_.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),u=new mi(new l5(t.getProvider("auth-internal")),new d5(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new He(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new og(f.options.projectId,m)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)(OL,"3.13.0",n),(0,Ls.registerVersion)(OL,"3.13.0","esm2017")}();var q8={includeMetadataChanges:!1};function eN(n,e){return void 0===e&&(e=q8),new Vi.y(function(t){var i=function O8(n,...e){var t,i,r;n=(0,Ai.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||$P(e[u])||(s=e[u],u++);const f={includeMetadataChanges:s.includeMetadataChanges};if($P(e[u])){const D=e[u];e[u]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[u+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[u+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let m,_,I;if(n instanceof ar)_=wn(n.firestore,mi),I=Ry(n._key.path),m={next:D=>{e[u]&&e[u](function XP(n,e,t){const i=t.docs.get(e._key),r=new yf(n);return new rv(n,r,e._key,i,new bg(t.hasPendingWrites,t.fromCache),e.converter)}(_,n,D))},error:e[u+1],complete:e[u+2]};else{const D=wn(n,So);_=wn(D.firestore,mi),I=D._query;const N=new yf(_);m={next:U=>{e[u]&&e[u](new ov(_,N,D,U))},error:e[u+1],complete:e[u+2]},H3(n._query)}return function(D,N,U,B){const q=new qT(B),ie=new lP(N,q,U);return D.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return iP(yield ev(D),ie)})),()=>{q.Dc(),D.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return oP(yield ev(D),ie)}))}}(yr(_),I,f,m)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}var Y3=["added","modified","removed"],Q3=function(){return(0,As.z)(Ms(void 0),function W8(){return(0,Dr.e)((n,e)=>{let t,i=!1;n.subscribe((0,Sr.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}())},nN=function(n,e){return JSON.stringify(n.metadata)===JSON.stringify(e.metadata)};function iN(n,e){return void 0===e&&(e={}),eN(n,{includeMetadataChanges:!0}).pipe(Q3(),(0,tn.U)(function(t){var i=t[0],r=t[1],s=r.docChanges();return i&&!nN(i,r)&&r.docs.forEach(function(u,f){var m=s.find(function(I){return x3(I.doc.ref,u.ref)});if(m){if(nN(m.doc,u))return}else{var _=i?.docs.find(function(I){return x3(I.ref,u.ref)});if(_&&nN(_,u))return}s.push({oldIndex:f,newIndex:f,type:"modified",doc:u})}),s}),function(n){return Gr(function(e){for(var t=!1,i=0;i<e.length;i++)if(n&&n.indexOf(e[i].type)>=0){t=!0;break}return t})}(e.events||Y3),(0,As.z)(Q3(),Gr(function(n){return n[1].length>0||void 0===n[0]}),(0,tn.U)(function(n){return n[1]})))}class lS{constructor(e){return e}}const J3="firestore",rN=new l.OlP("angularfire2.firestore-instances");function nV(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new lS(i)}}const iV={provide:class eV{constructor(){return(0,On.vb)(J3)}},deps:[[new l.FiY,rN]]},rV={provide:lS,useFactory:function tV(n,e){const t=(0,On.JM)(J3,n,e);return t&&new lS(t)},deps:[[new l.FiY,rN],ap]};let oV=(()=>{class n{constructor(){(0,Os.KN)("angularfire",On.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rV,iV]}),n})();function sV(n,...e){return{ngModule:oV,providers:[{provide:rN,useFactory:nV(n),multi:!0,deps:[l.R0b,l.zs3,On.HU,Jv,[new l.FiY,d],[new l.FiY,Th],...e]}]}}const aV=(0,On.u3)(iN,!0),lV=(0,On.u3)(N8,!0),cV=(0,On.u3)(u8,!0),uV=(0,On.u3)(P8,!0),dV=(0,On.u3)(S3,!0),hV=(0,On.u3)(k8,!0),fV=(0,On.u3)(f8,!0),X3=(0,On.u3)(T8,!0),e4=(0,On.u3)(I8,!0),t4=(0,On.u3)(C8,!0),pV=(0,On.u3)(S8,!0),gV=(0,On.u3)(M8,!0);let oN=(()=>{class n{constructor(t){this.fireAuth=t,this.loggedIn=new ui.X(!1),this.currentUser=new ui.X(null),this.getCurrentUser()}getCurrentUser(){this.fireAuth.onAuthStateChanged(t=>{this.currentUser.next(t),this.loggedIn.next(!!t)})}onLogOut(){this.loggedIn.next(!1),this.currentUser.next(null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cS=(()=>{class n{constructor(t,i,r){let s;this.fireAuth=t,this.userService=i,this.store=r,this.notes$=new ui.X([]),this.refsCount=0,this.isLoading$=new ui.X(!1),(s=this.userService.currentUser.getValue())&&(this.getUserArchive(s.uid),this.subscribeToChanges())}getUserArchive(t){var i=this;return(0,Te.Z)(function*(){i.notesCollection=cV(i.store,`archive/${t}/notes`),yield i.refreshNotes()})()}subscribeToChanges(){aV(this.notesCollection).subscribe(t=>{this.refreshNotes()}),this.fireAuth.onAuthStateChanged(t=>{t&&this.getUserArchive(t.uid)})}refreshNotes(t=!1){var i=this;return(0,Te.Z)(function*(){!t&&i.isLoading$.next(!0);let r=yield i.getNoteRefs(t);return i.lastNoteRef=r[r.length-1],i.refsCount=t?i.refsCount+r.length:r.length,t?i.notes$.next([...i.notes$.getValue(),...r]):(i.notes$.next(r),i.isLoading$.next(!1)),!!r.length})()}getNoteRefs(t=!1){var i=this;return(0,Te.Z)(function*(){let r=t?t4(i.notesCollection,e4("textData.time","desc"),pV(i.lastNoteRef),X3(10)):t4(i.notesCollection,e4("textData.time","desc"),X3(i.refsCount?i.refsCount:10));return(yield hV(r)).docs})()}updateNote(t,i,r){var s=this;return(0,Te.Z)(function*(){let f=`archive/${s.userService.currentUser.getValue()?.uid}/notes/${t}`;yield gV(dV(s.store,f),{"textData.blocks":i,images:r})})()}selectNoteById(t){return this.notes$.getValue().find(i=>i.id===t)}addNote(t){var i=this;return(0,Te.Z)(function*(){yield lV(i.notesCollection,t)})()}onLogOut(){this.notesCollection=null,this.notes$.next([]),this.lastNoteRef=null,this.refsCount=0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pc),l.LFG(oN),l.LFG(lS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n4=(()=>{class n{constructor(t){this.notesService=t,this.isLoading=!1,this.shouldLoad=!0,window.addEventListener("scroll",this.throttle(this.checkPosition.bind(this),500)),window.addEventListener("resize",this.throttle(this.checkPosition.bind(this),500))}checkPosition(){var t=this;return(0,Te.Z)(function*(){const i=document.body.offsetHeight,r=window.innerHeight;window.scrollY+r>=i-r/4&&(yield t.getNewNotes())})()}getNewNotes(){var t=this;return(0,Te.Z)(function*(){t.isLoading||!t.shouldLoad||(t.isLoading=!0,t.shouldLoad=yield t.notesService.refreshNotes(!0),t.isLoading=!1)})()}throttle(t,i){let r=null;return s=>{r||(r=setTimeout(()=>{t(s),clearTimeout(r),r=null},i))}}onLogOut(){this.isLoading=!1,this.shouldLoad=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mV(n,e){1&n&&l._UZ(0,"p-progressSpinner",8)}let i4=(()=>{class n{constructor(t,i,r,s){this.router=t,this.route=i,this.notesService=r,this.lazy=s,this.noteId=null,this.isUploading=!1}ngAfterViewInit(){this.route.paramMap.subscribe(t=>{if(this.noteId=t.get("noteId"),!this.noteId)return;let i=this.notesService.selectNoteById(this.noteId)?.data();i&&this.renderData(i)})}renderData(t){t.textData&&this.editor.renderData(t.textData),t.images&&this.gallery.pushImages(t.images)}fillButton(t){t.firstElementChild?.firstElementChild?.classList.remove("p-button-outlined")}outlineButton(t){t.firstElementChild?.firstElementChild?.classList.add("p-button-outlined")}cansel(){this.router.navigate(["notes"])}submitNote(){var t=this;return(0,Te.Z)(function*(){const i=yield t.editor.scrapeData(),r=yield t.gallery.getImages();t.lazy.shouldLoad=!0,t.isUploading=!0,t.noteId?yield t.notesService.updateNote(t.noteId,i.blocks,r):yield t.notesService.addNote({textData:i,images:r}),setTimeout(()=>{t.isUploading=!1,t.router.navigate(["notes"])},3e3)})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yr),l.Y36(Ec),l.Y36(cS),l.Y36(n4))},n.\u0275cmp=l.Xpm({type:n,selectors:[["edit-page"]],viewQuery:function(t,i){if(1&t&&(l.Gf(A0,5),l.Gf(Yk,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.editor=r.first),l.iGM(r=l.CRH())&&(i.gallery=r.first)}},decls:11,vars:1,consts:[[1,"edit-page"],["title","Saving","strokeWidth","3","class","spinner",4,"ngIf"],[3,"mouseenter","mouseleave","click"],["parentG",""],["icon","pi pi-check","styleClass","p-button-outlined p-button-rounded p-button-success"],[1,"container"],["parentR",""],["icon","pi pi-times","styleClass","p-button-outlined p-button-rounded p-button-danger"],["title","Saving","strokeWidth","3",1,"spinner"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"div",0),l.YNc(1,mV,1,0,"p-progressSpinner",1),l.TgZ(2,"div",2,3),l.NdJ("mouseenter",function(){l.CHM(r);const u=l.MAs(3);return l.KtG(i.fillButton(u))})("mouseleave",function(){l.CHM(r);const u=l.MAs(3);return l.KtG(i.outlineButton(u))})("click",function(){return i.submitNote()}),l._UZ(4,"p-button",4),l.qZA(),l.TgZ(5,"div",5),l._UZ(6,"note-editor")(7,"gallery-loader"),l.qZA(),l.TgZ(8,"div",2,6),l.NdJ("mouseenter",function(){l.CHM(r);const u=l.MAs(9);return l.KtG(i.fillButton(u))})("mouseleave",function(){l.CHM(r);const u=l.MAs(9);return l.KtG(i.outlineButton(u))})("click",function(){return i.cansel()}),l._UZ(10,"p-button",7),l.qZA()()}2&t&&(l.xp6(1),l.Q6J("ngIf",i.isUploading))},dependencies:[hd,X_,li,Yk,A0],styles:[".spinner[_ngcontent-%COMP%]{position:absolute;top:30%}.edit-page[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;padding-top:100px;gap:10px;height:100vh}.container[_ngcontent-%COMP%]{width:800px;flex-shrink:0}"]}),n})();const yV=["editor"],vV=function(n){return{editor:!0,expanded:n}};let r4=(()=>{class n{constructor(){this.shouldExpand$=new ui.X(!1)}ngAfterViewInit(){var t=this;return(0,Te.Z)(function*(){t.initializeEditor(),yield t.editor.isReady,yield t.renderData(t.textData);let i=Number.parseInt(getComputedStyle(t.editorElement.nativeElement).height);console.log(i),t.shouldExpand$.next(!(i<260))})()}initializeEditor(){this.editor=new ZC({holder:this.editorElement.nativeElement,tools:{underline:D0()},readOnly:!0,minHeight:0})}renderData(t){var i=this;return(0,Te.Z)(function*(){yield i.editor.blocks.render(t)})()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["note-text"]],viewQuery:function(t,i){if(1&t&&l.Gf(yV,7,l.SBq),2&t){let r;l.iGM(r=l.CRH())&&(i.editorElement=r.first)}},inputs:{textData:"textData",expanded:"expanded"},decls:2,vars:4,consts:[["editor",""]],template:function(t,i){1&t&&l._UZ(0,"div",null,0),2&t&&l.Tol(l.VKq(2,vV,i.expanded))},styles:[".editor[_ngcontent-%COMP%]{max-height:260px;min-height:100px;min-width:300px;overflow:hidden}.expanded[_ngcontent-%COMP%]{max-height:min-content}"]}),n})(),_V=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}constructor(t,i,r,s,u,f){x(this,"platformId",void 0),x(this,"el",void 0),x(this,"zone",void 0),x(this,"config",void 0),x(this,"renderer",void 0),x(this,"changeDetector",void 0),x(this,"tooltipPosition",void 0),x(this,"tooltipEvent","hover"),x(this,"appendTo",void 0),x(this,"positionStyle",void 0),x(this,"tooltipStyleClass",void 0),x(this,"tooltipZIndex",void 0),x(this,"escape",!0),x(this,"showDelay",void 0),x(this,"hideDelay",void 0),x(this,"life",void 0),x(this,"positionTop",void 0),x(this,"positionLeft",void 0),x(this,"autoHide",!0),x(this,"fitContent",!0),x(this,"hideOnEscape",!0),x(this,"text",void 0),x(this,"tooltipOptions",void 0),x(this,"_tooltipOptions",{tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0}),x(this,"_disabled",void 0),x(this,"container",void 0),x(this,"styleClass",void 0),x(this,"tooltipText",void 0),x(this,"showTimeout",void 0),x(this,"hideTimeout",void 0),x(this,"active",void 0),x(this,"mouseEnterListener",void 0),x(this,"mouseLeaveListener",void 0),x(this,"containerMouseleaveListener",void 0),x(this,"clickListener",void 0),x(this,"focusListener",void 0),x(this,"blurListener",void 0),x(this,"scrollHandler",void 0),x(this,"resizeListener",void 0),this.platformId=t,this.el=i,this.zone=r,this.config=s,this.renderer=u,this.changeDetector=f}ngAfterViewInit(){Er(this.platformId)&&this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let t=this.getTarget(this.el.nativeElement);t.addEventListener("focus",this.focusListener),t.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.text&&(this.setOption({tooltipLabel:t.text.currentValue}),this.active&&(t.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...t.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){(this.isAutoHide()||!(ft.hasClass(t.target,"p-tooltip")||ft.hasClass(t.target,"p-tooltip-arrow")||ft.hasClass(t.target,"p-tooltip-text")||ft.hasClass(t.relatedTarget,"p-tooltip")))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?ft.appendChild(this.container,this.el.nativeElement):ft.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()||this.bindContainerMouseleaveListener()}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",i=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),ft.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Hs.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Hs.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let t=this.el.nativeElement.getBoundingClientRect();return{left:t.left+ft.getWindowScrollLeft(),top:t.top+ft.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.getHostOffset(),i=t.left+ft.getOuterWidth(this.el.nativeElement),r=t.top+(ft.getOuterHeight(this.el.nativeElement)-ft.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-ft.getOuterWidth(this.container),r=t.top+(ft.getOuterHeight(this.el.nativeElement)-ft.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(ft.getOuterWidth(this.el.nativeElement)-ft.getOuterWidth(this.container))/2,r=t.top-ft.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(ft.getOuterWidth(this.el.nativeElement)-ft.getOuterWidth(this.container))/2,r=t.top+ft.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions={...this._tooltipOptions,...t}}getOption(t){return this._tooltipOptions[t]}getTarget(t){return ft.hasClass(t,"p-inputwrapper")?ft.findSingle(t,"input"):t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,r=t.left,s=ft.getOuterWidth(this.container),u=ft.getOuterHeight(this.container),f=ft.getViewport();return r+s>f.width||r<0||i<0||i+u>f.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Fm(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let t=this.getTarget(this.el.nativeElement);t.removeEventListener("focus",this.focusListener),t.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):ft.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Hs.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(l.Lbi),l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Sc),l.Y36(l.Qsj),l.Y36(l.sBO))}),x(n,"\u0275dir",l.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,i){1&t&&l.NdJ("keydown.escape",function(s){return i.onPressEscape(s)},!1,l.evT)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",hideOnEscape:"hideOnEscape",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[l.TTD]})),n})(),bV=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn]})),n})(),sN=(()=>{class n extends $o{}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0),l._UZ(1,"path",1),l.qZA()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})),n})(),aN=(()=>{class n extends $o{}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0),l._UZ(1,"path",1),l.qZA()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})),n})(),wV=(()=>{class n extends $o{constructor(...t){super(...t),x(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Us()+")"}}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["WindowMaximizeIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0)(1,"g"),l._UZ(2,"path",1),l.qZA(),l.TgZ(3,"defs")(4,"clipPath",2),l._UZ(5,"rect",3),l.qZA()()()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l.xp6(1),l.uIk("clip-path",i.pathId),l.xp6(3),l.Q6J("id",i.pathId))},encapsulation:2})),n})(),EV=(()=>{class n extends $o{constructor(...t){super(...t),x(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+Us()+")"}}return x(n,"\u0275fac",function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}()),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["WindowMinimizeIcon"]],standalone:!0,features:[l.qOj,l.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0)(1,"g"),l._UZ(2,"path",1),l.qZA(),l.TgZ(3,"defs")(4,"clipPath",2),l._UZ(5,"rect",3),l.qZA()()()),2&t&&(l.Tol(i.getClassNames()),l.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),l.xp6(1),l.uIk("clip-path",i.pathId),l.xp6(3),l.Q6J("id",i.pathId))},encapsulation:2})),n})();const CV=["mask"],IV=function(n,e){return{showTransitionParams:n,hideTransitionParams:e}},TV=function(n){return{value:"visible",params:n}};function SV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"p-galleriaContent",6),l.NdJ("@animation.start",function(r){l.CHM(t);const s=l.oxw(3);return l.KtG(s.onAnimationStart(r))})("@animation.done",function(r){l.CHM(t);const s=l.oxw(3);return l.KtG(s.onAnimationEnd(r))})("maskHide",function(){l.CHM(t);const r=l.oxw(3);return l.KtG(r.onMaskHide())})("activeItemChange",function(r){l.CHM(t);const s=l.oxw(3);return l.KtG(s.onActiveItemChange(r))}),l.qZA()}if(2&n){const t=l.oxw(3);l.Q6J("@animation",l.VKq(8,TV,l.WLB(5,IV,t.showTransitionOptions,t.hideTransitionOptions)))("value",t.value)("activeIndex",t.activeIndex)("numVisible",t.numVisible)("ngStyle",t.containerStyle)}}const xV=function(n){return{"p-galleria-mask p-component-overlay p-component-overlay-enter":!0,"p-galleria-visible":n}};function DV(n,e){if(1&n&&(l.TgZ(0,"div",3,4),l.YNc(2,SV,1,10,"p-galleriaContent",5),l.qZA()),2&n){const t=l.oxw(2);l.Tol(t.maskClass),l.Q6J("ngClass",l.VKq(4,xV,t.visible)),l.xp6(2),l.Q6J("ngIf",t.visible)}}function AV(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,DV,3,6,"div",2),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.maskVisible)}}function kV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"p-galleriaContent",7),l.NdJ("activeItemChange",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onActiveItemChange(r))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("value",t.value)("activeIndex",t.activeIndex)("numVisible",t.numVisible)}}function MV(n,e){1&n&&l._UZ(0,"TimesIcon",11),2&n&&l.Q6J("styleClass","p-galleria-close-icon")}function PV(n,e){}function NV(n,e){1&n&&l.YNc(0,PV,0,0,"ng-template")}function OV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",8),l.NdJ("click",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.maskHide.emit())}),l.YNc(1,MV,1,1,"TimesIcon",9),l.YNc(2,NV,1,0,null,10),l.qZA()}if(2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!t.galleria.closeIconTemplate),l.xp6(1),l.Q6J("ngTemplateOutlet",t.galleria.closeIconTemplate)}}function RV(n,e){if(1&n&&(l.TgZ(0,"div",12),l._UZ(1,"p-galleriaItemSlot",13),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("templates",t.galleria.templates)}}function LV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"p-galleriaThumbnails",14),l.NdJ("onActiveIndexChange",function(r){l.CHM(t);const s=l.oxw(2);return l.KtG(s.onActiveIndexChange(r))})("stopSlideShow",function(){l.CHM(t);const r=l.oxw(2);return l.KtG(r.stopSlideShow())}),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("containerId",t.id)("value",t.value)("activeIndex",t.activeIndex)("templates",t.galleria.templates)("numVisible",t.numVisible)("responsiveOptions",t.galleria.responsiveOptions)("circular",t.galleria.circular)("isVertical",t.isVertical())("contentHeight",t.galleria.verticalThumbnailViewPortHeight)("showThumbnailNavigators",t.galleria.showThumbnailNavigators)("slideShowActive",t.slideShowActive)}}function FV(n,e){if(1&n&&(l.TgZ(0,"div",15),l._UZ(1,"p-galleriaItemSlot",16),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("templates",t.galleria.templates)}}const BV=function(n,e,t){return{"p-galleria p-component":!0,"p-galleria-fullscreen":n,"p-galleria-indicator-onitem":e,"p-galleria-item-nav-onhover":t}},VV=function(){return{}};function UV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",1),l.YNc(1,OV,3,2,"button",2),l.YNc(2,RV,2,1,"div",3),l.TgZ(3,"div",4)(4,"p-galleriaItem",5),l.NdJ("onActiveIndexChange",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.onActiveIndexChange(r))})("startSlideShow",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.startSlideShow())})("stopSlideShow",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.stopSlideShow())}),l.qZA(),l.YNc(5,LV,1,11,"p-galleriaThumbnails",6),l.qZA(),l.YNc(6,FV,2,1,"div",7),l.qZA()}if(2&n){const t=l.oxw();l.Tol(t.galleriaClass()),l.Q6J("ngClass",l.kEZ(20,BV,t.galleria.fullScreen,t.galleria.showIndicatorsOnItem,t.galleria.showItemNavigatorsOnHover&&!t.galleria.fullScreen))("ngStyle",t.galleria.fullScreen?l.DdM(24,VV):t.galleria.containerStyle),l.uIk("id",t.id),l.xp6(1),l.Q6J("ngIf",t.galleria.fullScreen),l.xp6(1),l.Q6J("ngIf",t.galleria.templates&&t.galleria.headerFacet),l.xp6(2),l.Q6J("value",t.value)("activeIndex",t.activeIndex)("circular",t.galleria.circular)("templates",t.galleria.templates)("showIndicators",t.galleria.showIndicators)("changeItemOnIndicatorHover",t.galleria.changeItemOnIndicatorHover)("indicatorFacet",t.galleria.indicatorFacet)("captionFacet",t.galleria.captionFacet)("showItemNavigators",t.galleria.showItemNavigators)("autoPlay",t.galleria.autoPlay)("slideShowActive",t.slideShowActive),l.xp6(1),l.Q6J("ngIf",t.galleria.showThumbnails),l.xp6(1),l.Q6J("ngIf",t.galleria.templates&&t.galleria.footerFacet)}}function HV(n,e){1&n&&l.GkF(0)}function jV(n,e){if(1&n&&(l.ynx(0),l.YNc(1,HV,1,0,"ng-container",1),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",t.context)}}function $V(n,e){1&n&&l._UZ(0,"ChevronLeftIcon",9),2&n&&l.Q6J("styleClass","p-galleria-item-prev-icon")}function zV(n,e){}function GV(n,e){1&n&&l.YNc(0,zV,0,0,"ng-template")}const WV=function(n){return{"p-galleria-item-prev p-galleria-item-nav p-link":!0,"p-disabled":n}};function qV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.navBackward(r))}),l.YNc(1,$V,1,1,"ChevronLeftIcon",7),l.YNc(2,GV,1,0,null,8),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngClass",l.VKq(4,WV,t.isNavBackwardDisabled()))("disabled",t.isNavBackwardDisabled()),l.xp6(1),l.Q6J("ngIf",!t.galleria.itemPreviousIconTemplate),l.xp6(1),l.Q6J("ngTemplateOutlet",t.galleria.itemPreviousIconTemplate)}}function ZV(n,e){1&n&&l._UZ(0,"ChevronRightIcon",9),2&n&&l.Q6J("styleClass","p-galleria-item-next-icon")}function KV(n,e){}function YV(n,e){1&n&&l.YNc(0,KV,0,0,"ng-template")}const QV=function(n){return{"p-galleria-item-next p-galleria-item-nav p-link":!0,"p-disabled":n}};function JV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.navForward(r))}),l.YNc(1,ZV,1,1,"ChevronRightIcon",7),l.YNc(2,YV,1,0,null,8),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngClass",l.VKq(4,QV,t.isNavForwardDisabled()))("disabled",t.isNavForwardDisabled()),l.xp6(1),l.Q6J("ngIf",!t.galleria.itemNextIconTemplate),l.xp6(1),l.Q6J("ngTemplateOutlet",t.galleria.itemNextIconTemplate)}}function XV(n,e){if(1&n&&(l.TgZ(0,"div",10),l._UZ(1,"p-galleriaItemSlot",11),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("item",t.activeItem)("templates",t.templates)}}function eU(n,e){1&n&&l._UZ(0,"button",17)}const tU=function(n){return{"p-galleria-indicator":!0,"p-highlight":n}};function nU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",14),l.NdJ("click",function(){const s=l.CHM(t).index,u=l.oxw(2);return l.KtG(u.onIndicatorClick(s))})("mouseenter",function(){const s=l.CHM(t).index,u=l.oxw(2);return l.KtG(u.onIndicatorMouseEnter(s))})("keydown.enter",function(){const s=l.CHM(t).index,u=l.oxw(2);return l.KtG(u.onIndicatorKeyDown(s))}),l.YNc(1,eU,1,0,"button",15),l._UZ(2,"p-galleriaItemSlot",16),l.qZA()}if(2&n){const t=e.index,i=l.oxw(2);l.Q6J("ngClass",l.VKq(4,tU,i.isIndicatorItemActive(t))),l.xp6(1),l.Q6J("ngIf",!i.indicatorFacet),l.xp6(1),l.Q6J("index",t)("templates",i.templates)}}function iU(n,e){if(1&n&&(l.TgZ(0,"ul",12),l.YNc(1,nU,3,6,"li",13),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.value)}}const rU=["itemsContainer"];function oU(n,e){1&n&&l._UZ(0,"ChevronLeftIcon",11),2&n&&l.Q6J("styleClass","p-galleria-thumbnail-prev-icon")}function sU(n,e){1&n&&l._UZ(0,"ChevronUpIcon",11),2&n&&l.Q6J("styleClass","p-galleria-thumbnail-prev-icon")}function aU(n,e){if(1&n&&(l.ynx(0),l.YNc(1,oU,1,1,"ChevronLeftIcon",10),l.YNc(2,sU,1,1,"ChevronUpIcon",10),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!t.isVertical),l.xp6(1),l.Q6J("ngIf",t.isVertical)}}function lU(n,e){}function cU(n,e){1&n&&l.YNc(0,lU,0,0,"ng-template")}const uU=function(n){return{"p-galleria-thumbnail-prev p-link":!0,"p-disabled":n}};function dU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",7),l.NdJ("click",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.navBackward(r))}),l.YNc(1,aU,3,2,"ng-container",8),l.YNc(2,cU,1,0,null,9),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngClass",l.VKq(4,uU,t.isNavBackwardDisabled()))("disabled",t.isNavBackwardDisabled()),l.xp6(1),l.Q6J("ngIf",!t.galleria.previousThumbnailIconTemplate),l.xp6(1),l.Q6J("ngTemplateOutlet",t.galleria.previousThumbnailIconTemplate)}}const hU=function(n,e,t,i){return{"p-galleria-thumbnail-item":!0,"p-galleria-thumbnail-item-current":n,"p-galleria-thumbnail-item-active":e,"p-galleria-thumbnail-item-start":t,"p-galleria-thumbnail-item-end":i}};function fU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12)(1,"div",13),l.NdJ("click",function(){const s=l.CHM(t).index,u=l.oxw();return l.KtG(u.onItemClick(s))})("touchend",function(){const s=l.CHM(t).index,u=l.oxw();return l.KtG(u.onItemClick(s))})("keydown.enter",function(){const s=l.CHM(t).index,u=l.oxw();return l.KtG(u.onItemClick(s))}),l._UZ(2,"p-galleriaItemSlot",14),l.qZA()()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.Q6J("ngClass",l.l5B(4,hU,r.activeIndex===i,r.isItemActive(i),r.firstItemAciveIndex()===i,r.lastItemActiveIndex()===i)),l.xp6(1),l.uIk("tabindex",r.getTabIndex(i)),l.xp6(1),l.Q6J("item",t)("templates",r.templates)}}function pU(n,e){1&n&&l._UZ(0,"ChevronRightIcon",12),2&n&&l.Q6J("ngClass","p-galleria-thumbnail-next-icon")}function gU(n,e){1&n&&l._UZ(0,"ChevronDownIcon",12),2&n&&l.Q6J("ngClass","p-galleria-thumbnail-next-icon")}function mU(n,e){if(1&n&&(l.ynx(0),l.YNc(1,pU,1,1,"ChevronRightIcon",15),l.YNc(2,gU,1,1,"ChevronDownIcon",15),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!t.isVertical),l.xp6(1),l.Q6J("ngIf",t.isVertical)}}function yU(n,e){}function vU(n,e){1&n&&l.YNc(0,yU,0,0,"ng-template")}const _U=function(n){return{"p-galleria-thumbnail-next p-link":!0,"p-disabled":n}};function bU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",7),l.NdJ("click",function(r){l.CHM(t);const s=l.oxw();return l.KtG(s.navForward(r))}),l.YNc(1,mU,3,2,"ng-container",8),l.YNc(2,vU,1,0,null,9),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngClass",l.VKq(4,_U,t.isNavForwardDisabled()))("disabled",t.isNavForwardDisabled()),l.xp6(1),l.Q6J("ngIf",!t.galleria.nextThumbnailIconTemplate),l.xp6(1),l.Q6J("ngTemplateOutlet",t.galleria.nextThumbnailIconTemplate)}}const wU=function(n){return{height:n}};let uS=(()=>{class n{get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t}get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0)}constructor(t,i,r,s){x(this,"document",void 0),x(this,"element",void 0),x(this,"cd",void 0),x(this,"config",void 0),x(this,"fullScreen",!1),x(this,"id",void 0),x(this,"value",void 0),x(this,"numVisible",3),x(this,"responsiveOptions",void 0),x(this,"showItemNavigators",!1),x(this,"showThumbnailNavigators",!0),x(this,"showItemNavigatorsOnHover",!1),x(this,"changeItemOnIndicatorHover",!1),x(this,"circular",!1),x(this,"autoPlay",!1),x(this,"transitionInterval",4e3),x(this,"showThumbnails",!0),x(this,"thumbnailsPosition","bottom"),x(this,"verticalThumbnailViewPortHeight","300px"),x(this,"showIndicators",!1),x(this,"showIndicatorsOnItem",!1),x(this,"indicatorsPosition","bottom"),x(this,"baseZIndex",0),x(this,"maskClass",void 0),x(this,"containerClass",void 0),x(this,"containerStyle",void 0),x(this,"showTransitionOptions","150ms cubic-bezier(0, 0, 0.2, 1)"),x(this,"hideTransitionOptions","150ms cubic-bezier(0, 0, 0.2, 1)"),x(this,"activeIndexChange",new l.vpe),x(this,"visibleChange",new l.vpe),x(this,"mask",void 0),x(this,"templates",void 0),x(this,"_visible",!1),x(this,"_activeIndex",0),x(this,"headerFacet",void 0),x(this,"footerFacet",void 0),x(this,"indicatorFacet",void 0),x(this,"captionFacet",void 0),x(this,"closeIconTemplate",void 0),x(this,"previousThumbnailIconTemplate",void 0),x(this,"nextThumbnailIconTemplate",void 0),x(this,"itemPreviousIconTemplate",void 0),x(this,"itemNextIconTemplate",void 0),x(this,"maskVisible",!1),this.document=t,this.element=i,this.cd=r,this.config=s}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerFacet=t.template;break;case"footer":this.footerFacet=t.template;break;case"indicator":this.indicatorFacet=t.template;break;case"closeicon":this.closeIconTemplate=t.template;break;case"itemnexticon":this.itemNextIconTemplate=t.template;break;case"itempreviousicon":this.itemPreviousIconTemplate=t.template;break;case"previousthumbnailicon":this.previousThumbnailIconTemplate=t.template;break;case"nextthumbnailicon":this.nextThumbnailIconTemplate=t.template;break;case"caption":this.captionFacet=t.template}})}ngOnChanges(t){t.value&&t.value.currentValue?.length<this.numVisible&&(this.numVisible=t.value.currentValue.length)}onMaskHide(){this.visible=!1,this.visibleChange.emit(!1)}onActiveItemChange(t){this.activeIndex!==t&&(this.activeIndex=t,this.activeIndexChange.emit(t))}onAnimationStart(t){switch(t.toState){case"visible":this.enableModality();break;case"void":ft.addClass(this.mask?.nativeElement,"p-component-overlay-leave")}}onAnimationEnd(t){"void"===t.toState&&this.disableModality()}enableModality(){ft.addClass(this.document.body,"p-overflow-hidden"),this.cd.markForCheck(),this.mask&&Hs.set("modal",this.mask.nativeElement,this.baseZIndex||this.config.zIndex.modal)}disableModality(){ft.removeClass(this.document.body,"p-overflow-hidden"),this.maskVisible=!1,this.cd.markForCheck(),this.mask&&Hs.clear(this.mask.nativeElement)}ngOnDestroy(){this.fullScreen&&ft.removeClass(this.document.body,"p-overflow-hidden"),this.mask&&this.disableModality()}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(ne),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Sc))}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-galleria"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,Rs,4),2&t){let s;l.iGM(s=l.CRH())&&(i.templates=s)}},viewQuery:function(t,i){if(1&t&&l.Gf(CV,5),2&t){let r;l.iGM(r=l.CRH())&&(i.mask=r.first)}},hostAttrs:[1,"p-element"],inputs:{activeIndex:"activeIndex",fullScreen:"fullScreen",id:"id",value:"value",numVisible:"numVisible",responsiveOptions:"responsiveOptions",showItemNavigators:"showItemNavigators",showThumbnailNavigators:"showThumbnailNavigators",showItemNavigatorsOnHover:"showItemNavigatorsOnHover",changeItemOnIndicatorHover:"changeItemOnIndicatorHover",circular:"circular",autoPlay:"autoPlay",transitionInterval:"transitionInterval",showThumbnails:"showThumbnails",thumbnailsPosition:"thumbnailsPosition",verticalThumbnailViewPortHeight:"verticalThumbnailViewPortHeight",showIndicators:"showIndicators",showIndicatorsOnItem:"showIndicatorsOnItem",indicatorsPosition:"indicatorsPosition",baseZIndex:"baseZIndex",maskClass:"maskClass",containerClass:"containerClass",containerStyle:"containerStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",visible:"visible"},outputs:{activeIndexChange:"activeIndexChange",visibleChange:"visibleChange"},features:[l.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["windowed",""],[3,"ngClass","class",4,"ngIf"],[3,"ngClass"],["mask",""],[3,"value","activeIndex","numVisible","ngStyle","maskHide","activeItemChange",4,"ngIf"],[3,"value","activeIndex","numVisible","ngStyle","maskHide","activeItemChange"],[3,"value","activeIndex","numVisible","activeItemChange"]],template:function(t,i){if(1&t&&(l.YNc(0,AV,2,1,"div",0),l.YNc(1,kV,1,3,"ng-template",null,1,l.W1O)),2&t){const r=l.MAs(2);l.Q6J("ngIf",i.fullScreen)("ngIfElse",r)}},dependencies:function(){return[Ni,li,dr,EU]},styles:[".p-galleria-content{display:flex;flex-direction:column}.p-galleria-item-wrapper{display:flex;flex-direction:column;position:relative}.p-galleria-item-container{position:relative;display:flex;height:100%}.p-galleria-item-nav{position:absolute;top:50%;margin-top:-.5rem;display:inline-flex;justify-content:center;align-items:center;overflow:hidden}.p-galleria-item-prev{left:0;border-top-left-radius:0;border-bottom-left-radius:0}.p-galleria-item-next{right:0;border-top-right-radius:0;border-bottom-right-radius:0}.p-galleria-item{display:flex;justify-content:center;align-items:center;height:100%;width:100%}.p-galleria-item-nav-onhover .p-galleria-item-nav{pointer-events:none;opacity:0;transition:opacity .2s ease-in-out}.p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav{pointer-events:all;opacity:1}.p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav.p-disabled{pointer-events:none}.p-galleria-caption{position:absolute;bottom:0;left:0;width:100%}.p-galleria-thumbnail-wrapper{display:flex;flex-direction:column;overflow:auto;flex-shrink:0}.p-galleria-thumbnail-prev,.p-galleria-thumbnail-next{align-self:center;flex:0 0 auto;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-galleria-thumbnail-prev span,.p-galleria-thumbnail-next span{display:flex;justify-content:center;align-items:center}.p-galleria-thumbnail-container{display:flex;flex-direction:row}.p-galleria-thumbnail-items-container{overflow:hidden;width:100%}.p-galleria-thumbnail-items{display:flex}.p-galleria-thumbnail-item{overflow:auto;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:.5}.p-galleria-thumbnail-item:hover{opacity:1;transition:opacity .3s}.p-galleria-thumbnail-item-current{opacity:1}.p-galleria-thumbnails-left .p-galleria-content,.p-galleria-thumbnails-right .p-galleria-content,.p-galleria-thumbnails-left .p-galleria-item-wrapper,.p-galleria-thumbnails-right .p-galleria-item-wrapper{flex-direction:row}.p-galleria-thumbnails-left p-galleriaitem,.p-galleria-thumbnails-top p-galleriaitem{order:2}.p-galleria-thumbnails-left p-galleriathumbnails,.p-galleria-thumbnails-top p-galleriathumbnails{order:1}.p-galleria-thumbnails-left .p-galleria-thumbnail-container,.p-galleria-thumbnails-right .p-galleria-thumbnail-container{flex-direction:column;flex-grow:1}.p-galleria-thumbnails-left .p-galleria-thumbnail-items,.p-galleria-thumbnails-right .p-galleria-thumbnail-items{flex-direction:column;height:100%}.p-galleria-thumbnails-left .p-galleria-thumbnail-wrapper,.p-galleria-thumbnails-right .p-galleria-thumbnail-wrapper{height:100%}.p-galleria-indicators{display:flex;align-items:center;justify-content:center}.p-galleria-indicator>button{display:inline-flex;align-items:center}.p-galleria-indicators-left .p-galleria-item-wrapper,.p-galleria-indicators-right .p-galleria-item-wrapper{flex-direction:row;align-items:center}.p-galleria-indicators-left .p-galleria-item-container,.p-galleria-indicators-top .p-galleria-item-container{order:2}.p-galleria-indicators-left .p-galleria-indicators,.p-galleria-indicators-top .p-galleria-indicators{order:1}.p-galleria-indicators-left .p-galleria-indicators,.p-galleria-indicators-right .p-galleria-indicators{flex-direction:column}.p-galleria-indicator-onitem .p-galleria-indicators{position:absolute;display:flex;z-index:1}.p-galleria-indicator-onitem.p-galleria-indicators-top .p-galleria-indicators{top:0;left:0;width:100%;align-items:flex-start}.p-galleria-indicator-onitem.p-galleria-indicators-right .p-galleria-indicators{right:0;top:0;height:100%;align-items:flex-end}.p-galleria-indicator-onitem.p-galleria-indicators-bottom .p-galleria-indicators{bottom:0;left:0;width:100%;align-items:flex-end}.p-galleria-indicator-onitem.p-galleria-indicators-left .p-galleria-indicators{left:0;top:0;height:100%;align-items:flex-start}.p-galleria-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:transparent;transition-property:background-color}.p-galleria-close{position:absolute;top:0;right:0;display:flex;justify-content:center;align-items:center;overflow:hidden}.p-galleria-mask .p-galleria-item-nav{position:fixed;top:50%;margin-top:-.5rem}.p-galleria-mask.p-galleria-mask-leave{background-color:transparent}.p-items-hidden .p-galleria-thumbnail-item{visibility:hidden}.p-items-hidden .p-galleria-thumbnail-item.p-galleria-thumbnail-item-active{visibility:visible}\n"],encapsulation:2,data:{animation:[Pp("animation",[Rl("void => visible",[Vs({transform:"scale(0.7)",opacity:0}),Ol("{{showTransitionParams}}")]),Rl("visible => void",[Ol("{{hideTransitionParams}}",Vs({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0})),n})(),EU=(()=>{class n{get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t}constructor(t,i,r){x(this,"galleria",void 0),x(this,"cd",void 0),x(this,"differs",void 0),x(this,"value",[]),x(this,"numVisible",void 0),x(this,"maskHide",new l.vpe),x(this,"activeItemChange",new l.vpe),x(this,"id",void 0),x(this,"_activeIndex",0),x(this,"slideShowActive",!0),x(this,"interval",void 0),x(this,"styleClass",void 0),x(this,"differ",void 0),this.galleria=t,this.cd=i,this.differs=r,this.id=this.galleria.id||Us(),this.differ=this.differs.find(this.galleria).create()}ngDoCheck(){const t=this.differ.diff(this.galleria);t&&t.forEachItem.length>0&&this.cd.markForCheck()}galleriaClass(){const t=this.galleria.showThumbnails&&this.getPositionClass("p-galleria-thumbnails",this.galleria.thumbnailsPosition),i=this.galleria.showIndicators&&this.getPositionClass("p-galleria-indicators",this.galleria.indicatorsPosition);return(this.galleria.containerClass?this.galleria.containerClass+" ":"")+(t?t+" ":"")+(i?i+" ":"")}startSlideShow(){this.interval=setInterval(()=>{let t=this.galleria.circular&&this.value.length-1===this.activeIndex?0:this.activeIndex+1;this.onActiveIndexChange(t),this.activeIndex=t},this.galleria.transitionInterval),this.slideShowActive=!0}stopSlideShow(){this.interval&&clearInterval(this.interval),this.slideShowActive=!1}getPositionClass(t,i){const s=["top","left","bottom","right"].find(u=>u===i);return s?`${t}-${s}`:""}isVertical(){return"left"===this.galleria.thumbnailsPosition||"right"===this.galleria.thumbnailsPosition}onActiveIndexChange(t){this.activeIndex!==t&&(this.activeIndex=t,this.activeItemChange.emit(this.activeIndex))}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(uS),l.Y36(l.sBO),l.Y36(l.aQg))}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-galleriaContent"]],inputs:{activeIndex:"activeIndex",value:"value",numVisible:"numVisible"},outputs:{maskHide:"maskHide",activeItemChange:"activeItemChange"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle"],["type","button","class","p-galleria-close p-link","pRipple","",3,"click",4,"ngIf"],["class","p-galleria-header",4,"ngIf"],[1,"p-galleria-content"],[3,"value","activeIndex","circular","templates","showIndicators","changeItemOnIndicatorHover","indicatorFacet","captionFacet","showItemNavigators","autoPlay","slideShowActive","onActiveIndexChange","startSlideShow","stopSlideShow"],[3,"containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive","onActiveIndexChange","stopSlideShow",4,"ngIf"],["class","p-galleria-footer",4,"ngIf"],["type","button","pRipple","",1,"p-galleria-close","p-link",3,"click"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[1,"p-galleria-header"],["type","header",3,"templates"],[3,"containerId","value","activeIndex","templates","numVisible","responsiveOptions","circular","isVertical","contentHeight","showThumbnailNavigators","slideShowActive","onActiveIndexChange","stopSlideShow"],[1,"p-galleria-footer"],["type","footer",3,"templates"]],template:function(t,i){1&t&&l.YNc(0,UV,7,25,"div",0),2&t&&l.Q6J("ngIf",i.value&&i.value.length>0)},dependencies:function(){return[Ni,li,wr,dr,Fc,Ga,lN,CU,IU]},encapsulation:2,changeDetection:0})),n})(),lN=(()=>{class n{constructor(){x(this,"templates",void 0),x(this,"index",void 0),x(this,"type",void 0),x(this,"contentTemplate",void 0),x(this,"context",void 0),x(this,"_item",void 0)}get item(){return this._item}set item(t){this._item=t,this.templates&&this.templates.forEach(i=>{if(i.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=i.template}})}ngAfterContentInit(){this.templates?.forEach(t=>{if(t.getType()===this.type)switch(this.type){case"item":case"caption":case"thumbnail":this.context={$implicit:this.item},this.contentTemplate=t.template;break;case"indicator":this.context={$implicit:this.index},this.contentTemplate=t.template;break;default:this.context={},this.contentTemplate=t.template}})}}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-galleriaItemSlot"]],inputs:{templates:"templates",index:"index",item:"item",type:"type"},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&l.YNc(0,jV,2,2,"ng-container",0),2&t&&l.Q6J("ngIf",i.contentTemplate)},dependencies:[li,wr],encapsulation:2,changeDetection:0})),n})(),CU=(()=>{class n{get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t}get activeItem(){return this.value&&this.value[this._activeIndex]}constructor(t){x(this,"galleria",void 0),x(this,"circular",!1),x(this,"value",void 0),x(this,"showItemNavigators",!1),x(this,"showIndicators",!0),x(this,"slideShowActive",!0),x(this,"changeItemOnIndicatorHover",!0),x(this,"autoPlay",!1),x(this,"templates",void 0),x(this,"indicatorFacet",void 0),x(this,"captionFacet",void 0),x(this,"startSlideShow",new l.vpe),x(this,"stopSlideShow",new l.vpe),x(this,"onActiveIndexChange",new l.vpe),x(this,"_activeIndex",0),this.galleria=t}ngOnChanges({autoPlay:t}){t?.currentValue&&this.startSlideShow.emit(),t&&!1===t.currentValue&&this.stopTheSlideShow()}next(){this.onActiveIndexChange.emit(this.circular&&this.value.length-1===this.activeIndex?0:this.activeIndex+1)}prev(){this.onActiveIndexChange.emit(this.circular&&0===this.activeIndex?this.value.length-1:0!==this.activeIndex?this.activeIndex-1:0)}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}navForward(t){this.stopTheSlideShow(),this.next(),t&&t.cancelable&&t.preventDefault()}navBackward(t){this.stopTheSlideShow(),this.prev(),t&&t.cancelable&&t.preventDefault()}onIndicatorClick(t){this.stopTheSlideShow(),this.onActiveIndexChange.emit(t)}onIndicatorMouseEnter(t){this.changeItemOnIndicatorHover&&(this.stopTheSlideShow(),this.onActiveIndexChange.emit(t))}onIndicatorKeyDown(t){this.stopTheSlideShow(),this.onActiveIndexChange.emit(t)}isNavForwardDisabled(){return!this.circular&&this.activeIndex===this.value.length-1}isNavBackwardDisabled(){return!this.circular&&0===this.activeIndex}isIndicatorItemActive(t){return this.activeIndex===t}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(uS))}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-galleriaItem"]],inputs:{circular:"circular",value:"value",showItemNavigators:"showItemNavigators",showIndicators:"showIndicators",slideShowActive:"slideShowActive",changeItemOnIndicatorHover:"changeItemOnIndicatorHover",autoPlay:"autoPlay",templates:"templates",indicatorFacet:"indicatorFacet",captionFacet:"captionFacet",activeIndex:"activeIndex"},outputs:{startSlideShow:"startSlideShow",stopSlideShow:"stopSlideShow",onActiveIndexChange:"onActiveIndexChange"},features:[l.TTD],decls:7,vars:6,consts:[[1,"p-galleria-item-wrapper"],[1,"p-galleria-item-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],["type","item",1,"p-galleria-item",3,"item","templates"],["class","p-galleria-caption",4,"ngIf"],["class","p-galleria-indicators p-reset",4,"ngIf"],["type","button","pRipple","",3,"ngClass","disabled","click"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[1,"p-galleria-caption"],["type","caption",3,"item","templates"],[1,"p-galleria-indicators","p-reset"],["tabindex","0",3,"ngClass","click","mouseenter","keydown.enter",4,"ngFor","ngForOf"],["tabindex","0",3,"ngClass","click","mouseenter","keydown.enter"],["type","button","tabIndex","-1","class","p-link",4,"ngIf"],["type","indicator",3,"index","templates"],["type","button","tabIndex","-1",1,"p-link"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,qV,3,6,"button",2),l._UZ(3,"p-galleriaItemSlot",3),l.YNc(4,JV,3,6,"button",2),l.YNc(5,XV,2,2,"div",4),l.qZA(),l.YNc(6,iU,2,1,"ul",5),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",i.showItemNavigators),l.xp6(1),l.Q6J("item",i.activeItem)("templates",i.templates),l.xp6(1),l.Q6J("ngIf",i.showItemNavigators),l.xp6(1),l.Q6J("ngIf",i.captionFacet),l.xp6(1),l.Q6J("ngIf",i.showIndicators))},dependencies:function(){return[Ni,ai,li,wr,Fc,aN,sN,lN]},encapsulation:2,changeDetection:0})),n})(),IU=(()=>{class n{get numVisible(){return this._numVisible}set numVisible(t){this._numVisible=t,this._oldNumVisible=this.d_numVisible,this.d_numVisible=t}get activeIndex(){return this._activeIndex}set activeIndex(t){this._oldactiveIndex=this._activeIndex,this._activeIndex=t}constructor(t,i,r,s,u){x(this,"galleria",void 0),x(this,"document",void 0),x(this,"platformId",void 0),x(this,"renderer",void 0),x(this,"cd",void 0),x(this,"containerId",void 0),x(this,"value",void 0),x(this,"isVertical",!1),x(this,"slideShowActive",!1),x(this,"circular",!1),x(this,"responsiveOptions",void 0),x(this,"contentHeight","300px"),x(this,"showThumbnailNavigators",!0),x(this,"templates",void 0),x(this,"onActiveIndexChange",new l.vpe),x(this,"stopSlideShow",new l.vpe),x(this,"itemsContainer",void 0),x(this,"index",void 0),x(this,"startPos",null),x(this,"thumbnailsStyle",null),x(this,"sortedResponsiveOptions",null),x(this,"totalShiftedItems",0),x(this,"page",0),x(this,"documentResizeListener",void 0),x(this,"_numVisible",0),x(this,"d_numVisible",0),x(this,"_oldNumVisible",0),x(this,"_activeIndex",0),x(this,"_oldactiveIndex",0),this.galleria=t,this.document=i,this.platformId=r,this.renderer=s,this.cd=u}ngOnInit(){this.createStyle(),this.responsiveOptions&&this.bindDocumentListeners()}ngAfterContentChecked(){let t=this.totalShiftedItems;(this._oldNumVisible!==this.d_numVisible||this._oldactiveIndex!==this._activeIndex)&&this.itemsContainer&&(t=this._activeIndex<=this.getMedianItemIndex()?0:this.value.length-this.d_numVisible+this.getMedianItemIndex()<this._activeIndex?this.d_numVisible-this.value.length:this.value.length-this.d_numVisible<this._activeIndex&&this.d_numVisible%2==0?-1*this._activeIndex+this.getMedianItemIndex()+1:-1*this._activeIndex+this.getMedianItemIndex(),t!==this.totalShiftedItems&&(this.totalShiftedItems=t),this.itemsContainer&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${t*(100/this.d_numVisible)}%, 0)`:`translate3d(${t*(100/this.d_numVisible)}%, 0, 0)`),this._oldactiveIndex!==this._activeIndex&&(ft.removeClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this._oldactiveIndex=this._activeIndex,this._oldNumVisible=this.d_numVisible)}ngAfterViewInit(){this.calculatePosition()}createStyle(){this.thumbnailsStyle||(this.thumbnailsStyle=this.document.createElement("style"),this.document.body.appendChild(this.thumbnailsStyle));let t=`\n            #${this.containerId} .p-galleria-thumbnail-item {\n                flex: 1 0 ${100/this.d_numVisible}%\n            }\n        `;if(this.responsiveOptions){this.sortedResponsiveOptions=[...this.responsiveOptions],this.sortedResponsiveOptions.sort((i,r)=>{const s=i.breakpoint,u=r.breakpoint;let f=null;return f=null==s&&null!=u?-1:null!=s&&null==u?1:null==s&&null==u?0:"string"==typeof s&&"string"==typeof u?s.localeCompare(u,void 0,{numeric:!0}):s<u?-1:s>u?1:0,-1*f});for(let i=0;i<this.sortedResponsiveOptions.length;i++){let r=this.sortedResponsiveOptions[i];t+=`\n                    @media screen and (max-width: ${r.breakpoint}) {\n                        #${this.containerId} .p-galleria-thumbnail-item {\n                            flex: 1 0 ${100/r.numVisible}%\n                        }\n                    }\n                `}}this.thumbnailsStyle.innerHTML=t}calculatePosition(){if(this.itemsContainer&&this.sortedResponsiveOptions){let t=window.innerWidth,i={numVisible:this._numVisible};for(let r=0;r<this.sortedResponsiveOptions.length;r++){let s=this.sortedResponsiveOptions[r];parseInt(s.breakpoint,10)>=t&&(i=s)}this.d_numVisible!==i.numVisible&&(this.d_numVisible=i.numVisible,this.cd.markForCheck())}}getTabIndex(t){return this.isItemActive(t)?0:null}navForward(t){this.stopTheSlideShow();let i=this._activeIndex+1;i+this.totalShiftedItems>this.getMedianItemIndex()&&(-1*this.totalShiftedItems<this.getTotalPageNumber()-1||this.circular)&&this.step(-1),this.onActiveIndexChange.emit(this.circular&&this.value.length-1===this._activeIndex?0:i),t.cancelable&&t.preventDefault()}navBackward(t){this.stopTheSlideShow();let i=0!==this._activeIndex?this._activeIndex-1:0;this.d_numVisible-(i+this.totalShiftedItems)-1>this.getMedianItemIndex()&&(-1*this.totalShiftedItems!=0||this.circular)&&this.step(1),this.onActiveIndexChange.emit(this.circular&&0===this._activeIndex?this.value.length-1:i),t.cancelable&&t.preventDefault()}onItemClick(t){this.stopTheSlideShow();let i=t;if(i!==this._activeIndex){const r=i+this.totalShiftedItems;let s=0;i<this._activeIndex?(s=this.d_numVisible-r-1-this.getMedianItemIndex(),s>0&&-1*this.totalShiftedItems!=0&&this.step(s)):(s=this.getMedianItemIndex()-r,s<0&&-1*this.totalShiftedItems<this.getTotalPageNumber()-1&&this.step(s)),this.activeIndex=i,this.onActiveIndexChange.emit(this.activeIndex)}}step(t){let i=this.totalShiftedItems+t;t<0&&-1*i+this.d_numVisible>this.value.length-1?i=this.d_numVisible-this.value.length:t>0&&i>0&&(i=0),this.circular&&(t<0&&this.value.length-1===this._activeIndex?i=0:t>0&&0===this._activeIndex&&(i=this.d_numVisible-this.value.length)),this.itemsContainer&&(ft.removeClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transform=this.isVertical?`translate3d(0, ${i*(100/this.d_numVisible)}%, 0)`:`translate3d(${i*(100/this.d_numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=i}stopTheSlideShow(){this.slideShowActive&&this.stopSlideShow&&this.stopSlideShow.emit()}changePageOnTouch(t,i){i<0?this.navForward(t):this.navBackward(t)}getTotalPageNumber(){return this.value.length>this.d_numVisible?this.value.length-this.d_numVisible+1:0}getMedianItemIndex(){let t=Math.floor(this.d_numVisible/2);return this.d_numVisible%2?t:t-1}onTransitionEnd(){this.itemsContainer&&this.itemsContainer.nativeElement&&(ft.addClass(this.itemsContainer.nativeElement,"p-items-hidden"),this.itemsContainer.nativeElement.style.transition="")}onTouchEnd(t){let i=t.changedTouches[0];this.changePageOnTouch(t,this.isVertical?i.pageY-this.startPos.y:i.pageX-this.startPos.x)}onTouchMove(t){t.cancelable&&t.preventDefault()}onTouchStart(t){let i=t.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}isNavBackwardDisabled(){return!this.circular&&0===this._activeIndex||this.value.length<=this.d_numVisible}isNavForwardDisabled(){return!this.circular&&this._activeIndex===this.value.length-1||this.value.length<=this.d_numVisible}firstItemAciveIndex(){return-1*this.totalShiftedItems}lastItemActiveIndex(){return this.firstItemAciveIndex()+this.d_numVisible-1}isItemActive(t){return this.firstItemAciveIndex()<=t&&this.lastItemActiveIndex()>=t}bindDocumentListeners(){Er(this.platformId)&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView||"window","resize",()=>{this.calculatePosition()}))}unbindDocumentListeners(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.thumbnailsStyle&&this.thumbnailsStyle.parentNode?.removeChild(this.thumbnailsStyle)}}return x(n,"\u0275fac",function(t){return new(t||n)(l.Y36(uS),l.Y36(ne),l.Y36(l.Lbi),l.Y36(l.Qsj),l.Y36(l.sBO))}),x(n,"\u0275cmp",l.Xpm({type:n,selectors:[["p-galleriaThumbnails"]],viewQuery:function(t,i){if(1&t&&l.Gf(rU,5),2&t){let r;l.iGM(r=l.CRH())&&(i.itemsContainer=r.first)}},inputs:{containerId:"containerId",value:"value",isVertical:"isVertical",slideShowActive:"slideShowActive",circular:"circular",responsiveOptions:"responsiveOptions",contentHeight:"contentHeight",showThumbnailNavigators:"showThumbnailNavigators",templates:"templates",numVisible:"numVisible",activeIndex:"activeIndex"},outputs:{onActiveIndexChange:"onActiveIndexChange",stopSlideShow:"stopSlideShow"},decls:8,vars:6,consts:[[1,"p-galleria-thumbnail-wrapper"],[1,"p-galleria-thumbnail-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-galleria-thumbnail-items-container",3,"ngStyle"],[1,"p-galleria-thumbnail-items",3,"transitionend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[3,"ngClass"],[1,"p-galleria-thumbnail-item-content",3,"click","touchend","keydown.enter"],["type","thumbnail",3,"item","templates"],[3,"ngClass",4,"ngIf"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,dU,3,6,"button",2),l.TgZ(3,"div",3)(4,"div",4,5),l.NdJ("transitionend",function(){return i.onTransitionEnd()})("touchstart",function(s){return i.onTouchStart(s)})("touchmove",function(s){return i.onTouchMove(s)}),l.YNc(6,fU,3,9,"div",6),l.qZA()(),l.YNc(7,bU,3,6,"button",2),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("ngIf",i.showThumbnailNavigators),l.xp6(1),l.Q6J("ngStyle",l.VKq(4,wU,i.isVertical?i.contentHeight:"")),l.xp6(3),l.Q6J("ngForOf",i.value),l.xp6(1),l.Q6J("ngIf",i.showThumbnailNavigators))},dependencies:function(){return[Ni,ai,li,wr,dr,Fc,aN,sN,lN]},encapsulation:2,changeDetection:0})),n})(),TU=(()=>{class n{}return x(n,"\u0275fac",function(t){return new(t||n)}),x(n,"\u0275mod",l.oAB({type:n})),x(n,"\u0275inj",l.cJS({imports:[Wn,xl,Hh,Ga,aN,sN,wV,EV,Wn,xl]})),n})();function SU(n,e){1&n&&l._UZ(0,"img",2),2&n&&l.Q6J("src",e.$implicit,l.LSH)}let xU=(()=>{class n{constructor(){this.responsiveOptions=[{breakpoint:"1024px",numVisible:5},{breakpoint:"768px",numVisible:3},{breakpoint:"560px",numVisible:1}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["note-gallery"]],inputs:{images:"images"},decls:2,vars:5,consts:[[3,"value","showIndicators","showThumbnails","changeItemOnIndicatorHover","responsiveOptions"],["pTemplate","item"],[1,"img-block",3,"src"]],template:function(t,i){1&t&&(l.TgZ(0,"p-galleria",0),l.YNc(1,SU,1,1,"ng-template",1),l.qZA()),2&t&&l.Q6J("value",i.images)("showIndicators",!0)("showThumbnails",!1)("changeItemOnIndicatorHover",!0)("responsiveOptions",i.responsiveOptions)},dependencies:[uS,Rs],styles:[".img-block[_ngcontent-%COMP%]{width:200px;height:200px;display:inline-block;object-fit:cover}"]}),n})(),DU=(()=>{class n{constructor(t,i){this.router=t,this.notesService=i}onDelete(){var t=this;return(0,Te.Z)(function*(){yield uV(t.noteRef),yield t.notesService.refreshNotes()})()}onEdit(){this.router.navigate([`edit/${this.noteRef.id}`])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yr),l.Y36(cS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["edit-panel"]],inputs:{noteRef:"noteRef"},decls:3,vars:0,consts:[[1,"panel"],[1,"pi","pi-file-edit","edit",2,"color","#707e8e",3,"click"],[1,"pi","pi-trash","delete",2,"color","#f20c2e",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"i",1),l.NdJ("click",function(){return i.onEdit()}),l.qZA(),l.TgZ(2,"i",2),l.NdJ("click",function(){return i.onDelete()}),l.qZA()())},styles:[".edit[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{padding:2px;border-radius:4px}.edit[_ngcontent-%COMP%]:hover{background:#ace2e5}.delete[_ngcontent-%COMP%]:hover{background:#edb1b1}.panel[_ngcontent-%COMP%]{display:flex;gap:30px}"]}),n})();function AU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"p-button",10),l.NdJ("onClick",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.onExpandClick())}),l.qZA()}if(2&n){const t=l.oxw();l.Udp("visibility",t.expandVisible),l.Q6J("icon",t.noteExpanded?"pi pi-chevron-up":"pi pi-chevron-down")("pTooltip",t.noteExpanded?"Compress note":"Expand note")}}function kU(n,e){1&n&&l._UZ(0,"div",11)}let MU=(()=>{class n{constructor(){this.panelVisible="hidden",this.expandVisible="hidden",this.noteExpanded=!1,this.shouldExpand=!1}ngOnInit(){this.noteData=this.note.data()}ngAfterViewInit(){this.noteText.shouldExpand$.subscribe(t=>{this.shouldExpand=t})}onContentEnter(){this.panelVisible="visible"}onContentLeave(){this.panelVisible="hidden"}onCardEnter(){this.expandVisible="visible"}onCardLeave(){this.expandVisible="hidden"}onExpandClick(){this.noteExpanded=!this.noteExpanded}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["note-card"]],viewQuery:function(t,i){if(1&t&&l.Gf(r4,5),2&t){let r;l.iGM(r=l.CRH())&&(i.noteText=r.first)}},inputs:{note:"note"},decls:13,vars:12,consts:[[1,"note-card",3,"mouseenter","mouseleave"],[1,"note-content",3,"mouseenter","mouseleave"],[2,"flex","1"],[1,"card-header"],[1,"date"],[3,"noteRef"],[3,"textData","expanded"],[3,"images"],["class","expand","styleClass","p-button-rounded p-button-info",3,"icon","visibility","pTooltip","onClick",4,"ngIf"],["class","blur",4,"ngIf"],["styleClass","p-button-rounded p-button-info",1,"expand",3,"icon","pTooltip","onClick"],[1,"blur"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.NdJ("mouseenter",function(){return i.onCardEnter()})("mouseleave",function(){return i.onCardLeave()}),l.TgZ(1,"div",1),l.NdJ("mouseenter",function(){return i.onContentEnter()})("mouseleave",function(){return i.onContentLeave()}),l.TgZ(2,"div",2)(3,"div",3)(4,"span",4),l._uU(5),l.ALo(6,"date"),l.qZA(),l.TgZ(7,"span"),l._UZ(8,"edit-panel",5),l.qZA()(),l._UZ(9,"note-text",6),l.qZA(),l._UZ(10,"note-gallery",7),l.YNc(11,AU,1,4,"p-button",8),l.qZA(),l.YNc(12,kU,1,0,"div",9),l.qZA()),2&t&&(l.xp6(5),l.hij(" ",l.xi3(6,9,i.noteData.textData.time,"dd/MM/yyyy HH:mm")," "),l.xp6(2),l.Udp("visibility",i.panelVisible),l.xp6(1),l.Q6J("noteRef",i.note.ref),l.xp6(1),l.Q6J("textData",i.noteData.textData)("expanded",i.noteExpanded),l.xp6(1),l.Q6J("images",i.noteData.images),l.xp6(1),l.Q6J("ngIf",i.shouldExpand),l.xp6(1),l.Q6J("ngIf",!i.noteExpanded&&i.shouldExpand))},dependencies:[li,hd,_V,r4,xU,DU,Pd],styles:[".card-header[_ngcontent-%COMP%]{display:flex;gap:30%}.date[_ngcontent-%COMP%]{font-size:14px}.note-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:top;position:relative;width:60%;min-width:560px;margin:auto;padding:20px 30px 0;border-radius:20px;background:white}.note-card[_ngcontent-%COMP%]{position:relative;margin:25px 0}.blur[_ngcontent-%COMP%]{height:50px;width:60%;position:absolute;left:0;right:0;bottom:0;margin:0 auto;background:linear-gradient(transparent,white);z-index:99;border-radius:0 0 20px 20px}.expand[_ngcontent-%COMP%]{position:absolute;bottom:15px;right:-58px}"]}),n})();function PU(n,e){1&n&&(l.TgZ(0,"div",5),l._UZ(1,"p-progressSpinner",6),l.qZA())}function NU(n,e){1&n&&l._UZ(0,"note-card",8),2&n&&l.Q6J("note",e.$implicit)}function OU(n,e){if(1&n&&(l.ynx(0),l.YNc(1,NU,1,1,"note-card",7),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.notes)}}const RU=function(){return{position:"relative"}},LU=[{path:"auth",component:rA},{path:"edit",component:i4},{path:"edit/:noteId",component:i4},{path:"notes",component:(()=>{class n{constructor(t,i,r,s,u){this.notesService=t,this.authService=i,this.router=r,this.lazy=s,this.userService=u}ngOnInit(){this.notesService.isLoading$.subscribe(t=>{this.isLoading=t}),this.notesService.notes$.subscribe(t=>{this.notes=t})}onCreate(){this.router.navigate(["/edit"])}onLogout(){var t=this;return(0,Te.Z)(function*(){yield t.authService.logout(),t.notesService.onLogOut(),t.userService.onLogOut(),t.lazy.onLogOut()})()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(cS),l.Y36(Tw),l.Y36(Yr),l.Y36(n4),l.Y36(oN))},n.\u0275cmp=l.Xpm({type:n,selectors:[["notes-page"]],decls:6,vars:5,consts:[[1,"header"],["label","Create","icon","pi pi-plus","styleClass","p-button-info",3,"onClick"],["label","Log out","icon","pi pi-sign-out","styleClass","p-button-info",3,"onClick"],["class","spinner",4,"ngIf"],[4,"ngIf"],[1,"spinner"],["strokeWidth","3"],[3,"note",4,"ngFor","ngForOf"],[3,"note"]],template:function(t,i){1&t&&(l.TgZ(0,"div")(1,"div",0)(2,"p-button",1),l.NdJ("onClick",function(){return i.onCreate()}),l.qZA(),l.TgZ(3,"p-button",2),l.NdJ("onClick",function(){return i.onLogout()}),l.qZA()(),l.YNc(4,PU,2,0,"div",3),l.YNc(5,OU,2,1,"ng-container",4),l.qZA()),2&t&&(l.Akn(l.DdM(4,RU)),l.xp6(4),l.Q6J("ngIf",i.isLoading),l.xp6(1),l.Q6J("ngIf",!i.isLoading))},dependencies:[ai,li,hd,X_,MU],styles:[".spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:80px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:40px 150px 0}"]}),n})()},{path:"",redirectTo:"/notes",pathMatch:"full"}];let FU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[H1.forRoot(LU),H1]}),n})(),BU=(()=>{class n{constructor(t,i){this.userService=t,this.router=i}ngOnInit(){this.userService.loggedIn.subscribe(t=>{this.router.navigate(t?[""]:["/auth"])})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oN),l.Y36(Yr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[jg],encapsulation:2}),n})();function o4(n){return new l.vHH(3e3,!1)}function vf(n){switch(n.length){case 0:return new ud;case 1:return n[0];default:return new Np(n)}}function s4(n,e,t=new Map,i=new Map){const r=[],s=[];let u=-1,f=null;if(e.forEach(m=>{const _=m.get("offset"),I=_==u,D=I&&f||new Map;m.forEach((N,U)=>{let B=U,q=N;if("offset"!==U)switch(B=n.normalizePropertyName(B,r),q){case"!":q=t.get(U);break;case ys:q=i.get(U);break;default:q=n.normalizeStyleValue(U,B,q,r)}D.set(B,q)}),I||s.push(D),f=D,u=_}),r.length)throw function aH(n){return new l.vHH(3502,!1)}();return s}function cN(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&uN(t,"start",n)));break;case"done":n.onDone(()=>i(t&&uN(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&uN(t,"destroy",n)))}}function uN(n,e,t){const s=dN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function dN(n,e,t,i,r="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function wa(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function a4(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const _H=(()=>typeof document>"u"?null:document.documentElement)();function hN(n){const e=n.parentNode||n.host||null;return e===_H?null:e}let wg=null,l4=!1;function c4(n,e){for(;e;){if(e===n)return!0;e=hN(e)}return!1}function u4(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let d4=(()=>{class n{validateStyleProperty(t){return function wH(n){wg||(wg=function EH(){return typeof document<"u"?document.body:null}()||{},l4=!!wg.style&&"WebkitAppearance"in wg.style);let e=!0;return wg.style&&!function bH(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in wg.style,!e&&l4&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in wg.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return c4(t,i)}getParentElement(t){return hN(t)}query(t,i,r){return u4(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,u,f=[],m){return new ud(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),fN=(()=>{class n{}return n.NOOP=new d4,n})();const CH=1e3,pN="ng-enter",dS="ng-leave",hS="ng-trigger",fS=".ng-trigger",f4="ng-animating",gN=".ng-animating";function Ad(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mN(parseFloat(e[1]),e[2])}function mN(n,e){return"s"===e?n*CH:n}function pS(n,e,t){return n.hasOwnProperty("duration")?n:function TH(n,e,t){let r,s=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(o4()),{duration:0,delay:0,easing:""};r=mN(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(s=mN(parseFloat(m),f[4]));const _=f[5];_&&(u=_)}else r=n;if(!t){let f=!1,m=e.length;r<0&&(e.push(function VU(){return new l.vHH(3100,!1)}()),f=!0),s<0&&(e.push(function UU(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(m,0,o4())}return{duration:r,delay:s,easing:u}}(n,e,t)}function Qb(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function p4(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function _f(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function eu(n,e,t){e.forEach((i,r)=>{const s=vN(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Eg(n,e){e.forEach((t,i)=>{const r=vN(i);n.style[r]=""})}function Jb(n){return Array.isArray(n)?1==n.length?n[0]:IE(n):n}const yN=new RegExp("{{\\s*(.+?)\\s*}}","g");function m4(n){let e=[];if("string"==typeof n){let t;for(;t=yN.exec(n);)e.push(t[1]);yN.lastIndex=0}return e}function Xb(n,e,t){const i=n.toString(),r=i.replace(yN,(s,u)=>{let f=e[u];return null==f&&(t.push(function jU(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function gS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const DH=/-+([a-z0-9])/g;function vN(n){return n.replace(DH,(...e)=>e[1].toUpperCase())}function Ea(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function $U(n){return new l.vHH(3004,!1)}()}}function y4(n,e){return window.getComputedStyle(n)[e]}const mS="*";function MH(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function PH(n,e,t){if(":"==n[0]){const m=function NH(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function iH(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function nH(n){return new l.vHH(3015,!1)}()),e;const r=i[1],s=i[2],u=i[3];e.push(v4(r,u));"<"==s[0]&&!(r==mS&&u==mS)&&e.push(v4(u,r))}(i,t,e)):t.push(n),t}const yS=new Set(["true","1"]),vS=new Set(["false","0"]);function v4(n,e){const t=yS.has(n)||vS.has(n),i=yS.has(e)||vS.has(e);return(r,s)=>{let u=n==mS||n==r,f=e==mS||e==s;return!u&&t&&"boolean"==typeof r&&(u=r?yS.has(n):vS.has(n)),!f&&i&&"boolean"==typeof s&&(f=s?yS.has(e):vS.has(e)),u&&f}}const OH=new RegExp("s*:selfs*,?","g");function _N(n,e,t,i){return new RH(n).build(e,t,i)}class RH{constructor(e){this._driver=e}build(e,t,i){const r=new BH(t);return this._resetContextStyleTimingState(r),Ea(this,Jb(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function GU(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const m=f,_=m.name;_.toString().split(/\s*,\s*/).forEach(I=>{m.name=I,s.push(this.visitState(m,t))}),m.name=_}else if(1==f.type){const m=this.visitTransition(f,t);i+=m.queryCount,r+=m.depCount,u.push(m)}else t.errors.push(function WU(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(m=>{m4(m).forEach(_=>{u.hasOwnProperty(_)||s.add(_)})})}),s.size&&(gS(s.values()),t.errors.push(function qU(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ea(this,Jb(e.animation),t);return{type:1,matchers:MH(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Cg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ea(this,i,t)),options:Cg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(u=>{t.currentTime=i;const f=Ea(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:s,options:Cg(e.options)}}visitAnimate(e,t){const i=function UH(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return bN(pS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=bN(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=pS(t,e);return bN(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Vs({});if(5==s.type)r=this.visitKeyframes(s,t);else{let u=e.styles,f=!1;if(!u){f=!0;const _={};i.easing&&(_.easing=i.easing),u=Vs(_)}t.currentTime+=i.duration+i.delay;const m=this.visitStyle(u,t);m.isEmptyStep=f,r=m}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===ys?i.push(f):t.errors.push(new l.vHH(3002,!1)):i.push(p4(f));let s=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!s))for(let m of f.values())if(m.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,m)=>{const _=t.collectedStyles.get(t.currentQuerySelector),I=_.get(m);let D=!0;I&&(s!=r&&s>=I.startTime&&r<=I.endTime&&(t.errors.push(function KU(n,e,t,i,r){return new l.vHH(3010,!1)}()),D=!1),s=I.startTime),D&&_.set(m,{startTime:s,endTime:r}),t.options&&function xH(n,e,t){const i=e.params||{},r=m4(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function HU(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function YU(){return new l.vHH(3011,!1)}()),i;let s=0;const u=[];let f=!1,m=!1,_=0;const I=e.steps.map(Re=>{const qe=this._makeStyleAst(Re,t);let Se=null!=qe.offset?qe.offset:function VH(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(qe.styles),Oe=0;return null!=Se&&(s++,Oe=qe.offset=Se),m=m||Oe<0||Oe>1,f=f||Oe<_,_=Oe,u.push(Oe),qe});m&&t.errors.push(function QU(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function JU(){return new l.vHH(3200,!1)}());const D=e.steps.length;let N=0;s>0&&s<D?t.errors.push(function XU(){return new l.vHH(3202,!1)}()):0==s&&(N=1/(D-1));const U=D-1,B=t.currentTime,q=t.currentAnimateTimings,ie=q.duration;return I.forEach((Re,qe)=>{const Se=N>0?qe==U?1:N*qe:u[qe],Oe=Se*ie;t.currentTime=B+q.delay+Oe,q.duration=Oe,this._validateStyleAst(Re,t),Re.offset=Se,i.styles.push(Re)}),i}visitReference(e,t){return{type:8,animation:Ea(this,Jb(e.animation),t),options:Cg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Cg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Cg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function LH(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(OH,"")),n=n.replace(/@\*/g,fS).replace(/@\w+/g,t=>fS+"-"+t.slice(1)).replace(/:animating/g,gN),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,wa(t.collectedStyles,t.currentQuerySelector,new Map);const f=Ea(this,Jb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Cg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function eH(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:pS(e.timings,t.errors,!0);return{type:12,animation:Ea(this,Jb(e.animation),t),timings:i,options:null}}}class BH{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cg(n){return n?(n=Qb(n)).params&&(n.params=function FH(n){return n?Qb(n):null}(n.params)):n={},n}function bN(n,e,t){return{duration:n,delay:e,easing:t}}function wN(n,e,t,i,r,s,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:f}}class _S{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $H=new RegExp(":enter","g"),GH=new RegExp(":leave","g");function EN(n,e,t,i,r,s=new Map,u=new Map,f,m,_=[]){return(new WH).buildKeyframes(n,e,t,i,r,s,u,f,m,_)}class WH{buildKeyframes(e,t,i,r,s,u,f,m,_,I=[]){_=_||new _S;const D=new CN(e,t,_,r,s,I,[]);D.options=m;const N=m.delay?Ad(m.delay):0;D.currentTimeline.delayNextStep(N),D.currentTimeline.setStyles([u],null,D.errors,m),Ea(this,i,D);const U=D.timelines.filter(B=>B.containsAnimation());if(U.length&&f.size){let B;for(let q=U.length-1;q>=0;q--){const ie=U[q];if(ie.element===t){B=ie;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,D.errors,m)}return U.length?U.map(B=>B.buildKeyframes()):[wN(t,[],[],[],0,N,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const u="number"==typeof s?s:Ad(Xb(s,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const u=null!=i.duration?Ad(i.duration):null,f=null!=i.delay?Ad(i.delay):null;return 0!==u&&e.forEach(m=>{const _=t.appendInstructionToTimeline(m,u,f);s=Math.max(s,_.duration+_.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Ea(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bS);const u=Ad(s.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ea(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ad(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);s&&f.delayNextStep(s),Ea(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return pS(t.params?Xb(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(m=>{f.forwardTime((m.offset||0)*s),f.setStyles(m.styles,m.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ad(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bS);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let m=null;f.forEach((_,I)=>{t.currentQueryIndex=I;const D=t.createSubContext(e.options,_);s&&D.delayNextStep(s),_===t.element&&(m=D.currentTimeline),Ea(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),f=u*(t.currentQueryTotal-1);let m=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=f-m;break;case"full":m=i.currentStaggerTime}const I=t.currentTimeline;m&&I.delayNextStep(m);const D=I.currentTime;Ea(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const bS={};class CN{constructor(e,t,i,r,s,u,f,m){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new wS(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ad(i.duration)),null!=i.delay&&(r.delay=Ad(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=Xb(s[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new CN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=bS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new qH(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace($H,"."+this._enterClassName)).replace(GH,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),f.push(..._)}return!s&&0==f.length&&u.push(function tH(n){return new l.vHH(3014,!1)}()),f}}class wS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new wS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ys),this._currentKeyframe.set(t,ys);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},u=function ZH(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,ys)}else _f(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,m]of u){const _=Xb(m,s,i);this._pendingStyles.set(f,_),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??ys),this._updateStyle(f,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,m)=>{const _=_f(f,new Map,this._backFill);_.forEach((I,D)=>{"!"===I?e.add(D):I===ys&&t.add(D)}),i||_.set("offset",m/this.duration),r.push(_)});const s=e.size?gS(e.values()):[],u=t.size?gS(t.values()):[];if(i){const f=r[0],m=new Map(f);f.set("offset",0),m.set("offset",1),r=[f,m]}return wN(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class qH extends wS{constructor(e,t,i,r,s,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=i+t,f=t/u,m=_f(e[0]);m.set("offset",0),s.push(m);const _=_f(e[0]);_.set("offset",w4(f)),s.push(_);const I=e.length-1;for(let D=1;D<=I;D++){let N=_f(e[D]);const U=N.get("offset");N.set("offset",w4((t+U*i)/u)),s.push(N)}i=u,t=0,r="",e=s}return wN(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function w4(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class IN{}const KH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class YH extends IN{normalizePropertyName(e,t){return vN(e)}normalizeStyleValue(e,t,i,r){let s="";const u=i.toString().trim();if(KH.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function zU(n,e){return new l.vHH(3005,!1)}())}return u+s}}function E4(n,e,t,i,r,s,u,f,m,_,I,D,N){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:u,timelines:f,queriedElements:m,preStyleProps:_,postStyleProps:I,totalTime:D,errors:N}}const TN={};class C4{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function QH(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,u,f,m,_,I){const D=[],N=this.ast.options&&this.ast.options.params||TN,B=this.buildStyles(i,f&&f.params||TN,D),q=m&&m.params||TN,ie=this.buildStyles(r,q,D),Re=new Set,qe=new Map,Se=new Map,Oe="void"===r,Ze={params:JH(q,N),delay:this.ast.options?.delay},it=I?[]:EN(e,t,this.ast.animation,s,u,B,ie,Ze,_,D);let Dt=0;if(it.forEach(Qe=>{Dt=Math.max(Qe.duration+Qe.delay,Dt)}),D.length)return E4(t,this._triggerName,i,r,Oe,B,ie,[],[],qe,Se,Dt,D);it.forEach(Qe=>{const St=Qe.element,Xt=wa(qe,St,new Set);Qe.preStyleProps.forEach(rn=>Xt.add(rn));const En=wa(Se,St,new Set);Qe.postStyleProps.forEach(rn=>En.add(rn)),St!==t&&Re.add(St)});const nt=gS(Re.values());return E4(t,this._triggerName,i,r,Oe,B,ie,it,nt,qe,Se,Dt)}}function JH(n,e){const t=Qb(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class XH{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Qb(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,f)=>{u&&(u=Xb(u,r,t));const m=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,m,u,t),i.set(f,u)})}),i}}class tj{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new XH(r.style,r.options&&r.options.params||{},i))}),I4(this.states,"true","1"),I4(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new C4(e,r,this.states))}),this.fallbackTransition=function nj(n,e,t){return new C4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function I4(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ij=new _S;class rj{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=_N(this._driver,t,i,[]);if(i.length)throw function lH(n){return new l.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=s4(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let u;const f=new Map;if(s?(u=EN(this._driver,t,s,pN,dS,new Map,new Map,i,ij,r),u.forEach(I=>{const D=wa(f,I.element,new Map);I.postStyleProps.forEach(N=>D.set(N,null))})):(r.push(function cH(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function uH(n){return new l.vHH(3504,!1)}();f.forEach((I,D)=>{I.forEach((N,U)=>{I.set(U,this._driver.computeStyle(D,U,ys))})});const _=vf(u.map(I=>{const D=f.get(I.element);return this._buildPlayer(I,new Map,D)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function dH(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=dN(t,"","","");return cN(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const T4="ng-animate-queued",SN="ng-animate-disabled",cj=[],S4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jl="__ng_removed";class xN{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function pj(n){return n??null}(i?e.value:e),i){const s=Qb(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const e1="void",DN=new xN(e1);class dj{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ja(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function hH(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function fH(n){return new l.vHH(3303,!1)}();if(!function gj(n){return"start"==n||"done"==n}(i))throw function pH(n,e){return new l.vHH(3400,!1)}();const s=wa(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};s.push(u);const f=wa(this._engine.statesByElement,e,new Map);return f.has(t)||(Ja(e,hS),Ja(e,hS+"-"+t),f.set(t,DN)),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(u);m>=0&&s.splice(m,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function gH(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),u=new AN(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ja(e,hS),Ja(e,hS+"-"+t),this._engine.statesByElement.set(e,f=new Map));let m=f.get(t);const _=new xN(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&_.absorbOptions(m.options),f.set(t,_),m||(m=DN),_.value!==e1&&m.value===_.value){if(!function vj(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(m.params,_.params)){const q=[],ie=s.matchStyles(m.value,m.params,q),Re=s.matchStyles(_.value,_.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{Eg(e,ie),eu(e,Re)})}return}const N=wa(this._engine.playersByElement,e,[]);N.forEach(q=>{q.namespaceId==this.id&&q.triggerName==t&&q.queued&&q.destroy()});let U=s.matchTransition(m.value,_.value,e,_.params),B=!1;if(!U){if(!r)return;U=s.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:m,toState:_,player:u,isFallbackTransition:B}),B||(Ja(e,T4),u.onStart(()=>{sv(e,T4)})),u.onDone(()=>{let q=this.players.indexOf(u);q>=0&&this.players.splice(q,1);const ie=this._engine.playersByElement.get(e);if(ie){let Re=ie.indexOf(u);Re>=0&&ie.splice(Re,1)}}),this.players.push(u),N.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,fS,!0);i.forEach(r=>{if(r[jl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const f=[];if(s.forEach((m,_)=>{if(u.set(_,m.value),this._triggers.has(_)){const I=this.trigger(e,_,e1,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&vf(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const m=this._triggers.get(u).fallbackTransition,_=i.get(u)||DN,I=new xN(e1),D=new AN(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:m,fromState:_,toState:I,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[jl];(!s||s===S4)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ja(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(f=>{if(f.name==i.triggerName){const m=dN(s,i.triggerName,i.fromState.value,i.toState.value);m._data=e,cN(i.player,f.phase,m,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class hj{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new dj(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const m=r.get(f);if(m){const _=i.indexOf(m);i.splice(_+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(ES(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!ES(t))return;const s=t[jl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ja(e,SN)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),sv(e,SN))}removeNode(e,t,i){if(ES(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[jl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return ES(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,fS,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gN,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return vf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[jl];if(t&&t.setForRemoval){if(e[jl]=S4,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(SN)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ja(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?vf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function mH(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new _S,r=[],s=new Map,u=[],f=new Map,m=new Map,_=new Map,I=new Set;this.disabledNodes.forEach(lt=>{I.add(lt);const xt=this.driver.query(lt,".ng-animate-queued",!0);for(let Mt=0;Mt<xt.length;Mt++)I.add(xt[Mt])});const D=this.bodyNode,N=Array.from(this.statesByElement.keys()),U=A4(N,this.collectedEnterElements),B=new Map;let q=0;U.forEach((lt,xt)=>{const Mt=pN+q++;B.set(xt,Mt),lt.forEach(gn=>Ja(gn,Mt))});const ie=[],Re=new Set,qe=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const xt=this.collectedLeaveElements[lt],Mt=xt[jl];Mt&&Mt.setForRemoval&&(ie.push(xt),Re.add(xt),Mt.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(gn=>Re.add(gn)):qe.add(xt))}const Se=new Map,Oe=A4(N,Array.from(Re));Oe.forEach((lt,xt)=>{const Mt=dS+q++;Se.set(xt,Mt),lt.forEach(gn=>Ja(gn,Mt))}),e.push(()=>{U.forEach((lt,xt)=>{const Mt=B.get(xt);lt.forEach(gn=>sv(gn,Mt))}),Oe.forEach((lt,xt)=>{const Mt=Se.get(xt);lt.forEach(gn=>sv(gn,Mt))}),ie.forEach(lt=>{this.processLeaveNode(lt)})});const Ze=[],it=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(t).forEach(Mt=>{const gn=Mt.player,_r=Mt.element;if(Ze.push(gn),this.collectedEnterElements.length){const Jo=_r[jl];if(Jo&&Jo.setForMove){if(Jo.previousTriggersValues&&Jo.previousTriggersValues.has(Mt.triggerName)){const Ig=Jo.previousTriggersValues.get(Mt.triggerName),el=this.statesByElement.get(Mt.element);if(el&&el.has(Mt.triggerName)){const TS=el.get(Mt.triggerName);TS.value=Ig,el.set(Mt.triggerName,TS)}}return void gn.destroy()}}const Xa=!D||!this.driver.containsElement(D,_r),Qo=Se.get(_r),bf=B.get(_r),Pi=this._buildInstruction(Mt,i,bf,Qo,Xa);if(Pi.errors&&Pi.errors.length)return void it.push(Pi);if(Xa)return gn.onStart(()=>Eg(_r,Pi.fromStyles)),gn.onDestroy(()=>eu(_r,Pi.toStyles)),void r.push(gn);if(Mt.isFallbackTransition)return gn.onStart(()=>Eg(_r,Pi.fromStyles)),gn.onDestroy(()=>eu(_r,Pi.toStyles)),void r.push(gn);const V4=[];Pi.timelines.forEach(Jo=>{Jo.stretchStartingKeyframe=!0,this.disabledNodes.has(Jo.element)||V4.push(Jo)}),Pi.timelines=V4,i.append(_r,Pi.timelines),u.push({instruction:Pi,player:gn,element:_r}),Pi.queriedElements.forEach(Jo=>wa(f,Jo,[]).push(gn)),Pi.preStyleProps.forEach((Jo,Ig)=>{if(Jo.size){let el=m.get(Ig);el||m.set(Ig,el=new Set),Jo.forEach((TS,PN)=>el.add(PN))}}),Pi.postStyleProps.forEach((Jo,Ig)=>{let el=_.get(Ig);el||_.set(Ig,el=new Set),Jo.forEach((TS,PN)=>el.add(PN))})});if(it.length){const lt=[];it.forEach(xt=>{lt.push(function yH(n,e){return new l.vHH(3505,!1)}())}),Ze.forEach(xt=>xt.destroy()),this.reportError(lt)}const Dt=new Map,nt=new Map;u.forEach(lt=>{const xt=lt.element;i.has(xt)&&(nt.set(xt,xt),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,Dt))}),r.forEach(lt=>{const xt=lt.element;this._getPreviousPlayers(xt,!1,lt.namespaceId,lt.triggerName,null).forEach(gn=>{wa(Dt,xt,[]).push(gn),gn.destroy()})});const Qe=ie.filter(lt=>M4(lt,m,_)),St=new Map;D4(St,this.driver,qe,_,ys).forEach(lt=>{M4(lt,m,_)&&Qe.push(lt)});const En=new Map;U.forEach((lt,xt)=>{D4(En,this.driver,new Set(lt),m,"!")}),Qe.forEach(lt=>{const xt=St.get(lt),Mt=En.get(lt);St.set(lt,new Map([...xt?.entries()??[],...Mt?.entries()??[]]))});const rn=[],vr=[],Cn={};u.forEach(lt=>{const{element:xt,player:Mt,instruction:gn}=lt;if(i.has(xt)){if(I.has(xt))return Mt.onDestroy(()=>eu(xt,gn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(gn.totalTime),void r.push(Mt);let _r=Cn;if(nt.size>1){let Qo=xt;const bf=[];for(;Qo=Qo.parentNode;){const Pi=nt.get(Qo);if(Pi){_r=Pi;break}bf.push(Qo)}bf.forEach(Pi=>nt.set(Pi,_r))}const Xa=this._buildAnimation(Mt.namespaceId,gn,Dt,s,En,St);if(Mt.setRealPlayer(Xa),_r===Cn)rn.push(Mt);else{const Qo=this.playersByElement.get(_r);Qo&&Qo.length&&(Mt.parentPlayer=vf(Qo)),r.push(Mt)}}else Eg(xt,gn.fromStyles),Mt.onDestroy(()=>eu(xt,gn.toStyles)),vr.push(Mt),I.has(xt)&&r.push(Mt)}),vr.forEach(lt=>{const xt=s.get(lt.element);if(xt&&xt.length){const Mt=vf(xt);lt.setRealPlayer(Mt)}}),r.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<ie.length;lt++){const xt=ie[lt],Mt=xt[jl];if(sv(xt,dS),Mt&&Mt.hasAnimation)continue;let gn=[];if(f.size){let Xa=f.get(xt);Xa&&Xa.length&&gn.push(...Xa);let Qo=this.driver.query(xt,gN,!0);for(let bf=0;bf<Qo.length;bf++){let Pi=f.get(Qo[bf]);Pi&&Pi.length&&gn.push(...Pi)}}const _r=gn.filter(Xa=>!Xa.destroyed);_r.length?mj(this,xt,_r):this.processLeaveNode(xt)}return ie.length=0,rn.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const xt=this.players.indexOf(lt);this.players.splice(xt,1)}),lt.play()}),rn}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const m=!s||s==e1;f.forEach(_=>{_.queued||!m&&_.triggerName!=r||u.push(_)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const s=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const _=m.element,I=_!==s,D=wa(i,_,[]);this._getPreviousPlayers(_,I,u,f,t.toState).forEach(U=>{const B=U.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),U.destroy(),D.push(U)})}Eg(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,u){const f=t.triggerName,m=t.element,_=[],I=new Set,D=new Set,N=t.timelines.map(B=>{const q=B.element;I.add(q);const ie=q[jl];if(ie&&ie.removedBeforeQueried)return new ud(B.duration,B.delay);const Re=q!==m,qe=function yj(n){const e=[];return k4(n,e),e}((i.get(q)||cj).map(Dt=>Dt.getRealPlayer())).filter(Dt=>!!Dt.element&&Dt.element===q),Se=s.get(q),Oe=u.get(q),Ze=s4(this._normalizer,B.keyframes,Se,Oe),it=this._buildPlayer(B,Ze,qe);if(B.subTimeline&&r&&D.add(q),Re){const Dt=new AN(e,f,q);Dt.setRealPlayer(it),_.push(Dt)}return it});_.forEach(B=>{wa(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function fj(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,B.element,B))}),I.forEach(B=>Ja(B,f4));const U=vf(N);return U.onDestroy(()=>{I.forEach(B=>sv(B,f4)),eu(m,t.toStyles)}),D.forEach(B=>{wa(r,B,[]).push(U)}),U}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new ud(e.duration,e.delay)}}class AN{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new ud,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>cN(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){wa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ES(n){return n&&1===n.nodeType}function x4(n,e){const t=n.style.display;return n.style.display=e??"none",t}function D4(n,e,t,i,r){const s=[];t.forEach(m=>s.push(x4(m)));const u=[];i.forEach((m,_)=>{const I=new Map;m.forEach(D=>{const N=e.computeStyle(_,D,r);I.set(D,N),(!N||0==N.length)&&(_[jl]=uj,u.push(_))}),n.set(_,I)});let f=0;return t.forEach(m=>x4(m,s[f++])),u}function A4(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),s=new Map;function u(f){if(!f)return 1;let m=s.get(f);if(m)return m;const _=f.parentNode;return m=t.has(_)?_:r.has(_)?1:u(_),s.set(f,m),m}return e.forEach(f=>{const m=u(f);1!==m&&t.get(m).push(f)}),t}function Ja(n,e){n.classList?.add(e)}function sv(n,e){n.classList?.remove(e)}function mj(n,e,t){vf(t).onDone(()=>n.processLeaveNode(e))}function k4(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Np?k4(i.players,e):e.push(i)}}function M4(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class CS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new hj(e,t,i),this._timelineEngine=new rj(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const m=[],I=_N(this._driver,s,m,[]);if(m.length)throw function sH(n,e){return new l.vHH(3404,!1)}();f=function ej(n,e,t){return new tj(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,u]=a4(i);this._timelineEngine.command(s,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[u,f]=a4(i);return this._timelineEngine.listen(u,t,f,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let bj=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&eu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(eu(this._element,this._initialStyles),this._endStyles&&(eu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Eg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Eg(this._element,this._endStyles),this._endStyles=null),eu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function kN(n){let e=null;return n.forEach((t,i)=>{(function wj(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class P4{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:y4(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Ej{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return c4(e,t)}getParentElement(e){return hN(e)}query(e,t,i){return u4(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,u=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(m.easing=s);const _=new Map,I=u.filter(U=>U instanceof P4);(function AH(n,e){return 0===n||0===e})(i,r)&&I.forEach(U=>{U.currentSnapshot.forEach((B,q)=>_.set(q,B))});let D=function SH(n){return n.length?n[0]instanceof Map?n:n.map(e=>p4(e)):[]}(t).map(U=>_f(U));D=function kH(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<e.length;s++){let u=e[s];r.forEach(f=>u.set(f,y4(n,f)))}}return e}(e,D,_);const N=function _j(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=kN(e[0]),e.length>1&&(i=kN(e[e.length-1]))):e instanceof Map&&(t=kN(e)),t||i?new bj(n,t,i):null}(e,D);return new P4(e,D,m,N)}}let Cj=(()=>{class n extends CE{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?IE(t):t;return N4(this._renderer,null,i,"register",[r]),new Ij(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ij extends K_{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Tj(this._id,e,t||{},this._renderer)}}class Tj{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return N4(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function N4(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const O4="@.disabled";let Sj=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,u)=>{const f=u?.parentNode(s);f&&u.removeChild(f,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(s);return I||(I=new R4("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,I)),I}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const m=I=>{Array.isArray(I)?I.forEach(m):this.engine.registerTrigger(u,f,t,I.name,I)};return i.data.animation.forEach(m),new xj(this,f,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,f]=s;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(CS),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class R4{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==O4?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class xj extends R4{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==O4?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Dj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function Aj(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let kj=(()=>{class n extends CS{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(fN),l.LFG(IN),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const L4=[{provide:CE,useClass:Cj},{provide:IN,useFactory:function Mj(){return new YH}},{provide:CS,useClass:kj},{provide:l.FYo,useFactory:function Pj(n,e,t){return new Sj(n,e,t)},deps:[Xs,CS,l.R0b]}],MN=[{provide:fN,useFactory:()=>new Ej},{provide:l.QbO,useValue:"BrowserAnimations"},...L4],F4=[{provide:fN,useClass:d4},{provide:l.QbO,useValue:"NoopAnimations"},...L4];let Nj=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?F4:MN}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:MN,imports:[gc]}),n})();const B4_firebase={projectId:"diary-ea1e5",appId:"1:180086165973:web:437aa80da9239c07cf6d5c",databaseURL:"https://diary-ea1e5-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"diary-ea1e5.appspot.com",apiKey:"AIzaSyADFgDnZkbQK38u1BFVY9ueS-ZWxYczCuY",authDomain:"diary-ea1e5.firebaseapp.com",messagingSenderId:"180086165973",measurementId:"G-4G99ST68CJ"};let Oj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wE,Wn,EE,J_,Rp,CO,eC]}),n})(),Rj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Rp,gR,eC,Wn]}),n})(),Lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[TU,Rp,eC,Wn,bV]}),n})(),Fj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[BU]}),n.\u0275inj=l.cJS({imports:[Oj,Rj,Lj,gc,FU,Nj,rd.hO.initializeApp(B4_firebase),Y1(()=>mx(B4_firebase)),V(()=>Qk()),sV(()=>fV(Q1(),{ignoreUndefinedProperties:!0}))]}),n})();Kd().bootstrapModule(Fj).catch(n=>console.error(n))},5619:(gt,Ie,R)=>{"use strict";R.d(Ie,{X:()=>L});var l=R(8645);class L extends l.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const Q=super._subscribe(X);return!Q.closed&&X.next(this._value),Q}getValue(){const{hasError:X,thrownError:Q,_value:ne}=this;if(X)throw Q;return this._throwIfClosed(),ne}next(X){super.next(this._value=X)}}},5592:(gt,Ie,R)=>{"use strict";R.d(Ie,{y:()=>De});var l=R(1887),L=R(7394),H=R(4850),X=R(8407),Q=R(2653),ne=R(4674),we=R(1441);let De=(()=>{class ae{constructor(ue){ue&&(this._subscribe=ue)}lift(ue){const Xe=new ae;return Xe.source=this,Xe.operator=ue,Xe}subscribe(ue,Xe,ke){const Ne=function z(ae){return ae&&ae instanceof l.Lv||function $(ae){return ae&&(0,ne.m)(ae.next)&&(0,ne.m)(ae.error)&&(0,ne.m)(ae.complete)}(ae)&&(0,L.Nn)(ae)}(ue)?ue:new l.Hp(ue,Xe,ke);return(0,we.x)(()=>{const{operator:be,source:Je}=this;Ne.add(be?be.call(Ne,Je):Je?this._subscribe(Ne):this._trySubscribe(Ne))}),Ne}_trySubscribe(ue){try{return this._subscribe(ue)}catch(Xe){ue.error(Xe)}}forEach(ue,Xe){return new(Xe=se(Xe))((ke,Ne)=>{const be=new l.Hp({next:Je=>{try{ue(Je)}catch(xe){Ne(xe),be.unsubscribe()}},error:Ne,complete:ke});this.subscribe(be)})}_subscribe(ue){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(ue)}[H.L](){return this}pipe(...ue){return(0,X.U)(ue)(this)}toPromise(ue){return new(ue=se(ue))((Xe,ke)=>{let Ne;this.subscribe(be=>Ne=be,be=>ke(be),()=>Xe(Ne))})}}return ae.create=Ue=>new ae(Ue),ae})();function se(ae){var Ue;return null!==(Ue=ae??Q.config.Promise)&&void 0!==Ue?Ue:Promise}},8645:(gt,Ie,R)=>{"use strict";R.d(Ie,{x:()=>we});var l=R(5592),L=R(7394);const X=(0,R(2306).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=R(9039),ne=R(1441);let we=(()=>{class se extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ae=new De(this,this);return ae.operator=z,ae}_throwIfClosed(){if(this.closed)throw new X}next(z){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(z)}})}error(z){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ae}=this;for(;ae.length;)ae.shift().error(z)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ae,isStopped:Ue,observers:ue}=this;return ae||Ue?L.Lc:(this.currentObservers=null,ue.push(z),new L.w0(()=>{this.currentObservers=null,(0,Q.P)(ue,z)}))}_checkFinalizedStatuses(z){const{hasError:ae,thrownError:Ue,isStopped:ue}=this;ae?z.error(Ue):ue&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return se.create=($,z)=>new De($,z),se})();class De extends we{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,ae;null===(ae=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ae||ae.call(z,$)}error($){var z,ae;null===(ae=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ae||ae.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,ae;return null!==(ae=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==ae?ae:L.Lc}}},1887:(gt,Ie,R)=>{"use strict";R.d(Ie,{Hp:()=>ke,Lv:()=>ae});var l=R(4674),L=R(7394),H=R(2653),X=R(3894);function Q(){}const ne=se("C",void 0,void 0);function se(Ce,_e,Be){return{kind:Ce,value:_e,error:Be}}var $=R(7599),z=R(1441);class ae extends L.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,L.Nn)(_e)&&_e.add(this)):this.destination=xe}static create(_e,Be,je){return new ke(_e,Be,je)}next(_e){this.isStopped?Je(function De(Ce){return se("N",Ce,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Je(function we(Ce){return se("E",void 0,Ce)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Je(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function ue(Ce,_e){return Ue.call(Ce,_e)}class Xe{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Be}=this;if(Be.next)try{Be.next(_e)}catch(je){Ne(je)}}error(_e){const{partialObserver:Be}=this;if(Be.error)try{Be.error(_e)}catch(je){Ne(je)}else Ne(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Be){Ne(Be)}}}class ke extends ae{constructor(_e,Be,je){let oe;if(super(),(0,l.m)(_e)||!_e)oe={next:_e??void 0,error:Be??void 0,complete:je??void 0};else{let te;this&&H.config.useDeprecatedNextContext?(te=Object.create(_e),te.unsubscribe=()=>this.unsubscribe(),oe={next:_e.next&&ue(_e.next,te),error:_e.error&&ue(_e.error,te),complete:_e.complete&&ue(_e.complete,te)}):oe=_e}this.destination=new Xe(oe)}}function Ne(Ce){H.config.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ce):(0,X.h)(Ce)}function Je(Ce,_e){const{onStoppedNotification:Be}=H.config;Be&&$.z.setTimeout(()=>Be(Ce,_e))}const xe={closed:!0,next:Q,error:function be(Ce){throw Ce},complete:Q}},7394:(gt,Ie,R)=>{"use strict";R.d(Ie,{Lc:()=>ne,w0:()=>Q,Nn:()=>we});var l=R(4674);const H=(0,R(2306).d)(se=>function(z){se(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ae,Ue)=>`${Ue+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var X=R(9039);class Q{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ue of z)ue.remove(this);else z.remove(this);const{initialTeardown:ae}=this;if((0,l.m)(ae))try{ae()}catch(ue){$=ue instanceof H?ue.errors:[ue]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const ue of Ue)try{De(ue)}catch(Xe){$=$??[],Xe instanceof H?$=[...$,...Xe.errors]:$.push(Xe)}}if($)throw new H($)}}add($){var z;if($&&$!==this)if(this.closed)De($);else{if($ instanceof Q){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,X.P)(z,$)}remove($){const{_finalizers:z}=this;z&&(0,X.P)(z,$),$ instanceof Q&&$._removeParent(this)}}Q.EMPTY=(()=>{const se=new Q;return se.closed=!0,se})();const ne=Q.EMPTY;function we(se){return se instanceof Q||se&&"closed"in se&&(0,l.m)(se.remove)&&(0,l.m)(se.add)&&(0,l.m)(se.unsubscribe)}function De(se){(0,l.m)(se)?se():se.unsubscribe()}},2653:(gt,Ie,R)=>{"use strict";R.d(Ie,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(gt,Ie,R)=>{"use strict";R.d(Ie,{E:()=>L});const L=new(R(5592).y)(Q=>Q.complete())},2459:(gt,Ie,R)=>{"use strict";R.d(Ie,{D:()=>_e});var l=R(4829),L=R(3093),H=R(5137),ne=R(5592),De=R(4971),se=R(4674),$=R(7103);function ae(Be,je){if(!Be)throw new Error("Iterable cannot be null");return new ne.y(oe=>{(0,$.f)(oe,je,()=>{const te=Be[Symbol.asyncIterator]();(0,$.f)(oe,je,()=>{te.next().then(Ve=>{Ve.done?oe.complete():oe.next(Ve.value)})},0,!0)})})}var Ue=R(8382),ue=R(4026),Xe=R(4266),ke=R(3664),Ne=R(5726),be=R(9853),Je=R(541);function _e(Be,je){return je?function Ce(Be,je){if(null!=Be){if((0,Ue.c)(Be))return function X(Be,je){return(0,l.Xf)(Be).pipe((0,H.R)(je),(0,L.Q)(je))}(Be,je);if((0,Xe.z)(Be))return function we(Be,je){return new ne.y(oe=>{let te=0;return je.schedule(function(){te===Be.length?oe.complete():(oe.next(Be[te++]),oe.closed||this.schedule())})})}(Be,je);if((0,ue.t)(Be))return function Q(Be,je){return(0,l.Xf)(Be).pipe((0,H.R)(je),(0,L.Q)(je))}(Be,je);if((0,Ne.D)(Be))return ae(Be,je);if((0,ke.T)(Be))return function z(Be,je){return new ne.y(oe=>{let te;return(0,$.f)(oe,je,()=>{te=Be[De.h](),(0,$.f)(oe,je,()=>{let Ve,et;try{({value:Ve,done:et}=te.next())}catch(Yn){return void oe.error(Yn)}et?oe.complete():oe.next(Ve)},0,!0)}),()=>(0,se.m)(te?.return)&&te.return()})}(Be,je);if((0,Je.L)(Be))return function xe(Be,je){return ae((0,Je.Q)(Be),je)}(Be,je)}throw(0,be.z)(Be)}(Be,je):(0,l.Xf)(Be)}},4829:(gt,Ie,R)=>{"use strict";R.d(Ie,{Xf:()=>Ue});var l=R(7582),L=R(4266),H=R(4026),X=R(5592),Q=R(8382),ne=R(5726),we=R(9853),De=R(3664),se=R(541),$=R(4674),z=R(3894),ae=R(4850);function Ue(Ce){if(Ce instanceof X.y)return Ce;if(null!=Ce){if((0,Q.c)(Ce))return function ue(Ce){return new X.y(_e=>{const Be=Ce[ae.L]();if((0,$.m)(Be.subscribe))return Be.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,L.z)(Ce))return function Xe(Ce){return new X.y(_e=>{for(let Be=0;Be<Ce.length&&!_e.closed;Be++)_e.next(Ce[Be]);_e.complete()})}(Ce);if((0,H.t)(Ce))return function ke(Ce){return new X.y(_e=>{Ce.then(Be=>{_e.closed||(_e.next(Be),_e.complete())},Be=>_e.error(Be)).then(null,z.h)})}(Ce);if((0,ne.D)(Ce))return be(Ce);if((0,De.T)(Ce))return function Ne(Ce){return new X.y(_e=>{for(const Be of Ce)if(_e.next(Be),_e.closed)return;_e.complete()})}(Ce);if((0,se.L)(Ce))return function Je(Ce){return be((0,se.Q)(Ce))}(Ce)}throw(0,we.z)(Ce)}function be(Ce){return new X.y(_e=>{(function xe(Ce,_e){var Be,je,oe,te;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Be=(0,l.KL)(Ce);!(je=yield Be.next()).done;)if(_e.next(je.value),_e.closed)return}catch(Ve){oe={error:Ve}}finally{try{je&&!je.done&&(te=Be.return)&&(yield te.call(Be))}finally{if(oe)throw oe.error}}_e.complete()})})(Ce,_e).catch(Be=>_e.error(Be))})}},3019:(gt,Ie,R)=>{"use strict";R.d(Ie,{T:()=>ne});var l=R(7537),L=R(4829),H=R(6232),X=R(9940),Q=R(2459);function ne(...we){const De=(0,X.yG)(we),se=(0,X._6)(we,1/0),$=we;return $.length?1===$.length?(0,L.Xf)($[0]):(0,l.J)(se)((0,Q.D)($,De)):H.E}},2096:(gt,Ie,R)=>{"use strict";R.d(Ie,{of:()=>H});var l=R(9940),L=R(2459);function H(...X){const Q=(0,l.yG)(X);return(0,L.D)(X,Q)}},8251:(gt,Ie,R)=>{"use strict";R.d(Ie,{x:()=>L});var l=R(1887);function L(X,Q,ne,we,De){return new H(X,Q,ne,we,De)}class H extends l.Lv{constructor(Q,ne,we,De,se,$){super(Q),this.onFinalize=se,this.shouldUnsubscribe=$,this._next=ne?function(z){try{ne(z)}catch(ae){Q.error(ae)}}:super._next,this._error=De?function(z){try{De(z)}catch(ae){Q.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(z){Q.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(Q=this.onFinalize)||void 0===Q||Q.call(this))}}}},7398:(gt,Ie,R)=>{"use strict";R.d(Ie,{U:()=>H});var l=R(9360),L=R(8251);function H(X,Q){return(0,l.e)((ne,we)=>{let De=0;ne.subscribe((0,L.x)(we,se=>{we.next(X.call(Q,se,De++))}))})}},7537:(gt,Ie,R)=>{"use strict";R.d(Ie,{J:()=>H});var l=R(1631),L=R(2737);function H(X=1/0){return(0,l.z)(L.y,X)}},1631:(gt,Ie,R)=>{"use strict";R.d(Ie,{z:()=>De});var l=R(7398),L=R(4829),H=R(9360),X=R(7103),Q=R(8251),we=R(4674);function De(se,$,z=1/0){return(0,we.m)($)?De((ae,Ue)=>(0,l.U)((ue,Xe)=>$(ae,ue,Ue,Xe))((0,L.Xf)(se(ae,Ue))),z):("number"==typeof $&&(z=$),(0,H.e)((ae,Ue)=>function ne(se,$,z,ae,Ue,ue,Xe,ke){const Ne=[];let be=0,Je=0,xe=!1;const Ce=()=>{xe&&!Ne.length&&!be&&$.complete()},_e=je=>be<ae?Be(je):Ne.push(je),Be=je=>{ue&&$.next(je),be++;let oe=!1;(0,L.Xf)(z(je,Je++)).subscribe((0,Q.x)($,te=>{Ue?.(te),ue?_e(te):$.next(te)},()=>{oe=!0},void 0,()=>{if(oe)try{for(be--;Ne.length&&be<ae;){const te=Ne.shift();Xe?(0,X.f)($,Xe,()=>Be(te)):Be(te)}Ce()}catch(te){$.error(te)}}))};return se.subscribe((0,Q.x)($,_e,()=>{xe=!0,Ce()})),()=>{ke?.()}}(ae,Ue,se,z)))}},3093:(gt,Ie,R)=>{"use strict";R.d(Ie,{Q:()=>X});var l=R(7103),L=R(9360),H=R(8251);function X(Q,ne=0){return(0,L.e)((we,De)=>{we.subscribe((0,H.x)(De,se=>(0,l.f)(De,Q,()=>De.next(se),ne),()=>(0,l.f)(De,Q,()=>De.complete(),ne),se=>(0,l.f)(De,Q,()=>De.error(se),ne)))})}},3020:(gt,Ie,R)=>{"use strict";R.d(Ie,{B:()=>Q});var l=R(4829),L=R(8645),H=R(1887),X=R(9360);function Q(we={}){const{connector:De=(()=>new L.x),resetOnError:se=!0,resetOnComplete:$=!0,resetOnRefCountZero:z=!0}=we;return ae=>{let Ue,ue,Xe,ke=0,Ne=!1,be=!1;const Je=()=>{ue?.unsubscribe(),ue=void 0},xe=()=>{Je(),Ue=Xe=void 0,Ne=be=!1},Ce=()=>{const _e=Ue;xe(),_e?.unsubscribe()};return(0,X.e)((_e,Be)=>{ke++,!be&&!Ne&&Je();const je=Xe=Xe??De();Be.add(()=>{ke--,0===ke&&!be&&!Ne&&(ue=ne(Ce,z))}),je.subscribe(Be),!Ue&&ke>0&&(Ue=new H.Hp({next:oe=>je.next(oe),error:oe=>{be=!0,Je(),ue=ne(xe,se,oe),je.error(oe)},complete:()=>{Ne=!0,Je(),ue=ne(xe,$),je.complete()}}),(0,l.Xf)(_e).subscribe(Ue))})(ae)}}function ne(we,De,...se){if(!0===De)return void we();if(!1===De)return;const $=new H.Hp({next:()=>{$.unsubscribe(),we()}});return(0,l.Xf)(De(...se)).subscribe($)}},5137:(gt,Ie,R)=>{"use strict";R.d(Ie,{R:()=>L});var l=R(9360);function L(H,X=0){return(0,l.e)((Q,ne)=>{ne.add(H.schedule(()=>Q.subscribe(ne),X))})}},4664:(gt,Ie,R)=>{"use strict";R.d(Ie,{w:()=>X});var l=R(4829),L=R(9360),H=R(8251);function X(Q,ne){return(0,L.e)((we,De)=>{let se=null,$=0,z=!1;const ae=()=>z&&!se&&De.complete();we.subscribe((0,H.x)(De,Ue=>{se?.unsubscribe();let ue=0;const Xe=$++;(0,l.Xf)(Q(Ue,Xe)).subscribe(se=(0,H.x)(De,ke=>De.next(ne?ne(Ue,ke,Xe,ue++):ke),()=>{se=null,ae()}))},()=>{z=!0,ae()}))})}},9397:(gt,Ie,R)=>{"use strict";R.d(Ie,{b:()=>Q});var l=R(4674),L=R(9360),H=R(8251),X=R(2737);function Q(ne,we,De){const se=(0,l.m)(ne)||we||De?{next:ne,error:we,complete:De}:ne;return se?(0,L.e)(($,z)=>{var ae;null===(ae=se.subscribe)||void 0===ae||ae.call(se);let Ue=!0;$.subscribe((0,H.x)(z,ue=>{var Xe;null===(Xe=se.next)||void 0===Xe||Xe.call(se,ue),z.next(ue)},()=>{var ue;Ue=!1,null===(ue=se.complete)||void 0===ue||ue.call(se),z.complete()},ue=>{var Xe;Ue=!1,null===(Xe=se.error)||void 0===Xe||Xe.call(se,ue),z.error(ue)},()=>{var ue,Xe;Ue&&(null===(ue=se.unsubscribe)||void 0===ue||ue.call(se)),null===(Xe=se.finalize)||void 0===Xe||Xe.call(se)}))}):X.y}},1954:(gt,Ie,R)=>{"use strict";R.d(Ie,{o:()=>Q});var l=R(7394);class L extends l.w0{constructor(we,De){super()}schedule(we,De=0){return this}}const H={setInterval(ne,we,...De){const{delegate:se}=H;return se?.setInterval?se.setInterval(ne,we,...De):setInterval(ne,we,...De)},clearInterval(ne){const{delegate:we}=H;return(we?.clearInterval||clearInterval)(ne)},delegate:void 0};var X=R(9039);class Q extends L{constructor(we,De){super(we,De),this.scheduler=we,this.work=De,this.pending=!1}schedule(we,De=0){var se;if(this.closed)return this;this.state=we;const $=this.id,z=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(z,$,De)),this.pending=!0,this.delay=De,this.id=null!==(se=this.id)&&void 0!==se?se:this.requestAsyncId(z,this.id,De),this}requestAsyncId(we,De,se=0){return H.setInterval(we.flush.bind(we,this),se)}recycleAsyncId(we,De,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return De;null!=De&&H.clearInterval(De)}execute(we,De){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(we,De);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,De){let $,se=!1;try{this.work(we)}catch(z){se=!0,$=z||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:we,scheduler:De}=this,{actions:se}=De;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(se,this),null!=we&&(this.id=this.recycleAsyncId(De,we,null)),this.delay=null,super.unsubscribe()}}}},2631:(gt,Ie,R)=>{"use strict";R.d(Ie,{v:()=>H});var l=R(4552);class L{constructor(Q,ne=L.now){this.schedulerActionCtor=Q,this.now=ne}schedule(Q,ne=0,we){return new this.schedulerActionCtor(this,Q).schedule(we,ne)}}L.now=l.l.now;class H extends L{constructor(Q,ne=L.now){super(Q,ne),this.actions=[],this._active=!1}flush(Q){const{actions:ne}=this;if(this._active)return void ne.push(Q);let we;this._active=!0;do{if(we=Q.execute(Q.state,Q.delay))break}while(Q=ne.shift());if(this._active=!1,we){for(;Q=ne.shift();)Q.unsubscribe();throw we}}}},6321:(gt,Ie,R)=>{"use strict";R.d(Ie,{P:()=>X,z:()=>H});var l=R(1954);const H=new(R(2631).v)(l.o),X=H},4552:(gt,Ie,R)=>{"use strict";R.d(Ie,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(gt,Ie,R)=>{"use strict";R.d(Ie,{z:()=>l});const l={setTimeout(L,H,...X){const{delegate:Q}=l;return Q?.setTimeout?Q.setTimeout(L,H,...X):setTimeout(L,H,...X)},clearTimeout(L){const{delegate:H}=l;return(H?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4971:(gt,Ie,R)=>{"use strict";R.d(Ie,{h:()=>L});const L=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(gt,Ie,R)=>{"use strict";R.d(Ie,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(gt,Ie,R)=>{"use strict";R.d(Ie,{_6:()=>ne,jO:()=>X,yG:()=>Q});var l=R(4674),L=R(671);function H(we){return we[we.length-1]}function X(we){return(0,l.m)(H(we))?we.pop():void 0}function Q(we){return(0,L.K)(H(we))?we.pop():void 0}function ne(we,De){return"number"==typeof H(we)?we.pop():De}},9039:(gt,Ie,R)=>{"use strict";function l(L,H){if(L){const X=L.indexOf(H);0<=X&&L.splice(X,1)}}R.d(Ie,{P:()=>l})},2306:(gt,Ie,R)=>{"use strict";function l(L){const X=L(Q=>{Error.call(Q),Q.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}R.d(Ie,{d:()=>l})},1441:(gt,Ie,R)=>{"use strict";R.d(Ie,{O:()=>X,x:()=>H});var l=R(2653);let L=null;function H(Q){if(l.config.useDeprecatedSynchronousErrorHandling){const ne=!L;if(ne&&(L={errorThrown:!1,error:null}),Q(),ne){const{errorThrown:we,error:De}=L;if(L=null,we)throw De}}else Q()}function X(Q){l.config.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=Q)}},7103:(gt,Ie,R)=>{"use strict";function l(L,H,X,Q=0,ne=!1){const we=H.schedule(function(){X(),ne?L.add(this.schedule(null,Q)):this.unsubscribe()},Q);if(L.add(we),!ne)return we}R.d(Ie,{f:()=>l})},2737:(gt,Ie,R)=>{"use strict";function l(L){return L}R.d(Ie,{y:()=>l})},4266:(gt,Ie,R)=>{"use strict";R.d(Ie,{z:()=>l});const l=L=>L&&"number"==typeof L.length&&"function"!=typeof L},5726:(gt,Ie,R)=>{"use strict";R.d(Ie,{D:()=>L});var l=R(4674);function L(H){return Symbol.asyncIterator&&(0,l.m)(H?.[Symbol.asyncIterator])}},4674:(gt,Ie,R)=>{"use strict";function l(L){return"function"==typeof L}R.d(Ie,{m:()=>l})},8382:(gt,Ie,R)=>{"use strict";R.d(Ie,{c:()=>H});var l=R(4850),L=R(4674);function H(X){return(0,L.m)(X[l.L])}},3664:(gt,Ie,R)=>{"use strict";R.d(Ie,{T:()=>H});var l=R(4971),L=R(4674);function H(X){return(0,L.m)(X?.[l.h])}},4026:(gt,Ie,R)=>{"use strict";R.d(Ie,{t:()=>L});var l=R(4674);function L(H){return(0,l.m)(H?.then)}},541:(gt,Ie,R)=>{"use strict";R.d(Ie,{L:()=>X,Q:()=>H});var l=R(7582),L=R(4674);function H(Q){return(0,l.FC)(this,arguments,function*(){const we=Q.getReader();try{for(;;){const{value:De,done:se}=yield(0,l.qq)(we.read());if(se)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(De)}}finally{we.releaseLock()}})}function X(Q){return(0,L.m)(Q?.getReader)}},671:(gt,Ie,R)=>{"use strict";R.d(Ie,{K:()=>L});var l=R(4674);function L(H){return H&&(0,l.m)(H.schedule)}},9360:(gt,Ie,R)=>{"use strict";R.d(Ie,{A:()=>L,e:()=>H});var l=R(4674);function L(X){return(0,l.m)(X?.lift)}function H(X){return Q=>{if(L(Q))return Q.lift(function(ne){try{return X(ne,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(gt,Ie,R)=>{"use strict";R.d(Ie,{U:()=>H,z:()=>L});var l=R(2737);function L(...X){return H(X)}function H(X){return 0===X.length?l.y:1===X.length?X[0]:function(ne){return X.reduce((we,De)=>De(we),ne)}}},3894:(gt,Ie,R)=>{"use strict";R.d(Ie,{h:()=>H});var l=R(2653),L=R(7599);function H(X){L.z.setTimeout(()=>{const{onUnhandledError:Q}=l.config;if(!Q)throw X;Q(X)})}},9853:(gt,Ie,R)=>{"use strict";function l(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ie,{z:()=>l})},8926:(gt,Ie,R)=>{"use strict";R.d(Ie,{QbO:()=>x,tb:()=>Ya,AFp:()=>Te,ip1:()=>_d,hGG:()=>Bk,z2F:()=>Qp,Ojb:()=>WN,sBO:()=>Ek,Sil:()=>iI,EJc:()=>rk,Xts:()=>Qg,SBq:()=>Ls,lqb:()=>id,qLn:()=>bh,vpe:()=>ya,XFs:()=>At,OlP:()=>kn,zs3:()=>Dc,ZZ4:()=>V0,aQg:()=>U0,soG:()=>M0,YKP:()=>Vp,h0i:()=>md,PXZ:()=>pk,R0b:()=>Go,FiY:()=>kr,Lbi:()=>qv,g9A:()=>yh,Qsj:()=>od,FYo:()=>Ai,JOm:()=>Bg,q3G:()=>nd,tp0:()=>Wf,Rgc:()=>$p,dDg:()=>lI,eoX:()=>cI,q4F:()=>hi,GfV:()=>X1,s_b:()=>ny,ifc:()=>zn,VuI:()=>qk,MMx:()=>u0,Lck:()=>Up,eFA:()=>mk,Gpc:()=>Je,f3M:()=>me,X6Q:()=>wk,$WT:()=>Es,MR2:()=>Jg,_c5:()=>Fk,qFp:()=>Kk,rg0:()=>Hd,c2e:()=>py,zSh:()=>$v,HDt:()=>P0,wAp:()=>jh,vHH:()=>oe,lri:()=>my,rWj:()=>aI,JZr:()=>je,EiD:()=>O1,mCW:()=>ip,qzn:()=>gh,JVY:()=>x1,pB0:()=>KS,eBb:()=>D1,L6k:()=>LN,LAX:()=>A1,cg1:()=>J_,kL8:()=>Fc,dqk:()=>mn,Z0I:()=>Fr,eJc:()=>I0,QGY:()=>L_,F4k:()=>hD,RDi:()=>$S,AaK:()=>ke,z3N:()=>Sl,qOj:()=>xh,Xq5:()=>pp,TTD:()=>jd,_Bn:()=>_o,jDz:()=>d0,xp6:()=>lm,uIk:()=>A_,Tol:()=>_D,ekj:()=>q_,Suo:()=>E0,Xpm:()=>Wl,lG2:()=>Ii,Yz7:()=>Bt,cJS:()=>lr,oAB:()=>Md,Yjl:()=>nl,Y36:()=>kl,_UZ:()=>eE,GkF:()=>Mm,BQk:()=>km,ynx:()=>Ap,qZA:()=>Dp,TgZ:()=>Am,EpF:()=>R_,n5z:()=>ds,LFG:()=>j,$8M:()=>gl,$Z:()=>dm,NdJ:()=>Pm,CRH:()=>C0,O4$:()=>Lu,oxw:()=>rE,ALo:()=>Xm,xi3:()=>SC,Hsn:()=>Nm,F$t:()=>sE,Q6J:()=>xm,DdM:()=>bC,VKq:()=>p0,WLB:()=>qa,kEZ:()=>Qm,l5B:()=>wC,iGM:()=>LC,MAs:()=>O_,KtG:()=>ta,evT:()=>sm,CHM:()=>Lf,oJD:()=>Yg,LSH:()=>Lv,P3R:()=>Vv,Akn:()=>ja,Udp:()=>W_,YNc:()=>Sm,W1O:()=>VC,_uU:()=>SE,Oqu:()=>ud,hij:()=>Np,AsE:()=>Op,Gf:()=>sy});var l=R(8645),L=R(7394),H=R(5619),X=R(5592),Q=R(3019),ne=R(2096),we=R(3020),De=R(4664),se=R(2737),$=R(9360),z=R(8251);function Ue(o,a){return o===a}function ue(o){for(let a in o)if(o[a]===ue)return a;throw Error("Could not find renamed property on target object.")}function Xe(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function ke(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ke).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Ne(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const be=ue({__forward_ref__:ue});function Je(o){return o.__forward_ref__=Je,o.toString=function(){return ke(this())},o}function xe(o){return Ce(o)?o():o}function Ce(o){return"function"==typeof o&&o.hasOwnProperty(be)&&o.__forward_ref__===Je}function _e(o){return o&&!!o.\u0275providers}const je="https://g.co/ng/security#xss";class oe extends Error{constructor(a,c){super(function te(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function Ve(o){return"string"==typeof o?o:null==o?"":String(o)}function Lr(o,a){throw new oe(-201,!1)}function Ut(o,a){null==o&&function wt(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function Bt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function lr(o){return{providers:o.providers||[],imports:o.imports||[]}}function Xo(o){return Zs(o,Ln)||Zs(o,Ht)}function Fr(o){return null!==Xo(o)}function Zs(o,a){return o.hasOwnProperty(a)?o[a]:null}function ws(o){return o&&(o.hasOwnProperty(Wt)||o.hasOwnProperty(Hn))?o[Wt]:null}const Ln=ue({\u0275prov:ue}),Wt=ue({\u0275inj:ue}),Ht=ue({ngInjectableDef:ue}),Hn=ue({ngInjectorDef:ue});var At=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(At||{});let Zi;function hn(o){const a=Zi;return Zi=o,a}function Do(o,a,c){const d=Xo(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&At.Optional?null:void 0!==a?a:void Lr(ke(o))}const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),es={},Ei="__NG_DI_FLAG__",cr="ngTempTokenPath",yi=/\n/gm,oi="__source";let Ao;function vi(o){const a=Ao;return Ao=o,a}function W(o,a=At.Default){if(void 0===Ao)throw new oe(-203,!1);return null===Ao?Do(o,void 0,a):Ao.get(o,a&At.Optional?null:void 0,a)}function j(o,a=At.Default){return(function Br(){return Zi}()||W)(xe(o),a)}function me(o,a=At.Default){return j(o,le(a))}function le(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ct(o){const a=[];for(let c=0;c<o.length;c++){const d=xe(o[c]);if(Array.isArray(d)){if(0===d.length)throw new oe(900,!1);let h,p=At.Default;for(let v=0;v<d.length;v++){const w=d[v],T=cn(w);"number"==typeof T?-1===T?h=w.token:p|=T:h=w}a.push(j(h,p))}else a.push(j(d))}return a}function It(o,a){return o[Ei]=a,o.prototype[Ei]=a,o}function cn(o){return o[Ei]}function $n(o){return{toString:o}.toString()}var en=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(en||{}),zn=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(zn||{});const ti={},Yt=[],ts=ue({\u0275cmp:ue}),Ee=ue({\u0275dir:ue}),re=ue({\u0275pipe:ue}),$e=ue({\u0275mod:ue}),ht=ue({\u0275fac:ue}),kt=ue({__NG_ELEMENT_ID__:ue}),jt=ue({__NG_ENV_ID__:ue});function fn(o,a,c){let d=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||o.charCodeAt(h+p)<=32)return h}c=h+1}}function si(o,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const p=c[d++],v=c[d++],w=c[d++];o.setAttribute(a,v,w,p)}else{const p=h,v=c[++d];ns(p)?o.setProperty(a,p,v):o.setAttribute(a,p,v),d++}}return d}function Gn(o){return 3===o||4===o||6===o}function ns(o){return 64===o.charCodeAt(0)}function ko(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||Ia(o,c,h,null,-1===c||2===c?a[++d]:null)}}return o}function Ia(o,a,c,d,h){let p=0,v=o.length;if(-1===a)v=-1;else for(;p<o.length;){const w=o[p++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=p-1;break}}}for(;p<o.length;){const w=o[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==h&&(o[p+1]=h));if(d===o[p+1])return void(o[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==v&&(o.splice(v,0,a),p=v+1),o.splice(p++,0,c),null!==d&&o.splice(p++,0,d),null!==h&&o.splice(p++,0,h)}const tu="ng-template";function Ni(o,a,c){let d=0,h=!0;for(;d<o.length;){let p=o[d++];if("string"==typeof p&&h){const v=o[d++];if(c&&"class"===p&&-1!==fn(v.toLowerCase(),a,0))return!0}else{if(1===p){for(;d<o.length&&"string"==typeof(p=o[d++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function is(o){return 4===o.type&&o.value!==tu}function Ta(o,a,c){return a===(4!==o.type||c?o.value:tu)}function wf(o,a,c){let d=4;const h=o.attrs||[],p=function Tg(o){for(let a=0;a<o.length;a++)if(Gn(o[a]))return a;return o.length}(h);let v=!1;for(let w=0;w<a.length;w++){const T=a[w];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!Ta(o,T,c)||""===T&&1===a.length){if(ai(d))return!1;v=!0}}else{const A=8&d?T:a[++w];if(8&d&&null!==o.attrs){if(!Ni(o.attrs,A,c)){if(ai(d))return!1;v=!0}continue}const V=Qn(8&d?"class":T,h,is(o),c);if(-1===V){if(ai(d))return!1;v=!0;continue}if(""!==A){let Z;Z=V>p?"":h[V+1].toLowerCase();const ee=8&d?Z:null;if(ee&&-1!==fn(ee,A,0)||2&d&&A!==Z){if(ai(d))return!1;v=!0}}}}else{if(!v&&!ai(d)&&!ai(T))return!1;if(v&&ai(T))continue;v=!1,d=T|1&d}}return ai(d)||v}function ai(o){return 0==(1&o)}function Qn(o,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let p=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)p=!0;else{if(1===v||2===v){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=p?1:2}return-1}return function kd(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function Ef(o,a,c=!1){for(let d=0;d<a.length;d++)if(wf(o,a[d],c))return!0;return!1}function zl(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function Ks(o,a){return o?":not("+a.trim()+")":a}function Gl(o){let a=o[0],c=1,d=2,h="",p=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const w=o[++c];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!ai(v)&&(a+=Ks(p,h),h=""),d=v,p=p||!ai(d);c++}return""!==h&&(a+=Ks(p,h)),a}function Wl(o){return $n(()=>{const a=iu(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===en.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||zn.Emulated,styles:o.styles||Yt,_:null,schemas:o.schemas||null,tView:null,id:""};Zl(c);const d=o.dependencies;return c.directiveDefs=Sa(d,!1),c.pipeDefs=Sa(d,!0),c.id=function Pd(o){let a=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function dr(o){return un(o)||Oi(o)}function wr(o){return null!==o}function Md(o){return $n(()=>({type:o.type,bootstrap:o.bootstrap||Yt,declarations:o.declarations||Yt,imports:o.imports||Yt,exports:o.exports||Yt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function ql(o,a){if(null==o)return ti;const c={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,a&&(a[h]=p)}return c}function Ii(o){return $n(()=>{const a=iu(o);return Zl(a),a})}function nl(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function un(o){return o[ts]||null}function Oi(o){return o[Ee]||null}function Ti(o){return o[re]||null}function Es(o){const a=un(o)||Oi(o)||Ti(o);return null!==a&&a.standalone}function Si(o,a){const c=o[$e]||null;if(!c&&!0===a)throw new Error(`Type ${ke(o)} does not have '\u0275mod' property.`);return c}function iu(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||ti,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Yt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ql(o.inputs,a),outputs:ql(o.outputs)}}function Zl(o){o.features?.forEach(a=>a(o))}function Sa(o,a){if(!o)return null;const c=a?Ti:dr;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(wr)}const Fn=0,ut=1,Vt=2,Pn=3,_i=4,Mo=5,Ri=6,Yi=7,Jn=8,Cs=9,rs=10,Lt=11,Kl=12,ou=13,Wn=14,qn=15,Ys=16,Qi=17,Li=18,Er=19,Is=20,xa=21,Po=22,io=23,os=24,qt=25,au=1,lu=2,ro=7,as=9,Fi=11;function xi(o){return Array.isArray(o)&&"object"==typeof o[au]}function bn(o){return Array.isArray(o)&&!0===o[au]}function Da(o){return 0!=(4&o.flags)}function Ts(o){return o.componentOffset>-1}function Aa(o){return 1==(1&o.flags)}function fr(o){return!!o.template}function il(o){return 0!=(512&o[Vt])}function Ss(o,a){return o.hasOwnProperty(ht)?o[ht]:null}let pu=mn.WeakRef??class tc{constructor(a){this.ref=a}deref(){return this.ref}},Ur=0,Cr=null,rl=!1;function Kn(o){const a=Cr;return Cr=o,a}class ol{constructor(){this.id=Ur++,this.ref=function kf(o){return new pu(o)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[a,c]of this.producers){const d=c.producerNode.deref();if(null!=d&&c.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(a),d?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const a=rl;rl=!0;try{for(const[c,d]of this.consumers){const h=d.consumerNode.deref();null!=h&&h.trackingVersion===d.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),h?.producers.delete(this.id))}}finally{rl=a}}producerAccessed(){if(rl)throw new Error("");if(null===Cr)return;let a=Cr.producers.get(this.id);void 0===a?(a={consumerNode:Cr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Cr.trackingVersion},Cr.producers.set(this.id,a),this.consumers.set(Cr.id,a)):(a.seenValueVersion=this.valueVersion,a.atTrackingVersion=Cr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Cr?.consumerAllowSignalWrites}producerPollStatus(a){return this.valueVersion!==a||(this.onProducerUpdateValueVersion(),this.valueVersion!==a)}}let ci=null;function Hd(o){const a=Kn(null);try{return o()}finally{Kn(a)}}const Ma=()=>{};class vu extends ol{constructor(a,c,d){super(),this.watch=a,this.schedule=c,this.dirty=!1,this.cleanupFn=Ma,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const a=Kn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ma,this.watch(this.registerOnCleanup)}finally{Kn(a)}}cleanup(){this.cleanupFn()}}class _u{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function jd(){return bu}function bu(o){return o.type.prototype.ngOnChanges&&(o.setInput=Mf),$d}function $d(){const o=wu(this),a=o?.current;if(a){const c=o.previous;if(c===ti)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Mf(o,a,c,d){const h=this.declaredInputs[c],p=wu(o)||function zd(o,a){return o[ac]=a}(o,{previous:ti,current:null}),v=p.current||(p.current={}),w=p.previous,T=w[h];v[h]=new _u(T&&T.currentValue,a,w===ti),o[d]=a}jd.ngInherit=!0;const ac="__ngSimpleChanges__";function wu(o){return o[ac]||null}const Ir=function(o,a,c){},lc="svg";function yn(o){for(;Array.isArray(o);)o=o[Fn];return o}function Pa(o,a){return yn(a[o])}function Tr(o,a){return yn(a[o.index])}function Cu(o,a){return o.data[a]}function Js(o,a){return o[a]}function Ji(o,a){const c=a[o];return xi(c)?c:c[Fn]}function Hr(o,a){return null==a?null:o[a]}function jr(o){o[Qi]=0}function uc(o){1024&o[Vt]||(o[Vt]|=1024,Su(o,1))}function dc(o){1024&o[Vt]&&(o[Vt]&=-1025,Su(o,-1))}function Su(o,a){let c=o[Pn];if(null===c)return;c[Mo]+=a;let d=c;for(c=c[Pn];null!==c&&(1===a&&1===d[Mo]||-1===a&&0===d[Mo]);)c[Mo]+=a,d=c,c=c[Pn]}const Pt={lFrame:Ou(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wd(){return Pt.bindingsEnabled}function ea(){return null!==Pt.skipHydrationRootTNode}function Le(){return Pt.lFrame.lView}function dn(){return Pt.lFrame.tView}function Lf(o){return Pt.lFrame.contextLView=o,o[Jn]}function ta(o){return Pt.lFrame.contextLView=null,o}function Xi(){let o=Xn();for(;null!==o&&64===o.type;)o=o.parent;return o}function Xn(){return Pt.lFrame.currentTNode}function $r(o,a){const c=Pt.lFrame;c.currentTNode=o,c.isParent=a}function ku(){return Pt.lFrame.isParent}function al(){Pt.lFrame.isParent=!1}function Bi(){const o=Pt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function No(){return Pt.lFrame.bindingIndex++}function zr(o){const a=Pt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Mu(o,a){const c=Pt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Oo(a)}function Oo(o){Pt.lFrame.currentDirectiveIndex=o}function Pu(){return Pt.lFrame.currentQueryIndex}function ll(o){Pt.lFrame.currentQueryIndex=o}function Yd(o){const a=o[ut];return 2===a.type?a.declTNode:1===a.type?o[Ri]:null}function Ag(o,a,c){if(c&At.SkipSelf){let h=a,p=o;for(;!(h=h.parent,null!==h||c&At.Host||(h=Yd(p),null===h||(p=p[Wn],10&h.type))););if(null===h)return!1;a=h,o=p}const d=Pt.lFrame=Ff();return d.currentTNode=a,d.lView=o,!0}function Nu(o){const a=Ff(),c=o[ut];Pt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Ff(){const o=Pt.lFrame,a=null===o?null:o.child;return null===a?Ou(o):a}function Ou(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Bf(){const o=Pt.lFrame;return Pt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Vf=Bf;function yc(){const o=Bf();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function er(){return Pt.lFrame.selectedIndex}function Ro(o){Pt.lFrame.selectedIndex=o}function Rn(){const o=Pt.lFrame;return Cu(o.tView,o.selectedIndex)}function Lu(){Pt.lFrame.currentNamespace=lc}let eh=!0;function cl(){return eh}function ra(o){eh=o}function Vi(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:P}=p;v&&(o.contentHooks??=[]).push(-c,v),w&&((o.contentHooks??=[]).push(c,w),(o.contentCheckHooks??=[]).push(c,w)),T&&(o.viewHooks??=[]).push(-c,T),A&&((o.viewHooks??=[]).push(c,A),(o.viewCheckHooks??=[]).push(c,A)),null!=P&&(o.destroyHooks??=[]).push(c,P)}}function Lo(o,a,c){Et(o,a,3,c)}function Oa(o,a,c,d){(3&o[Vt])===c&&Et(o,a,c,d)}function Bn(o,a){let c=o[Vt];(3&c)===a&&(c&=8191,c+=1,o[Vt]=c)}function Et(o,a,c,d){const p=d??-1,v=a.length-1;let w=0;for(let T=void 0!==d?65535&o[Qi]:0;T<v;T++)if("number"==typeof a[T+1]){if(w=a[T],null!=d&&w>=d)break}else a[T]<0&&(o[Qi]+=65536),(w<p||-1==p)&&(ul(o,c,a,T),o[Qi]=(4294901760&o[Qi])+T+2),T++}function ui(o,a){Ir(4,o,a);const c=Kn(null);try{a.call(o)}finally{Kn(c),Ir(5,o,a)}}function ul(o,a,c,d){const h=c[d]<0,p=c[d+1],w=o[h?-c[d]:c[d]];h?o[Vt]>>13<o[Qi]>>16&&(3&o[Vt])===a&&(o[Vt]+=8192,ui(w,p)):ui(w,p)}const Fo=-1;class Ds{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function lo(o){return o!==Fo}function oa(o){return 32767&o}function xr(o,a){let c=function Sr(o){return o>>16}(o),d=a;for(;c>0;)d=d[Wn],c--;return d}let cs=!0;function Vu(o){const a=cs;return cs=o,a}const ih=255,Ra=5;let sa=0;const Vo={};function hl(o,a){const c=As(o,a);if(-1!==c)return c;const d=a[ut];d.firstCreatePass&&(o.injectorIndex=a.length,Hu(d.data,o),Hu(a,null),Hu(d.blueprint,null));const h=ks(o,a),p=o.injectorIndex;if(lo(h)){const v=oa(h),w=xr(h,a),T=w[ut].data;for(let A=0;A<8;A++)a[p+A]=w[v+A]|T[v+A]}return a[p+8]=h,p}function Hu(o,a){o.push(0,0,0,0,0,0,0,0,a)}function As(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ks(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=fo(h),null===d)return Fo;if(c++,h=h[Wn],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Fo}function co(o,a,c){!function us(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(kt)&&(d=c[kt]),null==d&&(d=c[kt]=sa++);const h=d&ih;a.data[o+(h>>Ra)]|=1<<h}(o,a,c)}function Dr(o,a,c){if(c&At.Optional||void 0!==o)return o;Lr()}function fl(o,a,c,d){if(c&At.Optional&&void 0===d&&(d=null),!(c&(At.Self|At.Host))){const h=o[Cs],p=hn(void 0);try{return h?h.get(a,d,c&At.Optional):Do(a,d,c&At.Optional)}finally{hn(p)}}return Dr(d,0,c)}function ju(o,a,c,d=At.Default,h){if(null!==o){if(2048&a[Vt]&&!(d&At.Self)){const v=function Di(o,a,c,d,h){let p=o,v=a;for(;null!==p&&null!==v&&2048&v[Vt]&&!(512&v[Vt]);){const w=Ar(p,v,c,d|At.Self,Vo);if(w!==Vo)return w;let T=p.parent;if(!T){const A=v[Is];if(A){const P=A.get(c,Vo,d);if(P!==Vo)return P}T=fo(v),v=v[Wn]}p=T}return h}(o,a,c,d,Vo);if(v!==Vo)return v}const p=Ar(o,a,c,d,Vo);if(p!==Vo)return p}return fl(a,c,d,h)}function Ar(o,a,c,d,h){const p=function Gr(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(kt)?o[kt]:void 0;return"number"==typeof a?a>=0?a&ih:rh:a}(c);if("function"==typeof p){if(!Ag(a,o,d))return d&At.Host?Dr(h,0,d):fl(a,c,d,h);try{const v=p(d);if(null!=v||d&At.Optional)return v;Lr()}finally{Vf()}}else if("number"==typeof p){let v=null,w=As(o,a),T=Fo,A=d&At.Host?a[qn][Ri]:null;for((-1===w||d&At.SkipSelf)&&(T=-1===w?ks(o,a):a[w+8],T!==Fo&&pl(d,!1)?(v=a[ut],w=oa(T),a=xr(T,a)):w=-1);-1!==w;){const P=a[ut];if(bi(p,w,P.data)){const V=di(w,a,c,v,d,A);if(V!==Vo)return V}T=a[w+8],T!==Fo&&pl(d,a[ut].data[w+8]===A)&&bi(p,w,a)?(v=P,w=oa(T),a=xr(T,a)):w=-1}}return h}function di(o,a,c,d,h,p){const v=a[ut],w=v.data[o+8],P=uo(w,v,c,null==d?Ts(w)&&cs:d!=v&&0!=(3&w.type),h&At.Host&&p===w);return null!==P?Ms(a,v,P,w):Vo}function uo(o,a,c,d,h){const p=o.providerIndexes,v=a.data,w=1048575&p,T=o.directiveStart,P=p>>20,Z=h?w+P:o.directiveEnd;for(let ee=d?w:w+P;ee<Z;ee++){const Me=v[ee];if(ee<T&&c===Me||ee>=T&&Me.type===c)return ee}if(h){const ee=v[T];if(ee&&fr(ee)&&ee.type===c)return T}return null}function Ms(o,a,c,d){let h=o[c];const p=a.data;if(function Uf(o){return o instanceof Ds}(h)){const v=h;v.resolving&&function Yn(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new oe(-200,`Circular dependency in DI detected for ${o}${c}`)}(function et(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ve(o)}(p[c]));const w=Vu(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?hn(v.injectImpl):null;Ag(o,d,At.Default);try{h=o[c]=v.factory(void 0,p,o,d),a.firstCreatePass&&c>=d.directiveStart&&function th(o,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const v=bu(a);(c.preOrderHooks??=[]).push(o,v),(c.preOrderCheckHooks??=[]).push(o,v)}h&&(c.preOrderHooks??=[]).push(0-o,h),p&&((c.preOrderHooks??=[]).push(o,p),(c.preOrderCheckHooks??=[]).push(o,p))}(c,p[c],a)}finally{null!==T&&hn(T),Vu(w),v.resolving=!1,Vf()}}return h}function bi(o,a,c){return!!(c[a+(o>>Ra)]&1<<o)}function pl(o,a){return!(o&At.Self||o&At.Host&&a)}class aa{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return ju(this._tNode,this._lView,a,le(d),c)}}function rh(){return new aa(Xi(),Le())}function ds(o){return $n(()=>{const a=o.prototype.constructor,c=a[ht]||ho(a),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const p=h[ht]||ho(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ho(o){return Ce(o)?()=>{const a=ho(xe(o));return a&&a()}:Ss(o)}function fo(o){const a=o[ut],c=a.type;return 2===c?a.declTNode:1===c?o[Ri]:null}function gl(o){return function jf(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Gn(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===a)return c[h+1];h+=2}}}return null}(Xi(),o)}const Uo="__parameters__";function Ot(o,a,c){return $n(()=>{const d=function Ho(o){return function(...c){if(o){const d=o(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const v=new h(...p);return w.annotation=v,w;function w(T,A,P){const V=T.hasOwnProperty(Uo)?T[Uo]:Object.defineProperty(T,Uo,{value:[]})[Uo];for(;V.length<=P;)V.push(null);return(V[P]=V[P]||[]).push(v),T}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function ca(o,a){o.forEach(c=>Array.isArray(c)?ca(c,a):a(c))}function _l(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function fs(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function sn(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function G(o,a,c){let d=ye(o,a);return d>=0?o[1|d]=c:(d=~d,function k(o,a,c,d){let h=o.length;if(h==a)o.push(c,d);else if(1===h)o.push(d,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function J(o,a){const c=ye(o,a);if(c>=0)return o[1|c]}function ye(o,a){return function Ke(o,a,c){let d=0,h=o.length>>c;for(;h!==d;){const p=d+(h-d>>1),v=o[p<<c];if(a===v)return p<<c;v>a?h=p:d=p+1}return~(h<<c)}(o,a,1)}const kr=It(Ot("Optional"),8),Wf=It(Ot("SkipSelf"),4);function Lg(o){return 128==(128&o.flags)}var Bg=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Bg||{});const SS=/^>|^->|<!--|-->|--!>|<!-$/g,r1=/(<|>)/,NN="\u200b$1\u200b";const Wu=new Map;let s1=0;const Vg="__ngContext__";function Kr(o,a){xi(a)?(o[Vg]=a[Er],function pv(o){Wu.set(o[Er],o)}(a)):o[Vg]=a}let qu;function vv(o,a){return qu(o,a)}function Zu(o){const a=o[Pn];return bn(a)?a[Pn]:a}function _v(o){return wv(o[Kl])}function bv(o){return wv(o[_i])}function wv(o){for(;null!==o&&!bn(o);)o=o[_i];return o}function dh(o,a,c,d,h){if(null!=d){let p,v=!1;bn(d)?p=d:xi(d)&&(v=!0,d=d[Fn]);const w=yn(d);0===o&&null!==c?null==h?Qu(a,c,w):Yu(a,c,w,h||null,!0):1===o&&null!==c?Yu(a,c,w,h||null,!0):2===o?function Ju(o,a,c){const d=Ic(o,a);d&&function LS(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}(a,w,v):3===o&&a.destroyNode(w),null!=p&&function BS(o,a,c,d,h){const p=c[ro];p!==yn(c)&&dh(a,o,d,p,h);for(let w=Fi;w<c.length;w++){const T=c[w];ep(T[ut],T,o,a,d,p)}}(a,o,p,c,h)}}function h1(o,a){return o.createComment(function o1(o){return o.replace(SS,a=>a.replace(r1,NN))}(a))}function Cv(o,a,c){return o.createElement(a,c)}function f1(o,a){const c=o[as],d=c.indexOf(a);dc(a),c.splice(d,1)}function Ku(o,a){if(o.length<=Fi)return;const c=Fi+a,d=o[c];if(d){const h=d[Ys];null!==h&&h!==o&&f1(h,d),a>0&&(o[c-1][_i]=d[_i]);const p=fs(o,Fi+a);!function MS(o,a){ep(o,a,a[Lt],2,null,null),a[Fn]=null,a[Ri]=null}(d[ut],d);const v=p[Li];null!==v&&v.detachView(p[ut]),d[Pn]=null,d[_i]=null,d[Vt]&=-129}return d}function OS(o,a){if(!(256&a[Vt])){const c=a[Lt];a[io]?.destroy(),a[os]?.destroy(),c.destroyNode&&ep(o,a,c,3,null,null),function NS(o){let a=o[Kl];if(!a)return Tv(o[ut],o);for(;a;){let c=null;if(xi(a))c=a[Kl];else{const d=a[Fi];d&&(c=d)}if(!c){for(;a&&!a[_i]&&a!==o;)xi(a)&&Tv(a[ut],a),a=a[Pn];null===a&&(a=o),xi(a)&&Tv(a[ut],a),c=a&&a[_i]}a=c}}(a)}}function Tv(o,a){if(!(256&a[Vt])){a[Vt]&=-129,a[Vt]|=256,function p1(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Ds)){const p=c[d+1];if(Array.isArray(p))for(let v=0;v<p.length;v+=2){const w=h[p[v]],T=p[v+1];Ir(4,w,T);try{T.call(w)}finally{Ir(5,w,T)}}else{Ir(4,h,p);try{p.call(h)}finally{Ir(5,h,p)}}}}}(o,a),function RS(o,a){const c=o.cleanup,d=a[Yi];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const v=c[p+3];v>=0?d[v]():d[-v].unsubscribe(),p+=2}else c[p].call(d[c[p+1]]);null!==d&&(a[Yi]=null);const h=a[xa];if(null!==h){a[xa]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(o,a),1===a[ut].type&&a[Lt].destroy();const c=a[Ys];if(null!==c&&bn(a[Pn])){c!==a[Pn]&&f1(c,a);const d=a[Li];null!==d&&d.detachView(o)}!function uh(o){Wu.delete(o[Er])}(a)}}function hh(o,a,c){return function g1(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[Fn];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=o.data[d.directiveStart+h];if(p===zn.None||p===zn.Emulated)return null}return Tr(d,c)}}(o,a.parent,c)}function Yu(o,a,c,d,h){o.insertBefore(a,c,d,h)}function Qu(o,a,c){o.appendChild(a,c)}function fh(o,a,c,d,h){null!==d?Yu(o,a,c,d,h):Qu(o,a,c)}function Ic(o,a){return o.parentNode(a)}function m1(o,a,c){return v1(o,a,c)}let Sv,tp,Av,Wg,v1=function y1(o,a,c){return 40&o.type?Tr(o,c):null};function $g(o,a,c,d){const h=hh(o,d,a),p=a[Lt],w=m1(d.parent||a[Ri],d,a);if(null!=h)if(Array.isArray(c))for(let T=0;T<c.length;T++)fh(p,h,c[T],w,!1);else fh(p,h,c,w,!1);void 0!==Sv&&Sv(p,d,a,c,h)}function zg(o,a){if(null!==a){const c=a.type;if(3&c)return Tr(a,o);if(4&c)return Gg(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return zg(o,d);{const h=o[a.index];return bn(h)?Gg(-1,h):yn(h)}}if(32&c)return vv(a,o)()||yn(o[a.index]);{const d=b1(o,a);return null!==d?Array.isArray(d)?d[0]:zg(Zu(o[qn]),d):zg(o,a.next)}}return null}function b1(o,a){return null!==a?o[qn][Ri].projection[a.projection]:null}function Gg(o,a){const c=Fi+o+1;if(c<a.length){const d=a[c],h=d[ut].firstChild;if(null!==h)return zg(d,h)}return a[ro]}function xv(o,a,c,d,h,p,v){for(;null!=c;){const w=d[c.index],T=c.type;if(v&&0===a&&(w&&Kr(yn(w),d),c.flags|=2),32!=(32&c.flags))if(8&T)xv(o,a,c.child,d,h,p,!1),dh(a,o,h,w,p);else if(32&T){const A=vv(c,d);let P;for(;P=A();)dh(a,o,h,P,p);dh(a,o,h,w,p)}else 16&T?w1(o,a,d,c,h,p):dh(a,o,h,w,p);c=v?c.projectionNext:c.next}}function ep(o,a,c,d,h,p){xv(c,d,o.firstChild,a,h,p,!1)}function w1(o,a,c,d,h,p){const v=c[qn],T=v[Ri].projection[d.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)dh(a,o,h,T[A],p);else{let A=T;const P=v[Pn];Lg(d)&&(A.flags|=128),xv(o,a,A,P,h,p,!0)}}function E1(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function C1(o,a,c){const{mergedAttrs:d,classes:h,styles:p}=c;null!==d&&si(o,a,d),null!==h&&E1(o,a,h),null!==p&&function US(o,a,c){o.setAttribute(a,"style",c)}(o,a,p)}function Tl(o){return function Dv(){if(void 0===tp&&(tp=null,mn.trustedTypes))try{tp=mn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return tp}()?.createHTML(o)||o}function $S(o){Av=o}function ed(){if(void 0!==Av)return Av;if(typeof document<"u")return document;throw new oe(210,!1)}function np(){if(void 0===Wg&&(Wg=null,mn.trustedTypes))try{Wg=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Wg}function kv(o){return np()?.createHTML(o)||o}function S1(o){return np()?.createScriptURL(o)||o}class td{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${je})`}}class zS extends td{getTypeName(){return"HTML"}}class qg extends td{getTypeName(){return"Style"}}class GS extends td{getTypeName(){return"Script"}}class WS extends td{getTypeName(){return"URL"}}class qS extends td{getTypeName(){return"ResourceURL"}}function Sl(o){return o instanceof td?o.changingThisBreaksApplicationSecurity:o}function gh(o,a){const c=function ZS(o){return o instanceof td&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${je})`)}return c===a}function x1(o){return new zS(o)}function LN(o){return new qg(o)}function D1(o){return new GS(o)}function A1(o){return new WS(o)}function KS(o){return new qS(o)}class YS{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Tl(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class QS{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Tl(a),c}}const XS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ip(o){return(o=String(o)).match(XS)?o:"unsafe:"+o}function ha(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Va(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const Zg=ha("area,br,col,hr,img,wbr"),M1=ha("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mv=ha("rp,rt"),Nv=Va(Zg,Va(M1,ha("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Va(Mv,ha("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Va(Mv,M1)),Ov=ha("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rp=Va(Ov,ha("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ha("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nx=ha("script,style,template");class ix{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!Nv.hasOwnProperty(c))return this.sanitizedSomething=!0,!nx.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),v=p.name,w=v.toLowerCase();if(!rp.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let T=p.value;Ov[w]&&(T=ip(T)),this.buf.push(" ",v,'="',N1(T),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();Nv.hasOwnProperty(c)&&!Zg.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(N1(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const op=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P1=/([^\#-~ |!])/g;function N1(o){return o.replace(/&/g,"&amp;").replace(op,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(P1,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kg;function O1(o,a){let c=null;try{Kg=Kg||function k1(o){const a=new QS(o);return function JS(){try{return!!(new window.DOMParser).parseFromString(Tl(""),"text/html")}catch{return!1}}()?new YS(a):a}(o);let d=a?String(a):"";c=Kg.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=c.innerHTML,c=Kg.getInertBodyElement(d)}while(d!==p);return Tl((new ix).sanitizeChildren(Rv(c)||c))}finally{if(c){const d=Rv(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Rv(o){return"content"in o&&function Yr(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var nd=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(nd||{});function Yg(o){const a=gs();return a?kv(a.sanitize(nd.HTML,o)||""):gh(o,"HTML")?kv(Sl(o)):O1(ed(),Ve(o))}function Lv(o){const a=gs();return a?a.sanitize(nd.URL,o)||"":gh(o,"URL")?Sl(o):ip(Ve(o))}function Fv(o){const a=gs();if(a)return S1(a.sanitize(nd.RESOURCE_URL,o)||"");if(gh(o,"ResourceURL"))return S1(Sl(o));throw new oe(904,!1)}function Vv(o,a,c){return function Bv(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?Fv:Lv}(a,c)(o)}function gs(){const o=Le();return o&&o[rs].sanitizer}class kn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Bt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qg=new kn("ENVIRONMENT_INITIALIZER"),ax=new kn("INJECTOR",-1),lx=new kn("INJECTOR_DEF_TYPES");class Uv{get(a,c=es){if(c===es){const d=new Error(`NullInjectorError: No provider for ${ke(a)}!`);throw d.name="NullInjectorError",d}return c}}function Jg(o){return{\u0275providers:o}}function Hv(...o){return{\u0275providers:R1(0,o),\u0275fromNgModule:!0}}function R1(o,...a){const c=[],d=new Set;let h;return ca(a,p=>{const v=p;F1(v,c,[],d)&&(h||=[],h.push(v))}),void 0!==h&&L1(h,c),c}function L1(o,a){for(let c=0;c<o.length;c++){const{providers:h}=o[c];jv(h,p=>{a.push(p)})}}function F1(o,a,c,d){if(!(o=xe(o)))return!1;let h=null,p=ws(o);const v=!p&&un(o);if(p||v){if(v&&!v.standalone)return!1;h=o}else{const T=o.ngModule;if(p=ws(T),!p)return!1;h=T}const w=d.has(h);if(v){if(w)return!1;if(d.add(h),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of T)F1(A,a,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let A;d.add(h);try{ca(p.imports,P=>{F1(P,a,c,d)&&(A||=[],A.push(P))})}finally{}void 0!==A&&L1(A,a)}if(!w){const A=Ss(h)||(()=>new h);a.push({provide:h,useFactory:A,deps:Yt},{provide:lx,useValue:h,multi:!0},{provide:Qg,useValue:()=>j(h),multi:!0})}const T=p.providers;null==T||w||jv(T,P=>{a.push(P)})}}return h!==o&&void 0!==o.providers}function jv(o,a){for(let c of o)_e(c)&&(c=c.\u0275providers),Array.isArray(c)?jv(c,a):a(c)}const HN=ue({provide:String,useValue:ue});function B1(o){return null!==o&&"object"==typeof o&&HN in o}function mh(o){return"function"==typeof o}const $v=new kn("Set Injector scope."),Xg={},H1={};let zv;function em(){return void 0===zv&&(zv=new Uv),zv}class id{}class Gv extends id{get destroyed(){return this._destroyed}constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$1(a,v=>this.processProvider(v)),this.records.set(ax,sp(void 0,this)),h.has("environment")&&this.records.set(id,sp(void 0,this));const p=this.records.get($v);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(lx.multi,Yt,At.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=vi(this),d=hn(void 0);try{return a()}finally{vi(c),hn(d)}}get(a,c=es,d=At.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(jt))return a[jt](this);d=le(d);const h=vi(this),p=hn(void 0);try{if(!(d&At.SkipSelf)){let w=this.records.get(a);if(void 0===w){const T=function zN(o){return"function"==typeof o||"object"==typeof o&&o instanceof kn}(a)&&Xo(a);w=T&&this.injectableDefInScope(T)?sp(Wv(a),Xg):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(d&At.Self?em():this.parent).get(a,c=d&At.Optional&&c===es?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[cr]=v[cr]||[]).unshift(ke(a)),h)throw v;return function Ci(o,a,c,d){const h=o[cr];throw a[oi]&&h.unshift(a[oi]),o.message=function jn(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=ke(a);if(Array.isArray(a))h=a.map(ke).join(" -> ");else if("object"==typeof a){let p=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];p.push(v+":"+("string"==typeof w?JSON.stringify(w):ke(w)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${o.replace(yi,"\n  ")}`}("\n"+o.message,h,c,d),o.ngTokenPath=h,o[cr]=null,o}(v,a,"R3InjectorError",this.source)}throw v}finally{hn(p),vi(h)}}resolveInjectorInitializers(){const a=vi(this),c=hn(void 0);try{const d=this.get(Qg.multi,Yt,At.Self);for(const h of d)h()}finally{vi(a),hn(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(ke(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(a){let c=mh(a=xe(a))?a:xe(a&&a.provide);const d=function dx(o){return B1(o)?sp(void 0,o.useValue):sp(hx(o),Xg)}(a);if(mh(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=sp(void 0,Xg,!0),h.factory=()=>ct(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Xg&&(c.value=H1,c.value=c.factory()),"object"==typeof c.value&&c.value&&function $N(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=xe(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Wv(o){const a=Xo(o),c=null!==a?a.factory:Ss(o);if(null!==c)return c;if(o instanceof kn)throw new oe(204,!1);if(o instanceof Function)return function j1(o){const a=o.length;if(a>0)throw sn(a,"?"),new oe(204,!1);const c=function bs(o){return o&&(o[Ln]||o[Ht])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new oe(204,!1)}function hx(o,a,c){let d;if(mh(o)){const h=xe(o);return Ss(h)||Wv(h)}if(B1(o))d=()=>xe(o.useValue);else if(function V1(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...ct(o.deps||[]));else if(function ux(o){return!(!o||!o.useExisting)}(o))d=()=>j(xe(o.useExisting));else{const h=xe(o&&(o.useClass||o.provide));if(!function jN(o){return!!o.deps}(o))return Ss(h)||Wv(h);d=()=>new h(...ct(o.deps))}return d}function sp(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function $1(o,a){for(const c of o)Array.isArray(c)?$1(c,a):c&&_e(c)?$1(c.\u0275providers,a):a(c)}const Te=new kn("AppId",{providedIn:"root",factory:()=>Os}),Os="ng",yh=new kn("Platform Initializer"),qv=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),x=new kn("AnimationModuleType"),WN=new kn("CSP nonce",{providedIn:"root",factory:()=>ed().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let W1=(o,a)=>null;function Qv(o,a){return W1(o,a)}class gx{}class Y1{}class mx{resolveComponentFactory(a){throw function KN(o){const a=Error(`No component factory found for ${ke(o)}.`);return a.ngComponent=o,a}(a)}}let n_=(()=>{class o{}return o.NULL=new mx,o})();function YN(){return lp(Xi(),Le())}function lp(o,a){return new Ls(Tr(o,a))}let Ls=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=YN,o})();function i_(o){return o instanceof Ls?o.nativeElement:o}class Ai{}let od=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function r_(){const o=Le(),c=Ji(Xi().index,o);return(xi(c)?c:o)[Lt]}(),o})(),J1=(()=>{class o{}return o.\u0275prov=Bt({token:o,providedIn:"root",factory:()=>null}),o})();class X1{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const hi=new X1("16.1.7"),o_={};function xc(o){for(;o;){o[Vt]|=64;const a=Zu(o);if(il(o)&&!a)return o;o=a}return null}function s_(o){return o.ngOriginalError}class bh{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&s_(a);for(;c&&s_(c);)c=s_(c);return c||null}}const tw=new kn("",{providedIn:"root",factory:()=>!1});function sm(o){return o.ownerDocument}function fa(o){return o instanceof Function?o():o}class u_ extends ol{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(a){this._lView=a}onConsumerDependencyMayHaveChanged(){xc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(a,c,d){const h=Kn(this);this.trackingVersion++;try{a(c,d)}finally{Kn(h)}}destroy(){this.trackingVersion++}}let am=null;function rw(){return am??=new u_,am}function ow(o,a){return o[a]??rw()}function sw(o,a){const c=rw();c.hasReadASignal&&(o[a]=am,c.lView=o,am=new u_)}const $t={};function lm(o){d_(dn(),Le(),er()+o,!1)}function d_(o,a,c,d){if(!d)if(3==(3&a[Vt])){const p=o.preOrderCheckHooks;null!==p&&Lo(a,p,c)}else{const p=o.preOrderHooks;null!==p&&Oa(a,p,0,c)}Ro(c)}function uw(o,a=null,c=null,d){const h=dw(o,a,c,d);return h.resolveInjectorInitializers(),h}function dw(o,a=null,c=null,d,h=new Set){const p=[c||Yt,Hv(o)];return d=d||("object"==typeof o?void 0:ke(o)),new Gv(p,a||em(),d||null,h)}let Dc=(()=>{class o{static create(c,d){if(Array.isArray(c))return uw({name:""},d,c,"");{const h=c.name??"";return uw({name:h},c.parent,c.providers,h)}}}return o.THROW_IF_NOT_FOUND=es,o.NULL=new Uv,o.\u0275prov=Bt({token:o,providedIn:"any",factory:()=>j(ax)}),o.__NG_ELEMENT_ID__=-1,o})();function kl(o,a=At.Default){const c=Le();return null===c?j(o,a):ju(Xi(),c,xe(o),a)}function dm(){throw new Error("invalid")}function Ch(o,a,c,d,h,p,v,w,T,A,P){const V=a.blueprint.slice();return V[Fn]=h,V[Vt]=140|d,(null!==A||o&&2048&o[Vt])&&(V[Vt]|=2048),jr(V),V[Pn]=V[Wn]=o,V[Jn]=c,V[rs]=v||o&&o[rs],V[Lt]=w||o&&o[Lt],V[Cs]=T||o&&o[Cs]||null,V[Ri]=p,V[Er]=function fv(){return s1++}(),V[Po]=P,V[Is]=A,V[qn]=2==a.type?o[qn]:V,V}function Ac(o,a,c,d,h){let p=o.data[a];if(null===p)p=function dp(o,a,c,d,h){const p=Xn(),v=ku(),T=o.data[a]=function pm(o,a,c,d,h,p){let v=a?a.injectorIndex:-1,w=0;return ea()&&(w|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?p:p&&p.parent,c,a,d,h);return null===o.firstChild&&(o.firstChild=T),null!==p&&(v?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T,T.prev=p)),T}(o,a,c,d,h),function Dg(){return Pt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const v=function na(){const o=Pt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();p.injectorIndex=null===v?-1:v.injectorIndex}return $r(p,!0),p}function Ih(o,a,c,d){if(0===c)return-1;const h=a.length;for(let p=0;p<c;p++)a.push(d),o.blueprint.push(d),o.data.push(null);return h}function fw(o,a,c,d,h){const p=ow(a,io),v=er(),w=2&d;try{if(Ro(-1),w&&a.length>qt&&d_(o,a,qt,!1),Ir(w?2:0,h),w)p.runInContext(c,d,h);else{const A=Kn(null);try{c(d,h)}finally{Kn(A)}}}finally{w&&null===a[io]&&sw(a,io),Ro(v),Ir(w?3:1,h)}}function hm(o,a,c){if(Da(a)){const d=Kn(null);try{const p=a.directiveEnd;for(let v=a.directiveStart;v<p;v++){const w=o.data[v];w.contentQueries&&w.contentQueries(1,c[v],v)}}finally{Kn(d)}}}function kc(o,a,c){Wd()&&(function kx(o,a,c,d){const h=c.directiveStart,p=c.directiveEnd;Ts(c)&&function bw(o,a,c){const d=Tr(a,o),h=pw(c);let v=16;c.signals?v=4096:c.onPush&&(v=64);const w=ym(o,Ch(o,h,null,v,d,a,null,o[rs].rendererFactory.createRenderer(d,c),null,null,null));o[a.index]=w}(a,c,o.data[h+c.componentOffset]),o.firstCreatePass||hl(c,a),Kr(d,a);const v=c.initialInputs;for(let w=h;w<p;w++){const T=o.data[w],A=Ms(a,o,w,c);Kr(A,a),null!==v&&rO(0,w-h,A,T,0,v),fr(T)&&(Ji(c.index,a)[Jn]=Ms(a,o,w,c))}}(o,a,c,Tr(c,a)),64==(64&c.flags)&&Mx(o,a,c))}function fm(o,a,c=Tr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const v=d[p+1],w=-1===v?c(a,o):o[v];o[h++]=w}}}function pw(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=g_(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function g_(o,a,c,d,h,p,v,w,T,A,P){const V=qt+d,Z=V+h,ee=function wx(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:$t);return c}(V,Z),Me="function"==typeof A?A():A;return ee[ut]={type:o,blueprint:ee,template:c,queries:null,viewQuery:w,declTNode:a,data:ee.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:Me,incompleteFirstPass:!1,ssrId:P}}let gw=o=>null;function m_(o,a,c,d){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const p=o[h];null===d?y_(c,a,h,p):d.hasOwnProperty(h)&&y_(c,a,d[h],p)}return c}function y_(o,a,c,d){o.hasOwnProperty(c)?o[c].push(a,d):o[c]=[a,d]}function gm(o,a,c,d){if(Wd()){const h=null===d?null:{"":-1},p=function b_(o,a){const c=o.directiveRegistry;let d=null,h=null;if(c)for(let p=0;p<c.length;p++){const v=c[p];if(Ef(a,v.selectors,!1))if(d||(d=[]),fr(v))if(null!==v.findHostDirectiveDefs){const w=[];h=h||new Map,v.findHostDirectiveDefs(v,w,h),d.unshift(...w,v),vw(o,a,w.length)}else d.unshift(v),vw(o,a,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(o,c);let v,w;null===p?v=w=null:[v,w]=p,null!==v&&__(o,a,c,v,h,w),h&&function iO(o,a,c){if(a){const d=o.localNames=[];for(let h=0;h<a.length;h+=2){const p=c[a[h+1]];if(null==p)throw new oe(-301,!1);d.push(a[h],p)}}}(c,d,h)}c.mergedAttrs=ko(c.mergedAttrs,c.attrs)}function __(o,a,c,d,h,p){for(let A=0;A<d.length;A++)co(hl(c,a),o,d[A].type);!function _w(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,d.length);for(let A=0;A<d.length;A++){const P=d[A];P.providersResolver&&P.providersResolver(P)}let v=!1,w=!1,T=Ih(o,a,d.length,null);for(let A=0;A<d.length;A++){const P=d[A];c.mergedAttrs=ko(c.mergedAttrs,P.hostAttrs),Nx(o,c,a,T,P),Px(T,P,h),null!==P.contentQueries&&(c.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(c.flags|=64);const V=P.type.prototype;!v&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),v=!0),!w&&(V.ngOnChanges||V.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),w=!0),T++}!function v_(o,a,c){const h=a.directiveEnd,p=o.data,v=a.attrs,w=[];let T=null,A=null;for(let P=a.directiveStart;P<h;P++){const V=p[P],Z=c?c.get(V):null,Me=Z?Z.outputs:null;T=m_(V.inputs,P,T,Z?Z.inputs:null),A=m_(V.outputs,P,A,Me);const ze=null===T||null===v||is(a)?null:oO(T,P,v);w.push(ze)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=8),T.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=w,a.inputs=T,a.outputs=A}(o,c,p)}function Mx(o,a,c){const d=c.directiveStart,h=c.directiveEnd,p=c.index,v=function Na(){return Pt.lFrame.currentDirectiveIndex}();try{Ro(p);for(let w=d;w<h;w++){const T=o.data[w],A=a[w];Oo(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&nO(T,A)}}finally{Ro(-1),Oo(v)}}function nO(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function vw(o,a,c){a.componentOffset=c,(o.components??=[]).push(a.index)}function Px(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;fr(a)&&(c[""]=o)}}function Nx(o,a,c,d,h){o.data[d]=h;const p=h.factory||(h.factory=Ss(h.type)),v=new Ds(p,fr(h),kl);o.blueprint[d]=v,c[d]=v,function yw(o,a,c,d,h){const p=h.hostBindings;if(p){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const w=~a.index;(function tO(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(v)!=w&&v.push(w),v.push(c,d,p)}}(o,a,d,Ih(o,c,h.hostVars,$t),h)}function Fs(o,a,c,d,h,p){const v=Tr(o,a);!function Th(o,a,c,d,h,p,v){if(null==p)o.removeAttribute(a,h,c);else{const w=null==v?Ve(p):v(p,d||"",h);o.setAttribute(a,h,w,c)}}(a[Lt],v,p,o.value,c,d,h)}function rO(o,a,c,d,h,p){const v=p[a];if(null!==v)for(let w=0;w<v.length;)mm(d,c,v[w++],v[w++],v[w++])}function mm(o,a,c,d,h){const p=Kn(null);try{const v=o.inputTransforms;null!==v&&v.hasOwnProperty(d)&&(h=v[d].call(a,h)),null!==o.setInput?o.setInput(a,h,c,d):a[d]=h}finally{Kn(p)}}function oO(o,a,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===d&&(d=[]);const v=o[p];for(let w=0;w<v.length;w+=2)if(v[w]===a){d.push(p,v[w+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function ww(o,a,c,d){return[o,!0,!1,a,null,0,d,c,null,null,null]}function Ox(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d+1];if(-1!==p){const v=o.data[p];ll(c[d]),v.contentQueries(2,a[p],p)}}}function ym(o,a){return o[Kl]?o[ou][_i]=a:o[Kl]=a,o[ou]=a,a}function w_(o,a,c){ll(0);const d=Kn(null);try{a(o,c)}finally{Kn(d)}}function Rx(o){return o[Yi]||(o[Yi]=[])}function Ew(o){return o.cleanup||(o.cleanup=[])}function Fx(o,a){const c=o[Cs],d=c?c.get(bh,null):null;d&&d.handleError(a)}function Cw(o,a,c,d,h){for(let p=0;p<c.length;){const v=c[p++],w=c[p++];mm(o.data[v],a[v],d,w,h)}}function Mc(o,a,c){const d=Pa(a,o);!function kS(o,a,c){o.setValue(a,c)}(o[Lt],d,c)}function sO(o,a){const c=Ji(a,o),d=c[ut];!function aO(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])}(d,c);const h=c[Fn];null!==h&&null===c[Po]&&(c[Po]=Qv(h,c[Cs])),E_(d,c,c[Jn])}function E_(o,a,c){Nu(a);try{const d=o.viewQuery;null!==d&&w_(1,d,c);const h=o.template;null!==h&&fw(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Ox(o,a),o.staticViewQueries&&w_(2,o.viewQuery,c);const p=o.components;null!==p&&function Bx(o,a){for(let c=0;c<a.length;c++)sO(o,a[c])}(a,p)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[Vt]&=-5,yc()}}let Iw=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(c,d,h){const p=typeof Zone>"u"?null:Zone.current,v=new vu(c,A=>{this.all.has(A)&&this.queue.set(A,p)},h);let w;this.all.add(v),v.notify();const T=()=>{v.cleanup(),w?.(),this.all.delete(v),this.queue.delete(v)};return w=d?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return o.\u0275prov=Bt({token:o,providedIn:"root",factory:()=>new o}),o})();function vm(o,a,c){let d=c?o.styles:null,h=c?o.classes:null,p=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?p=w:1==p?h=Ne(h,w):2==p&&(d=Ne(d,w+": "+a[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=h:o.classesWithoutHost=h}function Pc(o,a,c,d,h=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&d.push(yn(p)),bn(p)){for(let w=Fi;w<p.length;w++){const T=p[w],A=T[ut].firstChild;null!==A&&Pc(T[ut],T,A,d)}p[ro]!==p[Fn]&&d.push(p[ro])}const v=c.type;if(8&v)Pc(o,a,c.child,d);else if(32&v){const w=vv(c,a);let T;for(;T=w();)d.push(T)}else if(16&v){const w=b1(a,c);if(Array.isArray(w))d.push(...w);else{const T=Zu(a[qn]);Pc(T[ut],T,w,d,!0)}}c=h?c.projectionNext:c.next}return d}function C_(o,a,c,d=!0){const h=a[rs].rendererFactory;h.begin&&h.begin();try{I_(o,a,o.template,c)}catch(v){throw d&&Fx(a,v),v}finally{h.end&&h.end(),a[rs].effectManager?.flush()}}function I_(o,a,c,d){const h=a[Vt];if(256!=(256&h)){a[rs].effectManager?.flush(),Nu(a);try{jr(a),function gc(o){return Pt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&fw(o,a,c,2,d);const v=3==(3&h);if(v){const A=o.preOrderCheckHooks;null!==A&&Lo(a,A,null)}else{const A=o.preOrderHooks;null!==A&&Oa(a,A,0,null),Bn(a,0)}if(function pa(o){for(let a=_v(o);null!==a;a=bv(a)){if(!a[lu])continue;const c=a[as];for(let d=0;d<c.length;d++){uc(c[d])}}}(a),Nc(a,2),null!==o.contentQueries&&Ox(o,a),v){const A=o.contentCheckHooks;null!==A&&Lo(a,A)}else{const A=o.contentHooks;null!==A&&Oa(a,A,1),Bn(a,1)}!function hw(o,a){const c=o.hostBindingOpCodes;if(null===c)return;const d=ow(a,os);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)Ro(~p);else{const v=p,w=c[++h],T=c[++h];Mu(w,v),d.runInContext(T,2,a[v])}}}finally{null===a[os]&&sw(a,os),Ro(-1)}}(o,a);const w=o.components;null!==w&&Sw(a,w,0);const T=o.viewQuery;if(null!==T&&w_(2,T,d),v){const A=o.viewCheckHooks;null!==A&&Lo(a,A)}else{const A=o.viewHooks;null!==A&&Oa(a,A,2),Bn(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Vt]&=-73,dc(a)}finally{yc()}}}function Nc(o,a){for(let c=_v(o);null!==c;c=bv(c))for(let d=Fi;d<c.length;d++)T_(c[d],a)}function $x(o,a,c){T_(Ji(a,o),c)}function T_(o,a){if(!function Iu(o){return 128==(128&o[Vt])}(o))return;const c=o[ut];if(80&o[Vt]&&0===a||1024&o[Vt]||2===a)I_(c,o,c.template,o[Jn]);else if(o[Mo]>0){Nc(o,1);const h=o[ut].components;null!==h&&Sw(o,h,1)}}function Sw(o,a,c){for(let d=0;d<a.length;d++)$x(o,a[d],c)}class hp{get rootNodes(){const a=this._lView,c=a[ut];return Pc(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jn]}set context(a){this._lView[Jn]=a}get destroyed(){return 256==(256&this._lView[Vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Pn];if(bn(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(Ku(a,d),fs(c,d))}this._attachedToViewContainer=!1}OS(this._lView[ut],this._lView)}onDestroy(a){!function hc(o,a){if(256==(256&o[Vt]))throw new oe(911,!1);null===o[xa]&&(o[xa]=[]),o[xa].push(a)}(this._lView,a)}markForCheck(){xc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vt]&=-129}reattach(){this._lView[Vt]|=128}detectChanges(){C_(this._lView[ut],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function PS(o,a){ep(o,a,a[Lt],2,null,null)}(this._lView[ut],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=a}}class zx extends hp{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;C_(a[ut],a,a[Jn],!1)}checkNoChanges(){}get context(){return null}}class Sh extends n_{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=un(a);return new Bs(c,this.ngModule)}}function Ml(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class Qr{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=le(d);const h=this.injector.get(a,o_,d);return h!==o_||c===o_?h:this.parentInjector.get(a,c,d)}}class Bs extends Y1{get inputs(){const a=this.componentDef,c=a.inputTransforms,d=Ml(a.inputs);if(null!==c)for(const h of d)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return d}get outputs(){return Ml(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Cf(o){return o.map(Gl).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,h){let p=(h=h||this.ngModule)instanceof id?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const v=p?new Qr(a,p):a,w=v.get(Ai,null);if(null===w)throw new oe(407,!1);const P={rendererFactory:w,sanitizer:v.get(J1,null),effectManager:v.get(Iw,null)},V=w.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",ee=d?function Ex(o,a,c,d){const p=d.get(tw,!1)||c===zn.ShadowDom,v=o.selectRootElement(a,p);return function Cx(o){gw(o)}(v),v}(V,d,this.componentDef.encapsulation,v):Cv(V,Z,function xw(o){const a=o.toLowerCase();return"svg"===a?lc:"math"===a?"math":null}(Z)),ot=this.componentDef.signals?4608:this.componentDef.onPush?576:528,_t=g_(0,null,null,1,0,null,null,null,null,null,null),Fe=Ch(null,_t,null,ot,null,null,P,V,v,null,null);let Gt,pn;Nu(Fe);try{const vn=this.componentDef;let wo,$0=null;vn.findHostDirectiveDefs?(wo=[],$0=new Map,vn.findHostDirectiveDefs(vn,wo,$0),wo.push(vn)):wo=[vn];const Qk=function Dw(o,a){const c=o[ut],d=qt;return o[d]=a,Ac(c,d,2,"#host",null)}(Fe,ee),yR=function Aw(o,a,c,d,h,p,v){const w=h[ut];!function kw(o,a,c,d){for(const h of o)a.mergedAttrs=ko(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(vm(a,a.mergedAttrs,!0),null!==c&&C1(d,c,a))}(d,o,a,v);let T=null;null!==a&&(T=Qv(a,h[Cs]));const A=p.rendererFactory.createRenderer(a,c);let P=16;c.signals?P=4096:c.onPush&&(P=64);const V=Ch(h,pw(c),null,P,h[o.index],o,p,A,null,null,T);return w.firstCreatePass&&vw(w,o,d.length-1),ym(h,V),h[o.index]=V}(Qk,ee,vn,wo,Fe,P,V);pn=Cu(_t,qt),ee&&function Pw(o,a,c,d){if(d)si(o,c,["ng-version",hi.full]);else{const{attrs:h,classes:p}=function tl(o){const a=[],c=[];let d=1,h=2;for(;d<o.length;){let p=o[d];if("string"==typeof p)2===h?""!==p&&a.push(p,o[++d]):8===h&&c.push(p);else{if(!ai(h))break;h=p}d++}return{attrs:a,classes:c}}(a.selectors[0]);h&&si(o,c,h),p&&p.length>0&&E1(o,c,p.join(" "))}}(V,vn,ee,d),void 0!==c&&function Nw(o,a,c){const d=o.projection=[];for(let h=0;h<a.length;h++){const p=c[h];d.push(null!=p?Array.from(p):null)}}(pn,this.ngContentSelectors,c),Gt=function Mw(o,a,c,d,h,p){const v=Xi(),w=h[ut],T=Tr(v,h);__(w,h,v,c,null,d);for(let P=0;P<c.length;P++)Kr(Ms(h,w,v.directiveStart+P,v),h);Mx(w,h,v),T&&Kr(T,h);const A=Ms(h,w,v.directiveStart+v.componentOffset,v);if(o[Jn]=h[Jn]=A,null!==p)for(const P of p)P(A,a);return hm(w,v,o),A}(yR,vn,wo,$0,Fe,[Ow]),E_(_t,Fe,null)}finally{yc()}return new Gx(this.componentType,Gt,lp(pn,Fe),Fe,pn)}}class Gx extends gx{constructor(a,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new zx(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const p=this._rootLView;Cw(p[ut],p,h,a,c),this.previousInputValues.set(a,c),xc(Ji(this._tNode.index,p))}}get injector(){return new aa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Ow(){const o=Xi();Vi(Le()[ut],o)}function xh(o){let a=function S_(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let h;if(fr(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new oe(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const v=o;v.inputs=fp(o.inputs),v.inputTransforms=fp(o.inputTransforms),v.declaredInputs=fp(o.declaredInputs),v.outputs=fp(o.outputs);const w=h.hostBindings;w&&Wx(o,w);const T=h.viewQuery,A=h.contentQueries;if(T&&Lw(o,T),A&&Fw(o,A),Xe(o.inputs,h.inputs),Xe(o.declaredInputs,h.declaredInputs),Xe(o.outputs,h.outputs),null!==h.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),Xe(v.inputTransforms,h.inputTransforms)),fr(h)&&h.data.animation){const P=o.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let v=0;v<p.length;v++){const w=p[v];w&&w.ngInherit&&w(o),w===xh&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Rw(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=a+=h.hostVars,h.hostAttrs=ko(h.hostAttrs,c=ko(c,h.hostAttrs))}}(d)}function fp(o){return o===ti?{}:o===Yt?[]:o}function Lw(o,a){const c=o.viewQuery;o.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function Fw(o,a){const c=o.contentQueries;o.contentQueries=c?(d,h,p)=>{a(d,h,p),c(d,h,p)}:a}function Wx(o,a){const c=o.hostBindings;o.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}function pp(o){const a=o.inputConfig,c={};for(const d in a)if(a.hasOwnProperty(d)){const h=a[d];Array.isArray(h)&&h[2]&&(c[d]=h[2])}o.inputTransforms=c}function gp(o){return!!Ua(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Ua(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Pl(o,a,c){return o[a]=c}function pr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function sd(o,a,c,d){const h=pr(o,a,c);return pr(o,a+1,d)||h}function A_(o,a,c,d){const h=Le();return pr(h,No(),a)&&(dn(),Fs(Rn(),h,o,a,c,d)),A_}function mp(o,a,c,d,h,p){const w=sd(o,function An(){return Pt.lFrame.bindingIndex}(),c,h);return zr(2),w?a+Ve(c)+d+Ve(h)+p:$t}function Sm(o,a,c,d,h,p,v,w){const T=Le(),A=dn(),P=o+qt,V=A.firstCreatePass?function Jw(o,a,c,d,h,p,v,w,T){const A=a.consts,P=Ac(a,o,4,v||null,Hr(A,w));gm(a,c,P,Hr(A,T)),Vi(a,P);const V=P.tView=g_(2,P,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,A,null);return null!==a.queries&&(a.queries.template(a,P),V.queries=a.queries.embeddedTView(P)),P}(P,A,T,a,c,d,h,p,v):A.data[P];$r(V,!1);const Z=Xw(A,T,V,o);cl()&&$g(A,T,Z,V),Kr(Z,T),ym(T,T[P]=ww(Z,T,Z,V)),Aa(V)&&kc(A,T,V),null!=v&&fm(T,V,w)}let Xw=function sD(o,a,c,d){return ra(!0),a[Lt].createComment("")};function O_(o){return Js(function Zd(){return Pt.lFrame.contextLView}(),qt+o)}function xm(o,a,c){const d=Le();return pr(d,No(),a)&&function ms(o,a,c,d,h,p,v,w){const T=Tr(a,c);let P,A=a.inputs;!w&&null!=A&&(P=A[d])?(Cw(o,c,P,d,h),Ts(a)&&function Dx(o,a){const c=Ji(a,o);16&c[Vt]||(c[Vt]|=64)}(c,a.index)):3&a.type&&(d=function xx(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=v?v(h,a.value||"",d):h,p.setProperty(T,d,h))}(dn(),Rn(),d,o,a,d[Lt],c,!1),xm}function Dm(o,a,c,d,h){const v=h?"class":"style";Cw(o,c,a.inputs[v],v,d)}function Am(o,a,c,d){const h=Le(),p=dn(),v=qt+o,w=h[Lt],T=p.firstCreatePass?function fO(o,a,c,d,h,p){const v=a.consts,T=Ac(a,o,2,d,Hr(v,h));return gm(a,c,T,Hr(v,p)),null!==T.attrs&&vm(T,T.attrs,!1),null!==T.mergedAttrs&&vm(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(v,p,h,a,c,d):p.data[v],A=lD(p,h,T,w,a,o);h[v]=A;const P=Aa(T);return $r(T,!0),C1(w,A,T),32!=(32&T.flags)&&cl()&&$g(p,h,A,T),0===function Xs(){return Pt.lFrame.elementDepthCount}()&&Kr(A,h),function fc(){Pt.lFrame.elementDepthCount++}(),P&&(kc(p,h,T),hm(p,T,h)),null!==d&&fm(h,T),Am}function Dp(){let o=Xi();ku()?al():(o=o.parent,$r(o,!1));const a=o;(function Rf(o){return Pt.skipHydrationRootTNode===o})(a)&&function Au(){Pt.skipHydrationRootTNode=null}(),function sl(){Pt.lFrame.elementDepthCount--}();const c=dn();return c.firstCreatePass&&(Vi(c,o),Da(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function tn(o){return 0!=(8&o.flags)}(a)&&Dm(c,a,Le(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Bo(o){return 0!=(16&o.flags)}(a)&&Dm(c,a,Le(),a.stylesWithoutHost,!1),Dp}function eE(o,a,c,d){return Am(o,a,c,d),Dp(),eE}let lD=(o,a,c,d,h,p)=>(ra(!0),Cv(d,h,function Fu(){return Pt.lFrame.currentNamespace}()));function Ap(o,a,c){const d=Le(),h=dn(),p=o+qt,v=h.firstCreatePass?function cD(o,a,c,d,h){const p=a.consts,v=Hr(p,d),w=Ac(a,o,8,"ng-container",v);return null!==v&&vm(w,v,!0),gm(a,c,w,Hr(p,h)),null!==a.queries&&a.queries.elementStart(a,w),w}(p,h,d,a,c):h.data[p];$r(v,!0);const w=Oh(h,d,v,o);return d[p]=w,cl()&&$g(h,d,w,v),Kr(w,d),Aa(v)&&(kc(h,d,v),hm(h,v,d)),null!=c&&fm(d,v),Ap}function km(){let o=Xi();const a=dn();return ku()?al():(o=o.parent,$r(o,!1)),a.firstCreatePass&&(Vi(a,o),Da(o)&&a.queries.elementEnd(o)),km}function Mm(o,a,c){return Ap(o,a,c),km(),Mm}let Oh=(o,a,c,d)=>(ra(!0),h1(a[Lt],""));function R_(){return Le()}function L_(o){return!!o&&"function"==typeof o.then}function hD(o){return!!o&&"function"==typeof o.subscribe}function Pm(o,a,c,d){const h=Le(),p=dn(),v=Xi();return function iE(o,a,c,d,h,p,v){const w=Aa(d),A=o.firstCreatePass&&Ew(o),P=a[Jn],V=Rx(a);let Z=!0;if(3&d.type||v){const ze=Tr(d,a),ot=v?v(ze):ze,_t=V.length,Fe=v?pn=>v(yn(pn[d.index])):d.index;let Gt=null;if(!v&&w&&(Gt=function nE(o,a,c,d){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const v=h[p];if(v===c&&h[p+1]===d){const w=a[Yi],T=h[p+2];return w.length>T?w[T]:null}"string"==typeof v&&(p+=2)}return null}(o,a,h,d.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=p,Gt.__ngLastListenerFn__=p,Z=!1;else{p=B_(d,a,P,p,!1);const pn=c.listen(ot,h,p);V.push(p,pn),A&&A.push(h,Fe,_t,_t+1)}}else p=B_(d,a,P,p,!1);const ee=d.outputs;let Me;if(Z&&null!==ee&&(Me=ee[h])){const ze=Me.length;if(ze)for(let ot=0;ot<ze;ot+=2){const vn=a[Me[ot]][Me[ot+1]].subscribe(p),wo=V.length;V.push(p,vn),A&&A.push(h,d.index,wo,-(wo+1))}}}(p,h,h[Lt],v,o,a,d),Pm}function F_(o,a,c,d){try{return Ir(6,a,c),!1!==c(d)}catch(h){return Fx(o,h),!1}finally{Ir(7,a,c)}}function B_(o,a,c,d,h){return function p(v){if(v===Function)return d;xc(o.componentOffset>-1?Ji(o.index,a):a);let T=F_(a,c,d,v),A=p.__ngNextListenerFn__;for(;A;)T=F_(a,c,A,v)&&T,A=A.__ngNextListenerFn__;return h&&!1===T&&v.preventDefault(),T}}function rE(o=1){return function Ru(o){return(Pt.lFrame.contextLView=function Qd(o,a){for(;o>0;)a=a[Wn],o--;return a}(o,Pt.lFrame.contextLView))[Jn]}(o)}function oE(o,a){let c=null;const d=function li(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let h=0;h<a.length;h++){const p=a[h];if("*"!==p){if(null===d?Ef(o,p,!0):zl(d,p))return h}else c=h}return c}function sE(o){const a=Le()[qn][Ri];if(!a.projection){const d=a.projection=sn(o?o.length:1,null),h=d.slice();let p=a.child;for(;null!==p;){const v=o?oE(p,o):0;null!==v&&(h[v]?h[v].projectionNext=p:d[v]=p,h[v]=p),p=p.next}}}function Nm(o,a=0,c){const d=Le(),h=dn(),p=Ac(h,qt+o,16,null,c||null);null===p.projection&&(p.projection=a),al(),(!d[Po]||ea())&&32!=(32&p.flags)&&function FS(o,a,c){w1(a[Lt],0,a,c,hh(o,c,a),m1(c.parent||a[Ri],c,a))}(h,d,p)}function Rh(o,a){return o<<17|a<<2}function Lc(o){return o>>17&32767}function j_(o){return 2|o}function Lh(o){return(131068&o)>>2}function Mp(o,a){return-131069&o|a<<2}function Rm(o){return 1|o}function pE(o,a,c,d,h){const p=o[c+1],v=null===a;let w=d?Lc(p):Lh(p),T=!1;for(;0!==w&&(!1===T||v);){const P=o[w+1];gE(o[w],a)&&(T=!0,o[w+1]=d?Rm(P):j_(P)),w=d?Lc(P):Lh(P)}T&&(o[c+1]=d?j_(p):Rm(p))}function gE(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&ye(o,a)>=0}const ir={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mE(o){return o.substring(ir.key,ir.keyEnd)}function $_(o){return o.substring(ir.value,ir.valueEnd)}function vE(o,a){const c=ir.textEnd;return c===a?-1:(a=ir.keyEnd=function bE(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,ir.key=a,c),Bh(o,a,c))}function _E(o,a){const c=ir.textEnd;let d=ir.key=Bh(o,a,c);return c===d?-1:(d=ir.keyEnd=function yD(o,a,c){let d;for(;a<c&&(45===(d=o.charCodeAt(a))||95===d||(-33&d)>=65&&(-33&d)<=90||d>=48&&d<=57);)a++;return a}(o,d,c),d=G_(o,d,c),d=ir.value=Bh(o,d,c),d=ir.valueEnd=function mO(o,a,c){let d=-1,h=-1,p=-1,v=a,w=v;for(;v<c;){const T=o.charCodeAt(v++);if(59===T)return w;34===T||39===T?w=v=vD(o,T,v,c):a===v-4&&85===p&&82===h&&76===d&&40===T?w=v=vD(o,41,v,c):T>32&&(w=v),p=h,h=d,d=-33&T}return w}(o,d,c),G_(o,d,c))}function z_(o){ir.key=0,ir.keyEnd=0,ir.value=0,ir.valueEnd=0,ir.textEnd=o.length}function Bh(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function G_(o,a,c,d){return(a=Bh(o,a,c))<c&&a++,a}function vD(o,a,c,d){let h=-1,p=c;for(;p<d;){const v=o.charCodeAt(p++);if(v==a&&92!==h)return p;h=92==v&&92===h?0:v}throw new Error}function W_(o,a,c){return $a(o,a,c,!1),W_}function q_(o,a){return $a(o,a,null,!0),q_}function ja(o){za(Ol,yO,o,!1)}function yO(o,a){for(let c=function Lm(o){return z_(o),_E(o,Bh(o,0,ir.textEnd))}(a);c>=0;c=_E(a,c))Ol(o,mE(a),$_(a))}function _D(o){za(_O,Nl,o,!0)}function Nl(o,a){for(let c=function yE(o){return z_(o),vE(o,Bh(o,0,ir.textEnd))}(a);c>=0;c=vE(a,c))G(o,mE(a),!0)}function $a(o,a,c,d){const h=Le(),p=dn(),v=zr(2);p.firstUpdatePass&&wE(p,o,v,d),a!==$t&&pr(h,v,a)&&Vs(p,p.data[er()],h,h[Lt],o,h[v+1]=function Rl(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ke(Sl(o)))),o}(a,c),d,v)}function za(o,a,c,d){const h=dn(),p=zr(2);h.firstUpdatePass&&wE(h,null,p,d);const v=Le();if(c!==$t&&pr(v,p,c)){const w=h.data[er()];if(wD(w,d)&&!bD(h,p)){let T=d?w.classesWithoutHost:w.stylesWithoutHost;null!==T&&(c=Ne(T,c||"")),Dm(h,w,v,c,d)}else!function IE(o,a,c,d,h,p,v,w){h===$t&&(h=Yt);let T=0,A=0,P=0<h.length?h[0]:null,V=0<p.length?p[0]:null;for(;null!==P||null!==V;){const Z=T<h.length?h[T+1]:void 0,ee=A<p.length?p[A+1]:void 0;let ze,Me=null;P===V?(T+=2,A+=2,Z!==ee&&(Me=V,ze=ee)):null===V||null!==P&&P<V?(T+=2,Me=P):(A+=2,Me=V,ze=ee),null!==Me&&Vs(o,a,c,d,Me,ze,v,w),P=T<h.length?h[T]:null,V=A<p.length?p[A]:null}}(h,w,v,v[Lt],v[p+1],v[p+1]=function Pp(o,a,c){if(null==c||""===c)return Yt;const d=[],h=Sl(c);if(Array.isArray(h))for(let p=0;p<h.length;p++)o(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&o(d,p,h[p]);else"string"==typeof h&&a(d,h);return d}(o,a,c),d,p)}}function bD(o,a){return a>=o.expandoStartIndex}function wE(o,a,c,d){const h=o.data;if(null===h[c+1]){const p=h[er()],v=bD(o,c);wD(p,d)&&null===a&&!v&&(a=!1),a=function vO(o,a,c,d){const h=function ia(o){const a=Pt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=ys(c=K_(null,o,a,c,d),a.attrs,d),p=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(c=K_(h,o,a,c,d),null===p){let T=function Z_(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==Lh(d))return o[Lc(d)]}(o,a,d);void 0!==T&&Array.isArray(T)&&(T=K_(null,o,a,T[1],d),T=ys(T,a.attrs,d),function EE(o,a,c,d){o[Lc(c?a.classBindings:a.styleBindings)]=d}(o,a,d,T))}else p=function CE(o,a,c){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=ys(d,o[p].hostAttrs,c);return ys(d,a.attrs,c)}(o,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(h,p,a,d),function mD(o,a,c,d,h,p){let v=p?a.classBindings:a.styleBindings,w=Lc(v),T=Lh(v);o[d]=c;let P,A=!1;if(Array.isArray(c)?(P=c[1],(null===P||ye(c,P)>0)&&(A=!0)):P=c,h)if(0!==T){const Z=Lc(o[w+1]);o[d+1]=Rh(Z,w),0!==Z&&(o[Z+1]=Mp(o[Z+1],d)),o[w+1]=function hE(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=Rh(w,0),0!==w&&(o[w+1]=Mp(o[w+1],d)),w=d;else o[d+1]=Rh(T,0),0===w?w=d:o[T+1]=Mp(o[T+1],d),T=d;A&&(o[d+1]=j_(o[d+1])),pE(o,P,d,!0),pE(o,P,d,!1),function fE(o,a,c,d,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&ye(p,a)>=0&&(c[d+1]=Rm(c[d+1]))}(a,P,o,d,p),v=Rh(w,T),p?a.classBindings=v:a.styleBindings=v}(h,p,a,c,v,d)}}function K_(o,a,c,d,h){let p=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(p=a[w],d=ys(d,p.hostAttrs,h),p!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function ys(o,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const v=a[p];"number"==typeof v?h=v:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),G(o,v,!!c||a[++p]))}return void 0===o?null:o}function Ol(o,a,c){G(o,a,Sl(c))}function _O(o,a,c){const d=String(a);""!==d&&!d.includes(" ")&&G(o,d,c)}function Vs(o,a,c,d,h,p,v,w){if(!(3&a.type))return;const T=o.data,A=T[w+1],P=function pD(o){return 1==(1&o)}(A)?TE(T,a,c,h,Lh(A),v):void 0;Y_(P)||(Y_(p)||function fD(o){return 2==(2&o)}(A)&&(p=TE(T,null,c,h,w,v)),function VS(o,a,c,d,h){if(a)h?o.addClass(c,d):o.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:Bg.DashCase;null==h?o.removeStyle(c,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Bg.Important),o.setStyle(c,d,h,p))}}(d,v,Pa(er(),c),h,p))}function TE(o,a,c,d,h,p){const v=null===a;let w;for(;h>0;){const T=o[h],A=Array.isArray(T),P=A?T[1]:T,V=null===P;let Z=c[h+1];Z===$t&&(Z=V?Yt:void 0);let ee=V?J(Z,d):P===d?Z:void 0;if(A&&!Y_(ee)&&(ee=J(T,d)),Y_(ee)&&(w=ee,v))return w;const Me=o[h+1];h=v?Lc(Me):Lh(Me)}if(null!==a){let T=p?a.residualClasses:a.residualStyles;null!=T&&(w=J(T,d))}return w}function Y_(o){return void 0!==o}function wD(o,a){return 0!=(o.flags&(a?8:16))}function SE(o,a=""){const c=Le(),d=dn(),h=o+qt,p=d.firstCreatePass?Ac(d,h,1,a,null):d.data[h],v=ED(d,c,p,a,o);c[h]=v,cl()&&$g(d,c,v,p),$r(p,!1)}let ED=(o,a,c,d,h)=>(ra(!0),function Ev(o,a){return o.createText(a)}(a[Lt],d));function ud(o){return Np("",o,""),ud}function Np(o,a,c){const d=Le(),h=function Ah(o,a,c,d){return pr(o,No(),c)?a+Ve(c)+d:$t}(d,o,a,c);return h!==$t&&Mc(d,er(),h),Np}function Op(o,a,c,d,h){const p=Le(),v=mp(p,o,a,c,d,h);return v!==$t&&Mc(p,er(),v),Op}const dd=void 0;var VD=["en",[["a","p"],["AM","PM"],dd],[["AM","PM"],dd,dd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dd,"{1} 'at' {0}",dd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function BD(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Uh={};function J_(o){const a=function jD(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Hh(a);if(c)return c;const d=a.split("-")[0];if(c=Hh(d),c)return c;if("en"===d)return VD;throw new oe(701,!1)}function Fc(o){return J_(o)[jh.PluralCase]}function Hh(o){return o in Uh||(Uh[o]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[o]),Uh[o]}var jh=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(jh||{});const $h="en-US";let HE=$h;function l0(o,a,c,d,h){if(o=xe(o),Array.isArray(o))for(let p=0;p<o.length;p++)l0(o[p],a,c,d,h);else{const p=dn(),v=Le();let w=mh(o)?o:xe(o.provide),T=hx(o);const A=Xi(),P=1048575&A.providerIndexes,V=A.directiveStart,Z=A.providerIndexes>>20;if(mh(o)||!o.multi){const ee=new Ds(T,h,kl),Me=c0(w,a,h?P:P+Z,V);-1===Me?(co(hl(A,v),p,w),pe(p,o,a.length),a.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(ee),v.push(ee)):(c[Me]=ee,v[Me]=ee)}else{const ee=c0(w,a,P+Z,V),Me=c0(w,a,P,P+Z),ot=Me>=0&&c[Me];if(h&&!ot||!h&&!(ee>=0&&c[ee])){co(hl(A,v),p,w);const _t=function zh(o,a,c,d,h){const p=new Ds(o,c,kl);return p.multi=[],p.index=a,p.componentProviders=0,fC(p,h,d&&!c),p}(h?gA:pA,c.length,h,d,T);!h&&ot&&(c[Me].providerFactory=_t),pe(p,o,a.length,0),a.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(_t),v.push(_t)}else pe(p,o,ee>-1?ee:Me,fC(c[h?Me:ee],T,!h&&d));!h&&d&&ot&&c[Me].componentProviders++}}}function pe(o,a,c,d){const h=mh(a),p=function U1(o){return!!o.useClass}(a);if(h||p){const T=(p?xe(a.useClass):a).prototype.ngOnDestroy;if(T){const A=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const P=A.indexOf(c);-1===P?A.push(c,[d,T]):A[P+1].push(d,T)}else A.push(c,T)}}}function fC(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function c0(o,a,c,d){for(let h=c;h<d;h++)if(a[h]===o)return h;return-1}function pA(o,a,c,d){return Zm(this.multi,[])}function gA(o,a,c,d){const h=this.multi;let p;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Ms(c,c[ut],this.providerFactory.index,d);p=w.slice(0,v),Zm(h,p);for(let T=v;T<w.length;T++)p.push(w[T])}else p=[],Zm(h,p);return p}function Zm(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function _o(o,a=[]){return c=>{c.providersResolver=(d,h)=>function hC(o,a,c){const d=dn();if(d.firstCreatePass){const h=fr(o);l0(c,d.data,d.blueprint,h,!0),l0(a,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,a)}}class md{}class Vp{}function Up(o,a){return new ln(o,a??null,[])}class ln extends md{constructor(a,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sh(this);const h=Si(a);this._bootstrapComponents=fa(h.bootstrap),this._r3Injector=dw(a,c,[{provide:md,useValue:this},{provide:n_,useValue:this.componentFactoryResolver},...d],ke(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class bt extends Vp{constructor(a){super(),this.moduleType=a}create(a){return new ln(this.moduleType,a,[])}}class Km extends md{constructor(a){super(),this.componentFactoryResolver=new Sh(this),this.instance=null;const c=new Gv([...a.providers,{provide:md,useValue:this},{provide:n_,useValue:this.componentFactoryResolver}],a.parent||em(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function u0(o,a,c=null){return new Km({providers:o,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let gC=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=R1(0,c.type),h=d.length>0?u0([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=Bt({token:o,providedIn:"environment",factory:()=>new o(j(id))}),o})();function d0(o){o.getStandaloneInjector=a=>a.get(gC).getOrCreateStandaloneInjector(o)}function bC(o,a,c){const d=Bi()+o,h=Le();return h[d]===$t?Pl(h,d,c?a.call(c):a()):function wm(o,a){return o[a]}(h,d)}function p0(o,a,c,d){return function EC(o,a,c,d,h,p){const v=a+c;return pr(o,v,h)?Pl(o,v+1,p?d.call(p,h):d(h)):Hp(o,v+1)}(Le(),Bi(),o,a,c,d)}function qa(o,a,c,d,h){return CC(Le(),Bi(),o,a,c,d,h)}function Qm(o,a,c,d,h,p){return function Jm(o,a,c,d,h,p,v,w){const T=a+c;return function Dh(o,a,c,d,h){const p=sd(o,a,c,d);return pr(o,a+2,h)||p}(o,T,h,p,v)?Pl(o,T+3,w?d.call(w,h,p,v):d(h,p,v)):Hp(o,T+3)}(Le(),Bi(),o,a,c,d,h,p)}function wC(o,a,c,d,h,p,v){return function IC(o,a,c,d,h,p,v,w,T){const A=a+c;return function vo(o,a,c,d,h,p){const v=sd(o,a,c,d);return sd(o,a+2,h,p)||v}(o,A,h,p,v,w)?Pl(o,A+4,T?d.call(T,h,p,v,w):d(h,p,v,w)):Hp(o,A+4)}(Le(),Bi(),o,a,c,d,h,p,v)}function Hp(o,a){const c=o[a];return c===$t?void 0:c}function CC(o,a,c,d,h,p,v){const w=a+c;return sd(o,w,h,p)?Pl(o,w+2,v?d.call(v,h,p):d(h,p)):Hp(o,w+2)}function Xm(o,a){const c=dn();let d;const h=o+qt;c.firstCreatePass?(d=function DA(o,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(o===d.name)return d}}(a,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks??=[]).push(h,d.onDestroy)):d=c.data[h];const p=d.factory||(d.factory=Ss(d.type)),v=hn(kl);try{const w=Vu(!1),T=p();return Vu(w),function N_(o,a,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=d}(c,Le(),h,T),T}finally{hn(v)}}function SC(o,a,c,d){const h=o+qt,p=Le(),v=Js(p,h);return function jp(o,a){return o[ut].data[a].pure}(p,h)?CC(p,Bi(),a,v.transform,c,d,v):v.transform(c,d)}function g0(o){return a=>{setTimeout(o,void 0,a)}}const ya=class PA extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,p=c||(()=>null),v=d;if(a&&"object"==typeof a){const T=a;h=T.next?.bind(T),p=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(p=g0(p),h&&(h=g0(h)),v&&(v=g0(v)));const w=super.subscribe({next:h,error:p,complete:v});return a instanceof L.w0&&a.add(w),w}};function NA(){return this._results[Symbol.iterator]()}class m0{get changes(){return this._changes||(this._changes=new ya)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=m0.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=NA)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=function qr(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Mg(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],p=a[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $p=(()=>{class o{}return o.__NG_ELEMENT_ID__=zp,o})();const OA=$p,ki=class extends OA{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c,null)}createEmbeddedViewImpl(a,c,d){const v=this._declarationTContainer.tView,w=Ch(this._declarationLView,v,a,4096&this._declarationLView[Vt]?4096:16,null,v.declTNode,null,null,null,c||null,d||null);w[Ys]=this._declarationLView[this._declarationTContainer.index];const A=this._declarationLView[Li];return null!==A&&(w[Li]=A.createEmbeddedView(v)),E_(v,w,a),new hp(w)}};function zp(){return Fl(Xi(),Le())}function Fl(o,a){return 4&o.type?new ki(a,o,lp(o,a)):null}let ny=(()=>{class o{}return o.__NG_ELEMENT_ID__=$s,o})();function $s(){return yd(Xi(),Le())}const y0=ny,AC=class extends y0{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return lp(this._hostTNode,this._hostLView)}get injector(){return new aa(this._hostTNode,this._hostLView)}get parentInjector(){const a=ks(this._hostTNode,this._hostLView);if(lo(a)){const c=xr(a,this._hostLView),d=oa(a);return new aa(c[ut].data[d+8],c)}return new aa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=kC(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Fi}createEmbeddedView(a,c,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const w=a.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(w,h,false),w}createComponent(a,c,d,h,p){const v=a&&!function Wr(o){return"function"==typeof o}(a);let w;if(v)w=c;else{const ze=c||{};w=ze.index,d=ze.injector,h=ze.projectableNodes,p=ze.environmentInjector||ze.ngModuleRef}const T=v?a:new Bs(un(a)),A=d||this.parentInjector;if(!p&&null==T.ngModule){const ot=(v?A:this.parentInjector).get(id,null);ot&&(p=ot)}un(T.componentType??{});const ee=T.create(A,h,null,p);return this.insertImpl(ee.hostView,w,false),ee}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,d){const h=a._lView,p=h[ut];if(function Tu(o){return bn(o[Pn])}(h)){const T=this.indexOf(a);if(-1!==T)this.detach(T);else{const A=h[Pn],P=new AC(A,A[Ri],A[Pn]);P.detach(P.indexOf(a))}}const v=this._adjustIndex(c),w=this._lContainer;if(function Iv(o,a,c,d){const h=Fi+d,p=c.length;d>0&&(c[h-1][_i]=a),d<p-Fi?(a[_i]=c[h],_l(c,Fi+d,a)):(c.push(a),a[_i]=null),a[Pn]=c;const v=a[Ys];null!==v&&c!==v&&function da(o,a){const c=o[as];a[qn]!==a[Pn][Pn][qn]&&(o[lu]=!0),null===c?o[as]=[a]:c.push(a)}(v,a);const w=a[Li];null!==w&&w.insertView(o),a[Vt]|=128}(p,h,w,v),!d){const T=Gg(v,w),A=h[Lt],P=Ic(A,w[ro]);null!==P&&function ON(o,a,c,d,h,p){d[Fn]=h,d[Ri]=a,ep(o,d,c,1,h,p)}(p,w[Ri],A,h,P,T)}return a.attachToViewContainerRef(),_l(v0(w),v,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=kC(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=Ku(this._lContainer,c);d&&(fs(v0(this._lContainer),c),OS(d[ut],d))}detach(a){const c=this._adjustIndex(a,-1),d=Ku(this._lContainer,c);return d&&null!=fs(v0(this._lContainer),c)?new hp(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function kC(o){return o[8]}function v0(o){return o[8]||(o[8]=[])}function yd(o,a){let c;const d=a[o.index];return bn(d)?c=d:(c=ww(d,a,null,o),a[o.index]=c,ym(a,c)),MC(c,a,o,d),new AC(c,o,a)}let MC=function _0(o,a,c,d){if(o[ro])return;let h;h=8&c.type?yn(d):function FA(o,a){const c=o[Lt],d=c.createComment(""),h=Tr(a,o);return Yu(c,Ic(c,h),d,function Xf(o,a){return o.nextSibling(a)}(c,h),!1),d}(a,c),o[ro]=h};class Zp{constructor(a){this.queryList=a,this.matches=null}clone(){return new Zp(this.queryList)}setDirty(){this.queryList.setDirty()}}class ry{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const v=c.getByIndex(p);h.push(this.queries[v.indexInDeclarationView].clone())}return new ry(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Kp(a,c).matches&&this.queries[c].setDirty()}}class NC{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Gh{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new Gh(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Wh{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Wh(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,c,OC(c,p)),this.matchTNodeWithReadOption(a,c,uo(c,a,p,!1,!1))}else d===$p?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,uo(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Ls||h===ny||h===$p&&4&c.type)this.addMatch(c.index,-2);else{const p=uo(c,a,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function OC(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function b0(o,a,c,d){return-1===c?function qh(o,a){return 11&o.type?lp(o,a):4&o.type?Fl(o,a):null}(a,o):-2===c?function RC(o,a,c){return c===Ls?lp(a,o):c===$p?Fl(a,o):c===ny?yd(a,o):void 0}(o,a,d):Ms(o,o[ut],c,a)}function oy(o,a,c,d){const h=a[Li].queries[d];if(null===h.matches){const p=o.data,v=c.matches,w=[];for(let T=0;T<v.length;T+=2){const A=v[T];w.push(A<0?null:b0(a,p[A],v[T+1],c.metadata.read))}h.matches=w}return h.matches}function w0(o,a,c,d){const h=o.queries.getByIndex(c),p=h.matches;if(null!==p){const v=oy(o,a,h,c);for(let w=0;w<p.length;w+=2){const T=p[w];if(T>0)d.push(v[w/2]);else{const A=p[w+1],P=a[-T];for(let V=Fi;V<P.length;V++){const Z=P[V];Z[Ys]===Z[Pn]&&w0(Z[ut],Z,A,d)}if(null!==P[as]){const V=P[as];for(let Z=0;Z<V.length;Z++){const ee=V[Z];w0(ee[ut],ee,A,d)}}}}}return d}function LC(o){const a=Le(),c=dn(),d=Pu();ll(d+1);const h=Kp(c,d);if(o.dirty&&function Of(o){return 4==(4&o[Vt])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?w0(c,a,d,[]):oy(c,a,h,d);o.reset(p,i_),o.notifyOnChanges()}return!0}return!1}function sy(o,a,c){const d=dn();d.firstCreatePass&&(BC(d,new NC(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),FC(d,Le(),a)}function E0(o,a,c,d){const h=dn();if(h.firstCreatePass){const p=Xi();BC(h,new NC(a,c,d),p.index),function VA(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}FC(h,Le(),c)}function C0(){return function BA(o,a){return o[Li].queries[a].queryList}(Le(),Pu())}function FC(o,a,c){const d=new m0(4==(4&c));(function Sx(o,a,c,d){const h=Rx(a);h.push(c),o.firstCreatePass&&Ew(o).push(d,h.length-1)})(o,a,d,d.destroy),null===a[Li]&&(a[Li]=new ry),a[Li].queries.push(new Zp(d))}function BC(o,a,c){null===o.queries&&(o.queries=new Gh),o.queries.track(new Wh(a,c))}function Kp(o,a){return o.queries.getByIndex(a)}function VC(o,a){return Fl(o,a)}function I0(o){return!!Si(o)}const _d=new kn("Application Initializer");let fy=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=me(_d,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const p=h();if(L_(p))c.push(p);else if(hD(p)){const v=new Promise((w,T)=>{p.subscribe({complete:w,error:T})});c.push(v)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Bt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),py=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Bt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const M0=new kn("LocaleId",{providedIn:"root",factory:()=>me(M0,At.Optional|At.SkipSelf)||function nI(){return typeof $localize<"u"&&$localize.locale||$h}()}),rk=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let P0=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new H.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Bt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();class PO{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let iI=(()=>{class o{compileModuleSync(c){return new bt(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=fa(Si(c).declarations).reduce((v,w)=>{const T=un(w);return T&&v.push(new Bs(T)),v},[]);return new PO(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Bt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function lk(...o){}class Go{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ya(!1),this.onMicrotaskEmpty=new ya(!1),this.onStable=new ya(!1),this.onError=new ya(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function RO(){const o="function"==typeof mn.requestAnimationFrame;let a=mn[o?"requestAnimationFrame":"setTimeout"],c=mn[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function uk(o){const a=()=>{!function ck(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(mn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,gy(o),o.isCheckStableRunning=!0,rI(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),gy(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,v,w)=>{try{return oI(o),c.invokeTask(h,p,v,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),dk(o)}},onInvoke:(c,d,h,p,v,w,T)=>{try{return oI(o),c.invoke(h,p,v,w,T)}finally{o.shouldCoalesceRunChangeDetection&&a(),dk(o)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,gy(o),rI(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Go.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(Go.isInAngularZone())throw new oe(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const p=this._inner,v=p.scheduleEventTask("NgZoneEvent: "+h,a,LO,lk,lk);try{return p.runTask(v,c,d)}finally{p.cancelTask(v)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const LO={};function rI(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function gy(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function oI(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function dk(o){o._nesting--,rI(o)}class hk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ya,this.onMicrotaskEmpty=new ya,this.onStable=new ya,this.onError=new ya}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const sI=new kn("",{providedIn:"root",factory:O0});function O0(){const o=me(Go);let a=!0;const c=new X.y(h=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{h.next(a),h.complete()})}),d=new X.y(h=>{let p;o.runOutsideAngular(()=>{p=o.onStable.subscribe(()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const v=o.onUnstable.subscribe(()=>{Go.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),v.unsubscribe()}});return(0,Q.T)(c,d.pipe((0,we.B)()))}const my=new kn(""),aI=new kn("");let yy,lI=(()=>{class o{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yy||(function uI(o){yy=o}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Go.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(j(Go),j(cI),j(aI))},o.\u0275prov=Bt({token:o,factory:o.\u0275fac}),o})(),cI=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return yy?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Bt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),zc=null;const dI=new kn("AllowMultipleToken"),hI=new kn("PlatformDestroyListeners"),Ya=new kn("appBootstrapListener");class pk{constructor(a,c){this.name=a,this.token=c}}function mk(o,a,c=[]){const d=`Platform: ${a}`,h=new kn(d);return(p=[])=>{let v=Qh();if(!v||v.injector.get(dI,!1)){const w=[...c,...p,{provide:h,useValue:!0}];o?o(w):function BO(o){if(zc&&!zc.get(dI,!1))throw new oe(400,!1);(function fk(){!function rc(o){ci=o}(()=>{throw new oe(600,!1)})})(),zc=o;const a=o.get(gI);(function gk(o){o.get(yh,null)?.forEach(c=>c())})(o)}(function pI(o=[],a){return Dc.create({name:a,providers:[{provide:$v,useValue:"platform"},{provide:hI,useValue:new Set([()=>zc=null])},...o]})}(w,d))}return function UO(o){const a=Qh();if(!a)throw new oe(401,!1);return a}()}}function Qh(){return zc?.get(gI)??null}let gI=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function yk(o="zone.js",a){return"noop"===o?new hk:"zone.js"===o?new Go(a):o}(d?.ngZone,function mI(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const p=function mA(o,a,c){return new ln(o,a,c)}(c.moduleType,this.injector,function bI(o){return[{provide:Go,useFactory:o},{provide:Qg,multi:!0,useFactory:()=>{const a=me(_k,{optional:!0});return()=>a.initialize()}},{provide:_I,useFactory:vk},{provide:sI,useFactory:O0}]}(()=>h)),v=p.injector.get(bh,null);return h.runOutsideAngular(()=>{const w=h.onError.subscribe({next:T=>{v.handleError(T)}});p.onDestroy(()=>{Jp(this._modules,p),w.unsubscribe()})}),function yI(o,a,c){try{const d=c();return L_(d)?d.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(v,h,()=>{const w=p.injector.get(fy);return w.runInitializers(),w.donePromise.then(()=>(function jE(o){Ut(o,"Expected localeId to be defined"),"string"==typeof o&&(HE=o.toLowerCase().replace(/_/g,"-"))}(p.injector.get(M0,$h)||$h),this._moduleDoBootstrap(p),p))})})}bootstrapModule(c,d=[]){const h=vI({},d);return function bd(o,a,c){const d=new bt(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(Qp);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new oe(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(hI,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(j(Dc))},o.\u0275prov=Bt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function vI(o,a){return Array.isArray(a)?a.reduce(vI,o):{...o,...a}}let Qp=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=me(_I),this.zoneIsStable=me(sI),this.componentTypes=[],this.components=[],this.isStable=me(P0).hasPendingTasks.pipe((0,De.w)(c=>c?(0,ne.of)(!1):this.zoneIsStable),function ae(o,a=se.y){return o=o??Ue,(0,$.e)((c,d)=>{let h,p=!0;c.subscribe((0,z.x)(d,v=>{const w=a(v);(p||!o(h,w))&&(p=!1,h=w,d.next(v))}))})}(),(0,we.B)()),this._injector=me(id)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof Y1;if(!this._injector.get(fy).done)throw!h&&Es(c),new oe(405,!1);let v;v=h?c:this._injector.get(n_).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const w=function fI(o){return o.isBoundToModule}(v)?void 0:this._injector.get(md),A=v.create(Dc.NULL,[],d||v.selector,w),P=A.location.nativeElement,V=A.injector.get(my,null);return V?.registerApplication(P),A.onDestroy(()=>{this.detachView(A.hostView),Jp(this.components,A),V?.unregisterApplication(P)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Jp(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Ya,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Jp(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new oe(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Bt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Jp(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}const _I=new kn("",{providedIn:"root",factory:()=>me(bh).handleError.bind(void 0)});function vk(){const o=me(Go),a=me(bh);return c=>o.runOutsideAngular(()=>a.handleError(c))}let _k=(()=>{class o{constructor(){this.zone=me(Go),this.applicationRef=me(Qp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Bt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function wk(){return!1}let Ek=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ck,o})();function Ck(o){return function Ik(o,a,c){if(Ts(o)&&!c){const d=Ji(o.index,a);return new hp(d,d)}return 47&o.type?new hp(a[qn],a):null}(Xi(),Le(),16==(16&o))}class II{constructor(){}supports(a){return gp(a)}create(a){return new kk(a)}}const Ak=(o,a)=>a;class kk{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Ak}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const v=!d||c&&c.currentIndex<SI(d,h,p)?c:d,w=SI(v,h,p),T=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{p||(p=[]);const A=w-h,P=T-h;if(A!=P){for(let Z=0;Z<A;Z++){const ee=Z<p.length?p[Z]:p[Z]=0,Me=ee+Z;P<=Me&&Me<A&&(p[Z]=ee+1)}p[v.previousIndex]=P-A}}w!==T&&a(v,w,T)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!gp(a))throw new oe(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,v,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)p=a[w],v=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,p,v,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,v,w),d=!0),c=c._next}else h=0,function yo(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,w=>{v=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,w,v,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,h)):a=this._addAfter(new Mk(c,d),p,h),a}_verifyReinsertion(a,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new TI),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TI),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Mk{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pk{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class TI{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new Pk,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SI(o,a,c){const d=o.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class xI{constructor(){}supports(a){return a instanceof Map||Ua(a)}create(){return new Nk}}class Nk{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Ua(a)))throw new oe(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const p=h._prev,v=h._next;return p&&(p._next=v),v&&(v._prev=p),h._next=null,h._prev=null,h}const d=new Ok(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class Ok{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DI(){return new V0([new II])}let V0=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||DI()),deps:[[o,new Wf,new kr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new oe(901,!1)}}return o.\u0275prov=Bt({token:o,providedIn:"root",factory:DI}),o})();function AI(){return new U0([new xI])}let U0=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||AI()),deps:[[o,new Wf,new kr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new oe(901,!1)}}return o.\u0275prov=Bt({token:o,providedIn:"root",factory:AI}),o})();const Fk=mk(null,"core",[]);let Bk=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(j(Qp))},o.\u0275mod=Md({type:o}),o.\u0275inj=lr({}),o})();function qk(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function Kk(o){const a=un(o);if(!a)return null;const c=new Bs(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3106:(gt,Ie,R)=>{"use strict";R.d(Ie,{Z:()=>Xe});var l=R(9058),L=R(4537),H=R(534),X=R(7879);class Q{constructor(Ne,be){this._delegate=Ne,this.firebase=be,(0,H._addComponent)(Ne,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=Ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this._delegate.automaticDataCollectionEnabled=Ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ne=>{this._delegate.checkDestroyed(),Ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Ne,be=H._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const xe=this._delegate.container.getProvider(Ne);return!xe.isInitialized()&&"EXPLICIT"===(null===(Je=xe.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&xe.initialize(),xe.getImmediate({identifier:be})}_removeServiceInstance(Ne,be=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ne).clearInstance(be)}_addComponent(Ne){(0,H._addComponent)(this._delegate,Ne)}_addOrOverwriteComponent(Ne){(0,H._addOrOverwriteComponent)(this._delegate,Ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function se(){const ke=function De(ke){const Ne={},be={__esModule:!0,initializeApp:function Ce(oe,te={}){const Ve=H.initializeApp(oe,te);if((0,l.r3)(Ne,Ve.name))return Ne[Ve.name];const et=new ke(Ve,be);return Ne[Ve.name]=et,et},app:xe,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Be(oe){const te=oe.name,Ve=te.replace("-compat","");if(H._registerComponent(oe)&&"PUBLIC"===oe.type){const et=(Yn=xe())=>{if("function"!=typeof Yn[Ve])throw we.create("invalid-app-argument",{appName:te});return Yn[Ve]()};void 0!==oe.serviceProps&&(0,l.ZB)(et,oe.serviceProps),be[Ve]=et,ke.prototype[Ve]=function(...Yn){return this._getService.bind(this,te).apply(this,oe.multipleInstances?Yn:[])}}return"PUBLIC"===oe.type?be[Ve]:null},removeApp:function Je(oe){delete Ne[oe]},useAsService:function je(oe,te){return"serverAuth"===te?null:te},modularAPIs:H}};function xe(oe){if(!(0,l.r3)(Ne,oe=oe||H._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:oe});return Ne[oe]}return be.default=be,Object.defineProperty(be,"apps",{get:function _e(){return Object.keys(Ne).map(oe=>Ne[oe])}}),xe.App=ke,be}(Q);return ke.INTERNAL=Object.assign(Object.assign({},ke.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function Ne(be){(0,l.ZB)(ke,be)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ke}(),z=new X.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ke=self.firebase.SDK_VERSION;ke&&ke.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=$;!function ue(ke){(0,H.registerVersion)("@firebase/app-compat","0.2.13",ke)}()},534:(gt,Ie,R)=>{"use strict";R.r(Ie),R.d(Ie,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>Ca,_DEFAULT_ENTRY_NAME:()=>Ln,_addComponent:()=>At,_addOrOverwriteComponent:()=>Zi,_apps:()=>Ht,_clearComponents:()=>Dn,_components:()=>Hn,_getProvider:()=>hn,_registerComponent:()=>Br,_removeServiceInstance:()=>Do,deleteApp:()=>Ki,getApp:()=>Ei,getApps:()=>cr,initializeApp:()=>es,onLog:()=>oi,registerVersion:()=>ur,setLogLevel:()=>Ao});var l=R(5861),L=R(4537),H=R(7879),X=R(9058);const Q=(Ee,re)=>re.some($e=>Ee instanceof $e);let ne,we;const $=new WeakMap,z=new WeakMap,ae=new WeakMap,Ue=new WeakMap,ue=new WeakMap;let Ne={get(Ee,re,$e){if(Ee instanceof IDBTransaction){if("done"===re)return z.get(Ee);if("objectStoreNames"===re)return Ee.objectStoreNames||ae.get(Ee);if("store"===re)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return Ce(Ee[re])},set:(Ee,re,$e)=>(Ee[re]=$e,!0),has:(Ee,re)=>Ee instanceof IDBTransaction&&("done"===re||"store"===re)||re in Ee};function xe(Ee){return"function"==typeof Ee?function Je(Ee){return Ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ee)?function(...re){return Ee.apply(_e(this),re),Ce($.get(this))}:function(...re){return Ce(Ee.apply(_e(this),re))}:function(re,...$e){const ht=Ee.call(_e(this),re,...$e);return ae.set(ht,re.sort?re.sort():[re]),Ce(ht)}}(Ee):(Ee instanceof IDBTransaction&&function ke(Ee){if(z.has(Ee))return;const re=new Promise(($e,ht)=>{const kt=()=>{Ee.removeEventListener("complete",jt),Ee.removeEventListener("error",fn),Ee.removeEventListener("abort",fn)},jt=()=>{$e(),kt()},fn=()=>{ht(Ee.error||new DOMException("AbortError","AbortError")),kt()};Ee.addEventListener("complete",jt),Ee.addEventListener("error",fn),Ee.addEventListener("abort",fn)});z.set(Ee,re)}(Ee),Q(Ee,function De(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ee,Ne):Ee)}function Ce(Ee){if(Ee instanceof IDBRequest)return function Xe(Ee){const re=new Promise(($e,ht)=>{const kt=()=>{Ee.removeEventListener("success",jt),Ee.removeEventListener("error",fn)},jt=()=>{$e(Ce(Ee.result)),kt()},fn=()=>{ht(Ee.error),kt()};Ee.addEventListener("success",jt),Ee.addEventListener("error",fn)});return re.then($e=>{$e instanceof IDBCursor&&$.set($e,Ee)}).catch(()=>{}),ue.set(re,Ee),re}(Ee);if(Ue.has(Ee))return Ue.get(Ee);const re=xe(Ee);return re!==Ee&&(Ue.set(Ee,re),ue.set(re,Ee)),re}const _e=Ee=>ue.get(Ee),oe=["get","getKey","getAll","getAllKeys","count"],te=["put","add","delete","clear"],Ve=new Map;function et(Ee,re){if(!(Ee instanceof IDBDatabase)||re in Ee||"string"!=typeof re)return;if(Ve.get(re))return Ve.get(re);const $e=re.replace(/FromIndex$/,""),ht=re!==$e,kt=te.includes($e);if(!($e in(ht?IDBIndex:IDBObjectStore).prototype)||!kt&&!oe.includes($e))return;const jt=function(){var fn=(0,l.Z)(function*(si,...Gn){const ns=this.transaction(si,kt?"readwrite":"readonly");let ko=ns.store;return ht&&(ko=ko.index(Gn.shift())),(yield Promise.all([ko[$e](...Gn),kt&&ns.done]))[0]});return function(Gn){return fn.apply(this,arguments)}}();return Ve.set(re,jt),jt}!function be(Ee){Ne=Ee(Ne)}(Ee=>({...Ee,get:(re,$e,ht)=>et(re,$e)||Ee.get(re,$e,ht),has:(re,$e)=>!!et(re,$e)||Ee.has(re,$e)}));class Yn{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function zi(Ee){const re=Ee.getComponent();return"VERSION"===re?.type}($e)){const ht=$e.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter($e=>$e).join(" ")}}const br="@firebase/app",Mn=new H.Yd("@firebase/app"),Ln="[DEFAULT]",Wt={[br]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ht=new Map,Hn=new Map;function At(Ee,re){try{Ee.container.addComponent(re)}catch($e){Mn.debug(`Component ${re.name} failed to register with FirebaseApp ${Ee.name}`,$e)}}function Zi(Ee,re){Ee.container.addOrOverwriteComponent(re)}function Br(Ee){const re=Ee.name;if(Hn.has(re))return Mn.debug(`There were multiple attempts to register component ${re}.`),!1;Hn.set(re,Ee);for(const $e of Ht.values())At($e,Ee);return!0}function hn(Ee,re){const $e=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),Ee.container.getProvider(re)}function Do(Ee,re,$e=Ln){hn(Ee,re).clearInstance($e)}function Dn(){Hn.clear()}const Kt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $l{constructor(re,$e,ht){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}const Ca="9.23.0";function es(Ee,re={}){let $e=Ee;"object"!=typeof re&&(re={name:re});const ht=Object.assign({name:Ln,automaticDataCollectionEnabled:!1},re),kt=ht.name;if("string"!=typeof kt||!kt)throw Kt.create("bad-app-name",{appName:String(kt)});if($e||($e=(0,X.aH)()),!$e)throw Kt.create("no-options");const jt=Ht.get(kt);if(jt){if((0,X.vZ)($e,jt.options)&&(0,X.vZ)(ht,jt.config))return jt;throw Kt.create("duplicate-app",{appName:kt})}const fn=new L.H0(kt);for(const Gn of Hn.values())fn.addComponent(Gn);const si=new $l($e,ht,fn);return Ht.set(kt,si),si}function Ei(Ee=Ln){const re=Ht.get(Ee);if(!re&&Ee===Ln&&(0,X.aH)())return es();if(!re)throw Kt.create("no-app",{appName:Ee});return re}function cr(){return Array.from(Ht.values())}function Ki(Ee){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(Ee){const re=Ee.name;Ht.has(re)&&(Ht.delete(re),yield Promise.all(Ee.container.getProviders().map($e=>$e.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function ur(Ee,re,$e){var ht;let kt=null!==(ht=Wt[Ee])&&void 0!==ht?ht:Ee;$e&&(kt+=`-${$e}`);const jt=kt.match(/\s|\//),fn=re.match(/\s|\//);if(jt||fn){const si=[`Unable to register library "${kt}" with version "${re}":`];return jt&&si.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),jt&&fn&&si.push("and"),fn&&si.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void Mn.warn(si.join(" "))}Br(new L.wA(`${kt}-version`,()=>({library:kt,version:re}),"VERSION"))}function oi(Ee,re){if(null!==Ee&&"function"!=typeof Ee)throw Kt.create("invalid-log-argument");(0,H.Am)(Ee,re)}function Ao(Ee){(0,H.Ub)(Ee)}const Vr="firebase-heartbeat-database",vi=1,W="firebase-heartbeat-store";let j=null;function Y(){return j||(j=function Be(Ee,re,{blocked:$e,upgrade:ht,blocking:kt,terminated:jt}={}){const fn=indexedDB.open(Ee,re),si=Ce(fn);return ht&&fn.addEventListener("upgradeneeded",Gn=>{ht(Ce(fn.result),Gn.oldVersion,Gn.newVersion,Ce(fn.transaction),Gn)}),$e&&fn.addEventListener("blocked",Gn=>$e(Gn.oldVersion,Gn.newVersion,Gn)),si.then(Gn=>{jt&&Gn.addEventListener("close",()=>jt()),kt&&Gn.addEventListener("versionchange",ns=>kt(ns.oldVersion,ns.newVersion,ns))}).catch(()=>{}),si}(Vr,vi,{upgrade:(Ee,re)=>{0===re&&Ee.createObjectStore(W)}}).catch(Ee=>{throw Kt.create("idb-open",{originalErrorMessage:Ee.message})})),j}function le(){return(le=(0,l.Z)(function*(Ee){try{return yield(yield Y()).transaction(W).objectStore(W).get(cn(Ee))}catch(re){if(re instanceof X.ZR)Mn.warn(re.message);else{const $e=Kt.create("idb-get",{originalErrorMessage:re?.message});Mn.warn($e.message)}}})).apply(this,arguments)}function ct(Ee,re){return It.apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(Ee,re){try{const ht=(yield Y()).transaction(W,"readwrite");yield ht.objectStore(W).put(re,cn(Ee)),yield ht.done}catch($e){if($e instanceof X.ZR)Mn.warn($e.message);else{const ht=Kt.create("idb-set",{originalErrorMessage:$e?.message});Mn.warn(ht.message)}}})).apply(this,arguments)}function cn(Ee){return`${Ee.name}!${Ee.options.appId}`}class $n{constructor(re){this.container=re,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new ti($e),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var re=this;return(0,l.Z)(function*(){const ht=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=en();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==kt&&!re._heartbeatsCache.heartbeats.some(jt=>jt.date===kt))return re._heartbeatsCache.heartbeats.push({date:kt,agent:ht}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(jt=>{const fn=new Date(jt.date).valueOf();return Date.now()-fn<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,l.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const $e=en(),{heartbeatsToSend:ht,unsentEntries:kt}=function zn(Ee,re=1024){const $e=[];let ht=Ee.slice();for(const kt of Ee){const jt=$e.find(fn=>fn.agent===kt.agent);if(jt){if(jt.dates.push(kt.date),Yt($e)>re){jt.dates.pop();break}}else if($e.push({agent:kt.agent,dates:[kt.date]}),Yt($e)>re){$e.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:$e,unsentEntries:ht}}(re._heartbeatsCache.heartbeats),jt=(0,X.L)(JSON.stringify({version:2,heartbeats:ht}));return re._heartbeatsCache.lastSentHeartbeatDate=$e,kt.length>0?(re._heartbeatsCache.heartbeats=kt,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),jt})()}}function en(){return(new Date).toISOString().substring(0,10)}class ti{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,l.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function me(Ee){return le.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var $e=this;return(0,l.Z)(function*(){var ht;if(yield $e._canUseIndexedDBPromise){const jt=yield $e.read();return ct($e.app,{lastSentHeartbeatDate:null!==(ht=re.lastSentHeartbeatDate)&&void 0!==ht?ht:jt.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var $e=this;return(0,l.Z)(function*(){var ht;if(yield $e._canUseIndexedDBPromise){const jt=yield $e.read();return ct($e.app,{lastSentHeartbeatDate:null!==(ht=re.lastSentHeartbeatDate)&&void 0!==ht?ht:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...re.heartbeats]})}})()}}function Yt(Ee){return(0,X.L)(JSON.stringify({version:2,heartbeats:Ee})).length}!function ts(Ee){Br(new L.wA("platform-logger",re=>new Yn(re),"PRIVATE")),Br(new L.wA("heartbeat",re=>new $n(re),"PRIVATE")),ur(br,"0.9.13",Ee),ur(br,"0.9.13","esm2017"),ur("fire-js","")}("")},4537:(gt,Ie,R)=>{"use strict";R.d(Ie,{H0:()=>De,wA:()=>H});var l=R(5861),L=R(9058);class H{constructor($,z,ae){this.name=$,this.instanceFactory=z,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const X="[DEFAULT]";class Q{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const ae=new L.BH;if(this.instancesDeferred.set(z,ae),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:z});Ue&&ae.resolve(Ue)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const ae=this.normalizeInstanceIdentifier($?.identifier),Ue=null!==(z=$?.optional)&&void 0!==z&&z;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(ue){if(Ue)return null;throw ue}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function we(se){return"EAGER"===se.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[z,ae]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(z);try{const ue=this.getOrInitializeService({instanceIdentifier:Ue});ae.resolve(ue)}catch{}}}}clearInstance($=X){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,l.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...z.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=X){return this.instances.has($)}getOptions($=X){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,ae=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:ae,options:z});for(const[ue,Xe]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(ue)&&Xe.resolve(Ue);return Ue}onInit($,z){var ae;const Ue=this.normalizeInstanceIdentifier(z),ue=null!==(ae=this.onInitCallbacks.get(Ue))&&void 0!==ae?ae:new Set;ue.add($),this.onInitCallbacks.set(Ue,ue);const Xe=this.instances.get(Ue);return Xe&&$(Xe,Ue),()=>{ue.delete($)}}invokeOnInitCallbacks($,z){const ae=this.onInitCallbacks.get(z);if(ae)for(const Ue of ae)try{Ue($,z)}catch{}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let ae=this.instances.get($);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(se=$,se===X?void 0:se),options:z}),this.instances.set($,ae),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(ae,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,ae)}catch{}var se;return ae||null}normalizeInstanceIdentifier($=X){return this.component?this.component.multipleInstances?$:X:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class De{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new Q($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},7879:(gt,Ie,R)=>{"use strict";R.d(Ie,{Am:()=>se,Ub:()=>De,Yd:()=>we,in:()=>L});const l=[];var L=function($){return $[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",$}(L||{});const H={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},X=L.INFO,Q={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ne=($,z,...ae)=>{if(z<$.logLevel)return;const Ue=(new Date).toISOString(),ue=Q[z];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ue](`[${Ue}]  ${$.name}:`,...ae)};class we{constructor(z){this.name=z,this._logLevel=X,this._logHandler=ne,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in L))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?H[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...z),this._logHandler(this,L.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...z),this._logHandler(this,L.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,L.INFO,...z),this._logHandler(this,L.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,L.WARN,...z),this._logHandler(this,L.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...z),this._logHandler(this,L.ERROR,...z)}}function De($){l.forEach(z=>{z.setLogLevel($)})}function se($,z){for(const ae of l){let Ue=null;z&&z.level&&(Ue=H[z.level]),ae.userLogHandler=null===$?null:(ue,Xe,...ke)=>{const Ne=ke.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Xe>=(Ue??ue.logLevel)&&$({level:L[Xe].toLowerCase(),message:Ne,args:ke,type:ue.name})}}}},3182:(gt,Ie,R)=>{"use strict";R.d(Ie,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp,ZR:()=>l.FirebaseError});var l=R(534);(0,l.registerVersion)("firebase","9.23.0","app")},7142:(gt,Ie,R)=>{"use strict";R.d(Ie,{Z:()=>l.Z});var l=R(3106);l.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(gt,Ie,R)=>{"use strict";function l(H,X,Q,ne,we,De,se){try{var $=H[De](se),z=$.value}catch(ae){return void Q(ae)}$.done?X(z):Promise.resolve(z).then(ne,we)}function L(H){return function(){var X=this,Q=arguments;return new Promise(function(ne,we){var De=H.apply(X,Q);function se(z){l(De,ne,we,se,$,"next",z)}function $(z){l(De,ne,we,se,$,"throw",z)}se(void 0)})}}R.d(Ie,{Z:()=>L})},7582:(gt,Ie,R)=>{"use strict";function X(ge,de){var Ae={};for(var he in ge)Object.prototype.hasOwnProperty.call(ge,he)&&de.indexOf(he)<0&&(Ae[he]=ge[he]);if(null!=ge&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(he=Object.getOwnPropertySymbols(ge);Pe<he.length;Pe++)de.indexOf(he[Pe])<0&&Object.prototype.propertyIsEnumerable.call(ge,he[Pe])&&(Ae[he[Pe]]=ge[he[Pe]])}return Ae}function ae(ge,de,Ae,he){return new(Ae||(Ae=Promise))(function(We,yt){function on(Ut){try{Nt(he.next(Ut))}catch(wt){yt(wt)}}function In(Ut){try{Nt(he.throw(Ut))}catch(wt){yt(wt)}}function Nt(Ut){Ut.done?We(Ut.value):function Pe(We){return We instanceof Ae?We:new Ae(function(yt){yt(We)})}(Ut.value).then(on,In)}Nt((he=he.apply(ge,de||[])).next())})}function Ce(ge){return this instanceof Ce?(this.v=ge,this):new Ce(ge)}function _e(ge,de,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,he=Ae.apply(ge,de||[]),We=[];return Pe={},yt("next"),yt("throw"),yt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function yt(Tn){he[Tn]&&(Pe[Tn]=function(Gi){return new Promise(function(Wi,Bt){We.push([Tn,Gi,Wi,Bt])>1||on(Tn,Gi)})})}function on(Tn,Gi){try{!function In(Tn){Tn.value instanceof Ce?Promise.resolve(Tn.value.v).then(Nt,Ut):wt(We[0][2],Tn)}(he[Tn](Gi))}catch(Wi){wt(We[0][3],Wi)}}function Nt(Tn){on("next",Tn)}function Ut(Tn){on("throw",Tn)}function wt(Tn,Gi){Tn(Gi),We.shift(),We.length&&on(We[0][0],We[0][1])}}function je(ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,de=ge[Symbol.asyncIterator];return de?de.call(ge):(ge=function ke(ge){var de="function"==typeof Symbol&&Symbol.iterator,Ae=de&&ge[de],he=0;if(Ae)return Ae.call(ge);if(ge&&"number"==typeof ge.length)return{next:function(){return ge&&he>=ge.length&&(ge=void 0),{value:ge&&ge[he++],done:!ge}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(ge),Ae={},he("next"),he("throw"),he("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function he(We){Ae[We]=ge[We]&&function(yt){return new Promise(function(on,In){!function Pe(We,yt,on,In){Promise.resolve(In).then(function(Nt){We({value:Nt,done:on})},yt)}(on,In,(yt=ge[We](yt)).done,yt.value)})}}}R.d(Ie,{FC:()=>_e,KL:()=>je,_T:()=>X,mG:()=>ae,qq:()=>Ce}),"function"==typeof SuppressedError&&SuppressedError}},gt=>{gt(gt.s=3833)}]);